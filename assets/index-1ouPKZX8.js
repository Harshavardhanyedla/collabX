(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function yb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gm={exports:{}},_c={},ym={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function dA(){if(Cx)return Fe;Cx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function I($,J,we){this.props=$,this.context=J,this.refs=A,this.updater=we||T}I.prototype.isReactComponent={},I.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=I.prototype;function N($,J,we){this.props=$,this.context=J,this.refs=A,this.updater=we||T}var F=N.prototype=new j;F.constructor=N,k(F,I.prototype),F.isPureReactComponent=!0;var W=Array.isArray,G=Object.prototype.hasOwnProperty,q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C($,J,we){var xe,Ne={},be=null,Oe=null;if(J!=null)for(xe in J.ref!==void 0&&(Oe=J.ref),J.key!==void 0&&(be=""+J.key),J)G.call(J,xe)&&!R.hasOwnProperty(xe)&&(Ne[xe]=J[xe]);var Pe=arguments.length-2;if(Pe===1)Ne.children=we;else if(1<Pe){for(var Me=Array(Pe),De=0;De<Pe;De++)Me[De]=arguments[De+2];Ne.children=Me}if($&&$.defaultProps)for(xe in Pe=$.defaultProps,Pe)Ne[xe]===void 0&&(Ne[xe]=Pe[xe]);return{$$typeof:t,type:$,key:be,ref:Oe,props:Ne,_owner:q.current}}function D($,J){return{$$typeof:t,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function O($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(we){return J[we]})}var z=/\/+/g;function M($,J){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):J.toString(36)}function Le($,J,we,xe,Ne){var be=typeof $;(be==="undefined"||be==="boolean")&&($=null);var Oe=!1;if($===null)Oe=!0;else switch(be){case"string":case"number":Oe=!0;break;case"object":switch($.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=$,Ne=Ne(Oe),$=xe===""?"."+M(Oe,0):xe,W(Ne)?(we="",$!=null&&(we=$.replace(z,"$&/")+"/"),Le(Ne,J,we,"",function(De){return De})):Ne!=null&&(L(Ne)&&(Ne=D(Ne,we+(!Ne.key||Oe&&Oe.key===Ne.key?"":(""+Ne.key).replace(z,"$&/")+"/")+$)),J.push(Ne)),1;if(Oe=0,xe=xe===""?".":xe+":",W($))for(var Pe=0;Pe<$.length;Pe++){be=$[Pe];var Me=xe+M(be,Pe);Oe+=Le(be,J,we,Me,Ne)}else if(Me=_($),typeof Me=="function")for($=Me.call($),Pe=0;!(be=$.next()).done;)be=be.value,Me=xe+M(be,Pe++),Oe+=Le(be,J,we,Me,Ne);else if(be==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Oe}function et($,J,we){if($==null)return $;var xe=[],Ne=0;return Le($,xe,"","",function(be){return J.call(we,be,Ne++)}),xe}function fe($){if($._status===-1){var J=$._result;J=J(),J.then(function(we){($._status===0||$._status===-1)&&($._status=1,$._result=we)},function(we){($._status===0||$._status===-1)&&($._status=2,$._result=we)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var se={current:null},ee={transition:null},ce={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:ee,ReactCurrentOwner:q};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:et,forEach:function($,J,we){et($,function(){J.apply(this,arguments)},we)},count:function($){var J=0;return et($,function(){J++}),J},toArray:function($){return et($,function(J){return J})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Fe.Component=I,Fe.Fragment=n,Fe.Profiler=s,Fe.PureComponent=N,Fe.StrictMode=r,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Fe.act=ae,Fe.cloneElement=function($,J,we){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var xe=k({},$.props),Ne=$.key,be=$.ref,Oe=$._owner;if(J!=null){if(J.ref!==void 0&&(be=J.ref,Oe=q.current),J.key!==void 0&&(Ne=""+J.key),$.type&&$.type.defaultProps)var Pe=$.type.defaultProps;for(Me in J)G.call(J,Me)&&!R.hasOwnProperty(Me)&&(xe[Me]=J[Me]===void 0&&Pe!==void 0?Pe[Me]:J[Me])}var Me=arguments.length-2;if(Me===1)xe.children=we;else if(1<Me){Pe=Array(Me);for(var De=0;De<Me;De++)Pe[De]=arguments[De+2];xe.children=Pe}return{$$typeof:t,type:$.type,key:Ne,ref:be,props:xe,_owner:Oe}},Fe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Fe.createElement=C,Fe.createFactory=function($){var J=C.bind(null,$);return J.type=$,J},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function($){return{$$typeof:u,render:$}},Fe.isValidElement=L,Fe.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:fe}},Fe.memo=function($,J){return{$$typeof:f,type:$,compare:J===void 0?null:J}},Fe.startTransition=function($){var J=ee.transition;ee.transition={};try{$()}finally{ee.transition=J}},Fe.unstable_act=ae,Fe.useCallback=function($,J){return se.current.useCallback($,J)},Fe.useContext=function($){return se.current.useContext($)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function($){return se.current.useDeferredValue($)},Fe.useEffect=function($,J){return se.current.useEffect($,J)},Fe.useId=function(){return se.current.useId()},Fe.useImperativeHandle=function($,J,we){return se.current.useImperativeHandle($,J,we)},Fe.useInsertionEffect=function($,J){return se.current.useInsertionEffect($,J)},Fe.useLayoutEffect=function($,J){return se.current.useLayoutEffect($,J)},Fe.useMemo=function($,J){return se.current.useMemo($,J)},Fe.useReducer=function($,J,we){return se.current.useReducer($,J,we)},Fe.useRef=function($){return se.current.useRef($)},Fe.useState=function($){return se.current.useState($)},Fe.useSyncExternalStore=function($,J,we){return se.current.useSyncExternalStore($,J,we)},Fe.useTransition=function(){return se.current.useTransition()},Fe.version="18.3.1",Fe}var Rx;function fy(){return Rx||(Rx=1,ym.exports=dA()),ym.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function hA(){if(Ax)return _c;Ax=1;var t=fy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var g,v={},_=null,T=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(v[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:u,key:_,ref:T,props:v,_owner:s.current}}return _c.Fragment=n,_c.jsx=l,_c.jsxs=l,_c}var Px;function fA(){return Px||(Px=1,gm.exports=hA()),gm.exports}var m=fA(),b=fy();const ln=yb(b);var Kd={},vm={exports:{}},$n={},wm={exports:{}},xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function pA(){return kx||(kx=1,(function(t){function e(ee,ce){var ae=ee.length;ee.push(ce);e:for(;0<ae;){var $=ae-1>>>1,J=ee[$];if(0<s(J,ce))ee[$]=ce,ee[ae]=J,ae=$;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ce=ee[0],ae=ee.pop();if(ae!==ce){ee[0]=ae;e:for(var $=0,J=ee.length,we=J>>>1;$<we;){var xe=2*($+1)-1,Ne=ee[xe],be=xe+1,Oe=ee[be];if(0>s(Ne,ae))be<J&&0>s(Oe,Ne)?(ee[$]=Oe,ee[be]=ae,$=be):(ee[$]=Ne,ee[xe]=ae,$=xe);else if(be<J&&0>s(Oe,ae))ee[$]=Oe,ee[be]=ae,$=be;else break e}}return ce}function s(ee,ce){var ae=ee.sortIndex-ce.sortIndex;return ae!==0?ae:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,v=null,_=3,T=!1,k=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ee){for(var ce=n(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=ee)r(f),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(f)}}function W(ee){if(A=!1,F(ee),!k)if(n(d)!==null)k=!0,fe(G);else{var ce=n(f);ce!==null&&se(W,ce.startTime-ee)}}function G(ee,ce){k=!1,A&&(A=!1,j(C),C=-1),T=!0;var ae=_;try{for(F(ce),v=n(d);v!==null&&(!(v.expirationTime>ce)||ee&&!O());){var $=v.callback;if(typeof $=="function"){v.callback=null,_=v.priorityLevel;var J=$(v.expirationTime<=ce);ce=t.unstable_now(),typeof J=="function"?v.callback=J:v===n(d)&&r(d),F(ce)}else r(d);v=n(d)}if(v!==null)var we=!0;else{var xe=n(f);xe!==null&&se(W,xe.startTime-ce),we=!1}return we}finally{v=null,_=ae,T=!1}}var q=!1,R=null,C=-1,D=5,L=-1;function O(){return!(t.unstable_now()-L<D)}function z(){if(R!==null){var ee=t.unstable_now();L=ee;var ce=!0;try{ce=R(!0,ee)}finally{ce?M():(q=!1,R=null)}}else q=!1}var M;if(typeof N=="function")M=function(){N(z)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,et=Le.port2;Le.port1.onmessage=z,M=function(){et.postMessage(null)}}else M=function(){I(z,0)};function fe(ee){R=ee,q||(q=!0,M())}function se(ee,ce){C=I(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){k||T||(k=!0,fe(G))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ee){switch(_){case 1:case 2:case 3:var ce=3;break;default:ce=_}var ae=_;_=ce;try{return ee()}finally{_=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ae=_;_=ee;try{return ce()}finally{_=ae}},t.unstable_scheduleCallback=function(ee,ce,ae){var $=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,ee){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,ee={id:g++,callback:ce,priorityLevel:ee,startTime:ae,expirationTime:J,sortIndex:-1},ae>$?(ee.sortIndex=ae,e(f,ee),n(d)===null&&ee===n(f)&&(A?(j(C),C=-1):A=!0,se(W,ae-$))):(ee.sortIndex=J,e(d,ee),k||T||(k=!0,fe(G))),ee},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ee){var ce=_;return function(){var ae=_;_=ce;try{return ee.apply(this,arguments)}finally{_=ae}}}})(xm)),xm}var Nx;function mA(){return Nx||(Nx=1,wm.exports=pA()),wm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx;function gA(){if(Dx)return $n;Dx=1;var t=fy(),e=mA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(i){return d.call(v,i)?!0:d.call(g,i)?!1:f.test(i)?v[i]=!0:(g[i]=!0,!1)}function T(i,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,c,p){if(o===null||typeof o>"u"||T(i,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(i,o,c,p,y,w,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=S}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){I[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];I[o]=new A(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){I[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){I[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){I[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){I[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){I[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){I[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){I[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(j,N);I[o]=new A(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(j,N);I[o]=new A(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(j,N);I[o]=new A(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){I[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),I.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){I[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,c,p){var y=I.hasOwnProperty(o)?I[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,c,y,p)&&(c=null),p||y===null?_(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,p=y.attributeNamespace,c===null?i.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?i.setAttributeNS(p,o,c):i.setAttribute(o,c))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,$;function J(i){if($===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var we=!1;function xe(i,o){if(!i||we)return"";we=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var p=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){p=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){p=Y}i()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),w=p.stack.split(`
`),S=y.length-1,V=w.length-1;1<=S&&0<=V&&y[S]!==w[V];)V--;for(;1<=S&&0<=V;S--,V--)if(y[S]!==w[V]){if(S!==1||V!==1)do if(S--,V--,0>V||y[S]!==w[V]){var U=`
`+y[S].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=S&&0<=V);break}}}finally{we=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?J(i):""}function Ne(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case q:return"Portal";case D:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case Le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case et:return o=i.displayName||null,o!==null?o:be(i.type)||"Memo";case fe:o=i._payload,i=i._init;try{return be(i(o))}catch{}}return null}function Oe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Pe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function De(i){var o=Me(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(S){p=""+S,w.call(this,S)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function dr(i){i._valueTracker||(i._valueTracker=De(i))}function fn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return i&&(p=Me(i)?i.checked?"true":"false":i.value),i=p,i!==c?(o.setValue(i),!0):!1}function Cn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function pn(i,o){var c=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Nr(i,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=Pe(o.value!=null?o.value:c),i._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Yn(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function es(i,o){Yn(i,o);var c=Pe(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ut(i,o.type,c):o.hasOwnProperty("defaultValue")&&ut(i,o.type,Pe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function di(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ut(i,o,c){(o!=="number"||Cn(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ze=Array.isArray;function mn(i,o,c,p){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&p&&(i[c].defaultSelected=!0)}else{for(c=""+Pe(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function ts(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hi(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Ze(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:Pe(c)}}function go(i,o){var c=Pe(o.value),p=Pe(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),p!=null&&(i.defaultValue=""+p)}function ns(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function yo(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?yo(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Rn,rs=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,y){MSApp.execUnsafeLocalFunction(function(){return i(o,c,p,y)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Rn=Rn||document.createElement("div"),Rn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Rn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ss(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vo=["Webkit","ms","Moz","O"];Object.keys(Yt).forEach(function(i){vo.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Yt[o]=Yt[i]})});function is(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Yt.hasOwnProperty(i)&&Yt[i]?(""+o).trim():o+"px"}function fi(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=is(c,o[c],p);c==="float"&&(c="cssFloat"),p?i.setProperty(c,y):i[c]=y}}var Ms=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mn(i,o){if(o){if(Ms[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function pi(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dr=null;function mi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jr=null,Lr=null,Ve=null;function Mt(i){if(i=oc(i)){if(typeof jr!="function")throw Error(n(280));var o=i.stateNode;o&&(o=ld(o),jr(i.stateNode,i.type,o))}}function vt(i){Lr?Ve?Ve.push(i):Ve=[i]:Lr=i}function Xt(){if(Lr){var i=Lr,o=Ve;if(Ve=Lr=null,Mt(i),o)for(i=0;i<o.length;i++)Mt(o[i])}}function Jt(i,o){return i(o)}function zt(){}var bt=!1;function Mr(i,o,c){if(bt)return i(o,c);bt=!0;try{return Jt(i,o,c)}finally{bt=!1,(Lr!==null||Ve!==null)&&(zt(),Xt())}}function it(i,o){var c=i.stateNode;if(c===null)return null;var p=ld(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Zt=!1;if(u)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Zt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{Zt=!1}function Vn(i,o,c,p,y,w,S,V,U){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(re){this.onError(re)}}var An=!1,gn=null,Pn=!1,$t=null,gi={onError:function(i){An=!0,gn=i}};function Bu(i,o,c,p,y,w,S,V,U){An=!1,gn=null,Vn.apply(gi,arguments)}function jl(i,o,c,p,y,w,S,V,U){if(Bu.apply(this,arguments),An){if(An){var Y=gn;An=!1,gn=null}else throw Error(n(198));Pn||(Pn=!0,$t=Y)}}function Vr(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Ll(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function zu(i){if(Vr(i)!==i)throw Error(n(188))}function $u(i){var o=i.alternate;if(!o){if(o=Vr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,p=o;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return zu(y),i;if(w===p)return zu(y),o;w=w.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=w;else{for(var S=!1,V=y.child;V;){if(V===c){S=!0,c=y,p=w;break}if(V===p){S=!0,p=y,c=w;break}V=V.sibling}if(!S){for(V=w.child;V;){if(V===c){S=!0,c=w,p=y;break}if(V===p){S=!0,p=w,c=y;break}V=V.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function Wu(i){return i=$u(i),i!==null?wo(i):null}function wo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=wo(i);if(o!==null)return o;i=i.sibling}return null}var Ml=e.unstable_scheduleCallback,ma=e.unstable_cancelCallback,xo=e.unstable_shouldYield,Vs=e.unstable_requestPaint,ot=e.unstable_now,Kf=e.unstable_getCurrentPriorityLevel,ga=e.unstable_ImmediatePriority,Vl=e.unstable_UserBlockingPriority,_o=e.unstable_NormalPriority,Ol=e.unstable_LowPriority,ya=e.unstable_IdlePriority,Eo=null,Jn=null;function qu(i){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Eo,i,void 0,(i.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:bo,os=Math.log,hr=Math.LN2;function bo(i){return i>>>=0,i===0?32:31-(os(i)/hr|0)|0}var as=64,yi=4194304;function Qe(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Os(i,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes,S=c&268435455;if(S!==0){var V=S&~y;V!==0?p=Qe(V):(w&=S,w!==0&&(p=Qe(w)))}else S=c&~y,S!==0?p=Qe(S):w!==0&&(p=Qe(w));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,w=o&-o,y>=w||y===16&&(w&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)c=31-Zn(o),y=1<<c,p|=i[c],o&=~y;return p}function To(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(i,o){for(var c=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes;0<w;){var S=31-Zn(w),V=1<<S,U=y[S];U===-1?((V&c)===0||(V&p)!==0)&&(y[S]=To(V,o)):U<=o&&(i.expiredLanes|=V),w&=~V}}function Fl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ul(){var i=as;return as<<=1,(as&4194240)===0&&(as=64),i}function Bl(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Io(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zn(o),i[o]=c}function Gf(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-Zn(c),w=1<<y;o[y]=0,p[y]=-1,i[y]=-1,c&=~w}}function zl(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var p=31-Zn(c),y=1<<p;y&o|i[p]&o&&(i[p]|=o),c&=~y}}var We=0;function ls(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var $l,va,Wl,ql,Hl,cs=!1,wa=[],us=null,ds=null,en=null,Co=new Map,Fs=new Map,er=[],Hu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vi(i,o){switch(i){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Co.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(o.pointerId)}}function Or(i,o,c,p,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},o!==null&&(o=oc(o),o!==null&&va(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function Ku(i,o,c,p,y){switch(o){case"focusin":return us=Or(us,i,o,c,p,y),!0;case"dragenter":return ds=Or(ds,i,o,c,p,y),!0;case"mouseover":return en=Or(en,i,o,c,p,y),!0;case"pointerover":var w=y.pointerId;return Co.set(w,Or(Co.get(w)||null,i,o,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Fs.set(w,Or(Fs.get(w)||null,i,o,c,p,y)),!0}return!1}function xa(i){var o=ko(i.target);if(o!==null){var c=Vr(o);if(c!==null){if(o=c.tag,o===13){if(o=Ll(c),o!==null){i.blockedOn=o,Hl(i.priority,function(){Wl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nt(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=_a(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);Dr=p,c.target.dispatchEvent(p),Dr=null}else return o=oc(c),o!==null&&va(o),i.blockedOn=c,!1;o.shift()}return!0}function Gu(i,o,c){nt(i)&&c.delete(o)}function Qf(){cs=!1,us!==null&&nt(us)&&(us=null),ds!==null&&nt(ds)&&(ds=null),en!==null&&nt(en)&&(en=null),Co.forEach(Gu),Fs.forEach(Gu)}function wi(i,o){i.blockedOn===o&&(i.blockedOn=null,cs||(cs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qf)))}function xi(i){function o(y){return wi(y,i)}if(0<wa.length){wi(wa[0],i);for(var c=1;c<wa.length;c++){var p=wa[c];p.blockedOn===i&&(p.blockedOn=null)}}for(us!==null&&wi(us,i),ds!==null&&wi(ds,i),en!==null&&wi(en,i),Co.forEach(o),Fs.forEach(o),c=0;c<er.length;c++)p=er[c],p.blockedOn===i&&(p.blockedOn=null);for(;0<er.length&&(c=er[0],c.blockedOn===null);)xa(c),c.blockedOn===null&&er.shift()}var Us=W.ReactCurrentBatchConfig,Bs=!0;function hs(i,o,c,p){var y=We,w=Us.transition;Us.transition=null;try{We=1,Kl(i,o,c,p)}finally{We=y,Us.transition=w}}function Qu(i,o,c,p){var y=We,w=Us.transition;Us.transition=null;try{We=4,Kl(i,o,c,p)}finally{We=y,Us.transition=w}}function Kl(i,o,c,p){if(Bs){var y=_a(i,o,c,p);if(y===null)op(i,o,p,fs,c),vi(i,p);else if(Ku(y,i,o,c,p))p.stopPropagation();else if(vi(i,p),o&4&&-1<Hu.indexOf(i)){for(;y!==null;){var w=oc(y);if(w!==null&&$l(w),w=_a(i,o,c,p),w===null&&op(i,o,p,fs,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else op(i,o,p,null,c)}}var fs=null;function _a(i,o,c,p){if(fs=null,i=mi(p),i=ko(i),i!==null)if(o=Vr(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Ll(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return fs=i,null}function Ea(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kf()){case ga:return 1;case Vl:return 4;case _o:case Ol:return 16;case ya:return 536870912;default:return 16}default:return 16}}var tr=null,ba=null,zs=null;function Yu(){if(zs)return zs;var i,o=ba,c=o.length,p,y="value"in tr?tr.value:tr.textContent,w=y.length;for(i=0;i<c&&o[i]===y[i];i++);var S=c-i;for(p=1;p<=S&&o[c-p]===y[w-p];p++);return zs=y.slice(i,1<p?1-p:void 0)}function Ro(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ps(){return!0}function Gl(){return!1}function yn(i){function o(c,p,y,w,S){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(c=i[V],this[V]=c?c(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ps:Gl,this.isPropagationStopped=Gl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),o}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=yn(ms),_i=ae({},ms,{view:0,detail:0}),Ta=yn(_i),Sa,Ia,nr,Po=ae({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:je,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==nr&&(nr&&i.type==="mousemove"?(Sa=i.screenX-nr.screenX,Ia=i.screenY-nr.screenY):Ia=Sa=0,nr=i),Sa)},movementY:function(i){return"movementY"in i?i.movementY:Ia}}),Ql=yn(Po),Xu=ae({},Po,{dataTransfer:0}),Ju=yn(Xu),Ca=ae({},_i,{relatedTarget:0}),tn=yn(Ca),Zu=ae({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),ed=yn(Zu),Ei=ae({},ms,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=yn(Ei),x=ae({},ms,{data:0}),E=yn(x),P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function le(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=X[i])?!!o[i]:!1}function je(){return le}var Tt=ae({},_i,{key:function(i){if(i.key){var o=P[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?K[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:je,charCode:function(i){return i.type==="keypress"?Ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tt=yn(Tt),At=ae({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=yn(At),$s=ae({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:je}),gs=yn($s),ys=ae({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ra=yn(ys),Yl=ae({},Po,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),iR=yn(Yl),oR=[9,13,27,32],Yf=u&&"CompositionEvent"in window,Xl=null;u&&"documentMode"in document&&(Xl=document.documentMode);var aR=u&&"TextEvent"in window&&!Xl,wv=u&&(!Yf||Xl&&8<Xl&&11>=Xl),xv=" ",_v=!1;function Ev(i,o){switch(i){case"keyup":return oR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Aa=!1;function lR(i,o){switch(i){case"compositionend":return bv(o);case"keypress":return o.which!==32?null:(_v=!0,xv);case"textInput":return i=o.data,i===xv&&_v?null:i;default:return null}}function cR(i,o){if(Aa)return i==="compositionend"||!Yf&&Ev(i,o)?(i=Yu(),zs=ba=tr=null,Aa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return wv&&o.locale!=="ko"?null:o.data;default:return null}}var uR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!uR[i.type]:o==="textarea"}function Sv(i,o,c,p){vt(p),o=id(o,"onChange"),0<o.length&&(c=new Ao("onChange","change",null,c,p),i.push({event:c,listeners:o}))}var Jl=null,Zl=null;function dR(i){$v(i,0)}function td(i){var o=ja(i);if(fn(o))return i}function hR(i,o){if(i==="change")return o}var Iv=!1;if(u){var Xf;if(u){var Jf="oninput"in document;if(!Jf){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),Jf=typeof Cv.oninput=="function"}Xf=Jf}else Xf=!1;Iv=Xf&&(!document.documentMode||9<document.documentMode)}function Rv(){Jl&&(Jl.detachEvent("onpropertychange",Av),Zl=Jl=null)}function Av(i){if(i.propertyName==="value"&&td(Zl)){var o=[];Sv(o,Zl,i,mi(i)),Mr(dR,o)}}function fR(i,o,c){i==="focusin"?(Rv(),Jl=o,Zl=c,Jl.attachEvent("onpropertychange",Av)):i==="focusout"&&Rv()}function pR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return td(Zl)}function mR(i,o){if(i==="click")return td(o)}function gR(i,o){if(i==="input"||i==="change")return td(o)}function yR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Fr=typeof Object.is=="function"?Object.is:yR;function ec(i,o){if(Fr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(o,y)||!Fr(i[y],o[y]))return!1}return!0}function Pv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kv(i,o){var c=Pv(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=o&&p>=o)return{node:c,offset:o-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Pv(c)}}function Nv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Nv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Dv(){for(var i=window,o=Cn();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=Cn(i.document)}return o}function Zf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function vR(i){var o=Dv(),c=i.focusedElem,p=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&Nv(c.ownerDocument.documentElement,c)){if(p!==null&&Zf(c)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!i.extend&&w>p&&(y=p,p=w,w=y),y=kv(c,w);var S=kv(c,p);y&&S&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),i.removeAllRanges(),w>p?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var wR=u&&"documentMode"in document&&11>=document.documentMode,Pa=null,ep=null,tc=null,tp=!1;function jv(i,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;tp||Pa==null||Pa!==Cn(p)||(p=Pa,"selectionStart"in p&&Zf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),tc&&ec(tc,p)||(tc=p,p=id(ep,"onSelect"),0<p.length&&(o=new Ao("onSelect","select",null,o,c),i.push({event:o,listeners:p}),o.target=Pa)))}function nd(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var ka={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},np={},Lv={};u&&(Lv=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function rd(i){if(np[i])return np[i];if(!ka[i])return i;var o=ka[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Lv)return np[i]=o[c];return i}var Mv=rd("animationend"),Vv=rd("animationiteration"),Ov=rd("animationstart"),Fv=rd("transitionend"),Uv=new Map,Bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(i,o){Uv.set(i,o),a(o,[i])}for(var rp=0;rp<Bv.length;rp++){var sp=Bv[rp],xR=sp.toLowerCase(),_R=sp[0].toUpperCase()+sp.slice(1);bi(xR,"on"+_R)}bi(Mv,"onAnimationEnd"),bi(Vv,"onAnimationIteration"),bi(Ov,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Fv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function zv(i,o,c){var p=i.type||"unknown-event";i.currentTarget=c,jl(p,o,void 0,i),i.currentTarget=null}function $v(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],y=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var S=p.length-1;0<=S;S--){var V=p[S],U=V.instance,Y=V.currentTarget;if(V=V.listener,U!==w&&y.isPropagationStopped())break e;zv(y,V,Y),w=U}else for(S=0;S<p.length;S++){if(V=p[S],U=V.instance,Y=V.currentTarget,V=V.listener,U!==w&&y.isPropagationStopped())break e;zv(y,V,Y),w=U}}}if(Pn)throw i=$t,Pn=!1,$t=null,i}function at(i,o){var c=o[hp];c===void 0&&(c=o[hp]=new Set);var p=i+"__bubble";c.has(p)||(Wv(o,i,2,!1),c.add(p))}function ip(i,o,c){var p=0;o&&(p|=4),Wv(c,i,p,o)}var sd="_reactListening"+Math.random().toString(36).slice(2);function rc(i){if(!i[sd]){i[sd]=!0,r.forEach(function(c){c!=="selectionchange"&&(ER.has(c)||ip(c,!1,i),ip(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[sd]||(o[sd]=!0,ip("selectionchange",!1,o))}}function Wv(i,o,c,p){switch(Ea(o)){case 1:var y=hs;break;case 4:y=Qu;break;default:y=Kl}c=y.bind(null,o,c,i),y=void 0,!Zt||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function op(i,o,c,p,y){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(S===4)for(S=p.return;S!==null;){var U=S.tag;if((U===3||U===4)&&(U=S.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;S=S.return}for(;V!==null;){if(S=ko(V),S===null)return;if(U=S.tag,U===5||U===6){p=w=S;continue e}V=V.parentNode}}p=p.return}Mr(function(){var Y=w,re=mi(c),ie=[];e:{var ne=Uv.get(i);if(ne!==void 0){var de=Ao,me=i;switch(i){case"keypress":if(Ro(c)===0)break e;case"keydown":case"keyup":de=tt;break;case"focusin":me="focus",de=tn;break;case"focusout":me="blur",de=tn;break;case"beforeblur":case"afterblur":de=tn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=gs;break;case Mv:case Vv:case Ov:de=ed;break;case Fv:de=Ra;break;case"scroll":de=Ta;break;case"wheel":de=iR;break;case"copy":case"cut":case"paste":de=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=rr}var ge=(o&4)!==0,St=!ge&&i==="scroll",H=ge?ne!==null?ne+"Capture":null:ne;ge=[];for(var B=Y,Q;B!==null;){Q=B;var oe=Q.stateNode;if(Q.tag===5&&oe!==null&&(Q=oe,H!==null&&(oe=it(B,H),oe!=null&&ge.push(sc(B,oe,Q)))),St)break;B=B.return}0<ge.length&&(ne=new de(ne,me,null,c,re),ie.push({event:ne,listeners:ge}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ne&&c!==Dr&&(me=c.relatedTarget||c.fromElement)&&(ko(me)||me[Ws]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(me=c.relatedTarget||c.toElement,de=Y,me=me?ko(me):null,me!==null&&(St=Vr(me),me!==St||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=Y),de!==me)){if(ge=Ql,oe="onMouseLeave",H="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ge=rr,oe="onPointerLeave",H="onPointerEnter",B="pointer"),St=de==null?ne:ja(de),Q=me==null?ne:ja(me),ne=new ge(oe,B+"leave",de,c,re),ne.target=St,ne.relatedTarget=Q,oe=null,ko(re)===Y&&(ge=new ge(H,B+"enter",me,c,re),ge.target=Q,ge.relatedTarget=St,oe=ge),St=oe,de&&me)t:{for(ge=de,H=me,B=0,Q=ge;Q;Q=Na(Q))B++;for(Q=0,oe=H;oe;oe=Na(oe))Q++;for(;0<B-Q;)ge=Na(ge),B--;for(;0<Q-B;)H=Na(H),Q--;for(;B--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=Na(ge),H=Na(H)}ge=null}else ge=null;de!==null&&qv(ie,ne,de,ge,!1),me!==null&&St!==null&&qv(ie,St,me,ge,!0)}}e:{if(ne=Y?ja(Y):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var ye=hR;else if(Tv(ne))if(Iv)ye=gR;else{ye=pR;var _e=fR}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ye=mR);if(ye&&(ye=ye(i,Y))){Sv(ie,ye,c,re);break e}_e&&_e(i,ne,Y),i==="focusout"&&(_e=ne._wrapperState)&&_e.controlled&&ne.type==="number"&&ut(ne,"number",ne.value)}switch(_e=Y?ja(Y):window,i){case"focusin":(Tv(_e)||_e.contentEditable==="true")&&(Pa=_e,ep=Y,tc=null);break;case"focusout":tc=ep=Pa=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,jv(ie,c,re);break;case"selectionchange":if(wR)break;case"keydown":case"keyup":jv(ie,c,re)}var Ee;if(Yf)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Aa?Ev(i,c)&&(Re="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(wv&&c.locale!=="ko"&&(Aa||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Aa&&(Ee=Yu()):(tr=re,ba="value"in tr?tr.value:tr.textContent,Aa=!0)),_e=id(Y,Re),0<_e.length&&(Re=new E(Re,i,null,c,re),ie.push({event:Re,listeners:_e}),Ee?Re.data=Ee:(Ee=bv(c),Ee!==null&&(Re.data=Ee)))),(Ee=aR?lR(i,c):cR(i,c))&&(Y=id(Y,"onBeforeInput"),0<Y.length&&(re=new E("onBeforeInput","beforeinput",null,c,re),ie.push({event:re,listeners:Y}),re.data=Ee))}$v(ie,o)})}function sc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function id(i,o){for(var c=o+"Capture",p=[];i!==null;){var y=i,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=it(i,c),w!=null&&p.unshift(sc(i,w,y)),w=it(i,o),w!=null&&p.push(sc(i,w,y))),i=i.return}return p}function Na(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function qv(i,o,c,p,y){for(var w=o._reactName,S=[];c!==null&&c!==p;){var V=c,U=V.alternate,Y=V.stateNode;if(U!==null&&U===p)break;V.tag===5&&Y!==null&&(V=Y,y?(U=it(c,w),U!=null&&S.unshift(sc(c,U,V))):y||(U=it(c,w),U!=null&&S.push(sc(c,U,V)))),c=c.return}S.length!==0&&i.push({event:o,listeners:S})}var bR=/\r\n?/g,TR=/\u0000|\uFFFD/g;function Hv(i){return(typeof i=="string"?i:""+i).replace(bR,`
`).replace(TR,"")}function od(i,o,c){if(o=Hv(o),Hv(i)!==o&&c)throw Error(n(425))}function ad(){}var ap=null,lp=null;function cp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var up=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,IR=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(i){return Kv.resolve(null).then(i).catch(CR)}:up;function CR(i){setTimeout(function(){throw i})}function dp(i,o){var c=o,p=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){i.removeChild(y),xi(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);xi(o)}function Ti(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Gv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var Da=Math.random().toString(36).slice(2),vs="__reactFiber$"+Da,ic="__reactProps$"+Da,Ws="__reactContainer$"+Da,hp="__reactEvents$"+Da,RR="__reactListeners$"+Da,AR="__reactHandles$"+Da;function ko(i){var o=i[vs];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Ws]||c[vs]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Gv(i);i!==null;){if(c=i[vs])return c;i=Gv(i)}return o}i=c,c=i.parentNode}return null}function oc(i){return i=i[vs]||i[Ws],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ja(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function ld(i){return i[ic]||null}var fp=[],La=-1;function Si(i){return{current:i}}function lt(i){0>La||(i.current=fp[La],fp[La]=null,La--)}function rt(i,o){La++,fp[La]=i.current,i.current=o}var Ii={},vn=Si(Ii),On=Si(!1),No=Ii;function Ma(i,o){var c=i.type.contextTypes;if(!c)return Ii;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=o[w];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=y),y}function Fn(i){return i=i.childContextTypes,i!=null}function cd(){lt(On),lt(vn)}function Qv(i,o,c){if(vn.current!==Ii)throw Error(n(168));rt(vn,o),rt(On,c)}function Yv(i,o,c){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(n(108,Oe(i)||"Unknown",y));return ae({},c,p)}function ud(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ii,No=vn.current,rt(vn,i),rt(On,On.current),!0}function Xv(i,o,c){var p=i.stateNode;if(!p)throw Error(n(169));c?(i=Yv(i,o,No),p.__reactInternalMemoizedMergedChildContext=i,lt(On),lt(vn),rt(vn,i)):lt(On),rt(On,c)}var qs=null,dd=!1,pp=!1;function Jv(i){qs===null?qs=[i]:qs.push(i)}function PR(i){dd=!0,Jv(i)}function Ci(){if(!pp&&qs!==null){pp=!0;var i=0,o=We;try{var c=qs;for(We=1;i<c.length;i++){var p=c[i];do p=p(!0);while(p!==null)}qs=null,dd=!1}catch(y){throw qs!==null&&(qs=qs.slice(i+1)),Ml(ga,Ci),y}finally{We=o,pp=!1}}return null}var Va=[],Oa=0,hd=null,fd=0,fr=[],pr=0,Do=null,Hs=1,Ks="";function jo(i,o){Va[Oa++]=fd,Va[Oa++]=hd,hd=i,fd=o}function Zv(i,o,c){fr[pr++]=Hs,fr[pr++]=Ks,fr[pr++]=Do,Do=i;var p=Hs;i=Ks;var y=32-Zn(p)-1;p&=~(1<<y),c+=1;var w=32-Zn(o)+y;if(30<w){var S=y-y%5;w=(p&(1<<S)-1).toString(32),p>>=S,y-=S,Hs=1<<32-Zn(o)+y|c<<y|p,Ks=w+i}else Hs=1<<w|c<<y|p,Ks=i}function mp(i){i.return!==null&&(jo(i,1),Zv(i,1,0))}function gp(i){for(;i===hd;)hd=Va[--Oa],Va[Oa]=null,fd=Va[--Oa],Va[Oa]=null;for(;i===Do;)Do=fr[--pr],fr[pr]=null,Ks=fr[--pr],fr[pr]=null,Hs=fr[--pr],fr[pr]=null}var sr=null,ir=null,dt=!1,Ur=null;function ew(i,o){var c=vr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function tw(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,sr=i,ir=Ti(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,sr=i,ir=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Do!==null?{id:Hs,overflow:Ks}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=vr(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,sr=i,ir=null,!0):!1;default:return!1}}function yp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function vp(i){if(dt){var o=ir;if(o){var c=o;if(!tw(i,o)){if(yp(i))throw Error(n(418));o=Ti(c.nextSibling);var p=sr;o&&tw(i,o)?ew(p,c):(i.flags=i.flags&-4097|2,dt=!1,sr=i)}}else{if(yp(i))throw Error(n(418));i.flags=i.flags&-4097|2,dt=!1,sr=i}}}function nw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;sr=i}function pd(i){if(i!==sr)return!1;if(!dt)return nw(i),dt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!cp(i.type,i.memoizedProps)),o&&(o=ir)){if(yp(i))throw rw(),Error(n(418));for(;o;)ew(i,o),o=Ti(o.nextSibling)}if(nw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){ir=Ti(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}ir=null}}else ir=sr?Ti(i.stateNode.nextSibling):null;return!0}function rw(){for(var i=ir;i;)i=Ti(i.nextSibling)}function Fa(){ir=sr=null,dt=!1}function wp(i){Ur===null?Ur=[i]:Ur.push(i)}var kR=W.ReactCurrentBatchConfig;function ac(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,i));var y=p,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(S){var V=y.refs;S===null?delete V[w]:V[w]=S},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function md(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function sw(i){var o=i._init;return o(i._payload)}function iw(i){function o(H,B){if(i){var Q=H.deletions;Q===null?(H.deletions=[B],H.flags|=16):Q.push(B)}}function c(H,B){if(!i)return null;for(;B!==null;)o(H,B),B=B.sibling;return null}function p(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function y(H,B){return H=Li(H,B),H.index=0,H.sibling=null,H}function w(H,B,Q){return H.index=Q,i?(Q=H.alternate,Q!==null?(Q=Q.index,Q<B?(H.flags|=2,B):Q):(H.flags|=2,B)):(H.flags|=1048576,B)}function S(H){return i&&H.alternate===null&&(H.flags|=2),H}function V(H,B,Q,oe){return B===null||B.tag!==6?(B=um(Q,H.mode,oe),B.return=H,B):(B=y(B,Q),B.return=H,B)}function U(H,B,Q,oe){var ye=Q.type;return ye===R?re(H,B,Q.props.children,oe,Q.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===fe&&sw(ye)===B.type)?(oe=y(B,Q.props),oe.ref=ac(H,B,Q),oe.return=H,oe):(oe=Fd(Q.type,Q.key,Q.props,null,H.mode,oe),oe.ref=ac(H,B,Q),oe.return=H,oe)}function Y(H,B,Q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=dm(Q,H.mode,oe),B.return=H,B):(B=y(B,Q.children||[]),B.return=H,B)}function re(H,B,Q,oe,ye){return B===null||B.tag!==7?(B=zo(Q,H.mode,oe,ye),B.return=H,B):(B=y(B,Q),B.return=H,B)}function ie(H,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=um(""+B,H.mode,Q),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case G:return Q=Fd(B.type,B.key,B.props,null,H.mode,Q),Q.ref=ac(H,null,B),Q.return=H,Q;case q:return B=dm(B,H.mode,Q),B.return=H,B;case fe:var oe=B._init;return ie(H,oe(B._payload),Q)}if(Ze(B)||ce(B))return B=zo(B,H.mode,Q,null),B.return=H,B;md(H,B)}return null}function ne(H,B,Q,oe){var ye=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return ye!==null?null:V(H,B,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return Q.key===ye?U(H,B,Q,oe):null;case q:return Q.key===ye?Y(H,B,Q,oe):null;case fe:return ye=Q._init,ne(H,B,ye(Q._payload),oe)}if(Ze(Q)||ce(Q))return ye!==null?null:re(H,B,Q,oe,null);md(H,Q)}return null}function de(H,B,Q,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(Q)||null,V(B,H,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case G:return H=H.get(oe.key===null?Q:oe.key)||null,U(B,H,oe,ye);case q:return H=H.get(oe.key===null?Q:oe.key)||null,Y(B,H,oe,ye);case fe:var _e=oe._init;return de(H,B,Q,_e(oe._payload),ye)}if(Ze(oe)||ce(oe))return H=H.get(Q)||null,re(B,H,oe,ye,null);md(B,oe)}return null}function me(H,B,Q,oe){for(var ye=null,_e=null,Ee=B,Re=B=0,Ht=null;Ee!==null&&Re<Q.length;Re++){Ee.index>Re?(Ht=Ee,Ee=null):Ht=Ee.sibling;var Ge=ne(H,Ee,Q[Re],oe);if(Ge===null){Ee===null&&(Ee=Ht);break}i&&Ee&&Ge.alternate===null&&o(H,Ee),B=w(Ge,B,Re),_e===null?ye=Ge:_e.sibling=Ge,_e=Ge,Ee=Ht}if(Re===Q.length)return c(H,Ee),dt&&jo(H,Re),ye;if(Ee===null){for(;Re<Q.length;Re++)Ee=ie(H,Q[Re],oe),Ee!==null&&(B=w(Ee,B,Re),_e===null?ye=Ee:_e.sibling=Ee,_e=Ee);return dt&&jo(H,Re),ye}for(Ee=p(H,Ee);Re<Q.length;Re++)Ht=de(Ee,H,Re,Q[Re],oe),Ht!==null&&(i&&Ht.alternate!==null&&Ee.delete(Ht.key===null?Re:Ht.key),B=w(Ht,B,Re),_e===null?ye=Ht:_e.sibling=Ht,_e=Ht);return i&&Ee.forEach(function(Mi){return o(H,Mi)}),dt&&jo(H,Re),ye}function ge(H,B,Q,oe){var ye=ce(Q);if(typeof ye!="function")throw Error(n(150));if(Q=ye.call(Q),Q==null)throw Error(n(151));for(var _e=ye=null,Ee=B,Re=B=0,Ht=null,Ge=Q.next();Ee!==null&&!Ge.done;Re++,Ge=Q.next()){Ee.index>Re?(Ht=Ee,Ee=null):Ht=Ee.sibling;var Mi=ne(H,Ee,Ge.value,oe);if(Mi===null){Ee===null&&(Ee=Ht);break}i&&Ee&&Mi.alternate===null&&o(H,Ee),B=w(Mi,B,Re),_e===null?ye=Mi:_e.sibling=Mi,_e=Mi,Ee=Ht}if(Ge.done)return c(H,Ee),dt&&jo(H,Re),ye;if(Ee===null){for(;!Ge.done;Re++,Ge=Q.next())Ge=ie(H,Ge.value,oe),Ge!==null&&(B=w(Ge,B,Re),_e===null?ye=Ge:_e.sibling=Ge,_e=Ge);return dt&&jo(H,Re),ye}for(Ee=p(H,Ee);!Ge.done;Re++,Ge=Q.next())Ge=de(Ee,H,Re,Ge.value,oe),Ge!==null&&(i&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Re:Ge.key),B=w(Ge,B,Re),_e===null?ye=Ge:_e.sibling=Ge,_e=Ge);return i&&Ee.forEach(function(uA){return o(H,uA)}),dt&&jo(H,Re),ye}function St(H,B,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:e:{for(var ye=Q.key,_e=B;_e!==null;){if(_e.key===ye){if(ye=Q.type,ye===R){if(_e.tag===7){c(H,_e.sibling),B=y(_e,Q.props.children),B.return=H,H=B;break e}}else if(_e.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===fe&&sw(ye)===_e.type){c(H,_e.sibling),B=y(_e,Q.props),B.ref=ac(H,_e,Q),B.return=H,H=B;break e}c(H,_e);break}else o(H,_e);_e=_e.sibling}Q.type===R?(B=zo(Q.props.children,H.mode,oe,Q.key),B.return=H,H=B):(oe=Fd(Q.type,Q.key,Q.props,null,H.mode,oe),oe.ref=ac(H,B,Q),oe.return=H,H=oe)}return S(H);case q:e:{for(_e=Q.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(H,B.sibling),B=y(B,Q.children||[]),B.return=H,H=B;break e}else{c(H,B);break}else o(H,B);B=B.sibling}B=dm(Q,H.mode,oe),B.return=H,H=B}return S(H);case fe:return _e=Q._init,St(H,B,_e(Q._payload),oe)}if(Ze(Q))return me(H,B,Q,oe);if(ce(Q))return ge(H,B,Q,oe);md(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,B!==null&&B.tag===6?(c(H,B.sibling),B=y(B,Q),B.return=H,H=B):(c(H,B),B=um(Q,H.mode,oe),B.return=H,H=B),S(H)):c(H,B)}return St}var Ua=iw(!0),ow=iw(!1),gd=Si(null),yd=null,Ba=null,xp=null;function _p(){xp=Ba=yd=null}function Ep(i){var o=gd.current;lt(gd),i._currentValue=o}function bp(i,o,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===c)break;i=i.return}}function za(i,o){yd=i,xp=Ba=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Un=!0),i.firstContext=null)}function mr(i){var o=i._currentValue;if(xp!==i)if(i={context:i,memoizedValue:o,next:null},Ba===null){if(yd===null)throw Error(n(308));Ba=i,yd.dependencies={lanes:0,firstContext:i}}else Ba=Ba.next=i;return o}var Lo=null;function Tp(i){Lo===null?Lo=[i]:Lo.push(i)}function aw(i,o,c,p){var y=o.interleaved;return y===null?(c.next=c,Tp(o)):(c.next=y.next,y.next=c),o.interleaved=c,Gs(i,p)}function Gs(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Ri=!1;function Sp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lw(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qs(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ai(i,o,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ke&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,Gs(i,c)}return y=p.interleaved,y===null?(o.next=o,Tp(p)):(o.next=y.next,y.next=o),p.interleaved=o,Gs(i,c)}function vd(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,zl(i,c)}}function cw(i,o){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=S:w=w.next=S,c=c.next}while(c!==null);w===null?y=w=o:w=w.next=o}else y=w=o;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function wd(i,o,c,p){var y=i.updateQueue;Ri=!1;var w=y.firstBaseUpdate,S=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var U=V,Y=U.next;U.next=null,S===null?w=Y:S.next=Y,S=U;var re=i.alternate;re!==null&&(re=re.updateQueue,V=re.lastBaseUpdate,V!==S&&(V===null?re.firstBaseUpdate=Y:V.next=Y,re.lastBaseUpdate=U))}if(w!==null){var ie=y.baseState;S=0,re=Y=U=null,V=w;do{var ne=V.lane,de=V.eventTime;if((p&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var me=i,ge=V;switch(ne=o,de=c,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ie=me.call(de,ie,ne);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ne=typeof me=="function"?me.call(de,ie,ne):me,ne==null)break e;ie=ae({},ie,ne);break e;case 2:Ri=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,ne=y.effects,ne===null?y.effects=[V]:ne.push(V))}else de={eventTime:de,lane:ne,tag:V.tag,payload:V.payload,callback:V.callback,next:null},re===null?(Y=re=de,U=ie):re=re.next=de,S|=ne;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;ne=V,V=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);if(re===null&&(U=ie),y.baseState=U,y.firstBaseUpdate=Y,y.lastBaseUpdate=re,o=y.shared.interleaved,o!==null){y=o;do S|=y.lane,y=y.next;while(y!==o)}else w===null&&(y.shared.lanes=0);Oo|=S,i.lanes=S,i.memoizedState=ie}}function uw(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var lc={},ws=Si(lc),cc=Si(lc),uc=Si(lc);function Mo(i){if(i===lc)throw Error(n(174));return i}function Ip(i,o){switch(rt(uc,o),rt(cc,i),rt(ws,lc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Xn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Xn(o,i)}lt(ws),rt(ws,o)}function $a(){lt(ws),lt(cc),lt(uc)}function dw(i){Mo(uc.current);var o=Mo(ws.current),c=Xn(o,i.type);o!==c&&(rt(cc,i),rt(ws,c))}function Cp(i){cc.current===i&&(lt(ws),lt(cc))}var pt=Si(0);function xd(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Rp=[];function Ap(){for(var i=0;i<Rp.length;i++)Rp[i]._workInProgressVersionPrimary=null;Rp.length=0}var _d=W.ReactCurrentDispatcher,Pp=W.ReactCurrentBatchConfig,Vo=0,mt=null,Ot=null,Wt=null,Ed=!1,dc=!1,hc=0,NR=0;function wn(){throw Error(n(321))}function kp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Fr(i[c],o[c]))return!1;return!0}function Np(i,o,c,p,y,w){if(Vo=w,mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_d.current=i===null||i.memoizedState===null?MR:VR,i=c(p,y),dc){w=0;do{if(dc=!1,hc=0,25<=w)throw Error(n(301));w+=1,Wt=Ot=null,o.updateQueue=null,_d.current=OR,i=c(p,y)}while(dc)}if(_d.current=Sd,o=Ot!==null&&Ot.next!==null,Vo=0,Wt=Ot=mt=null,Ed=!1,o)throw Error(n(300));return i}function Dp(){var i=hc!==0;return hc=0,i}function xs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?mt.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function gr(){if(Ot===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var o=Wt===null?mt.memoizedState:Wt.next;if(o!==null)Wt=o,Ot=i;else{if(i===null)throw Error(n(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Wt===null?mt.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}function fc(i,o){return typeof o=="function"?o(i):o}function jp(i){var o=gr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var p=Ot,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var S=y.next;y.next=w.next,w.next=S}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var V=S=null,U=null,Y=w;do{var re=Y.lane;if((Vo&re)===re)U!==null&&(U=U.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:i(p,Y.action);else{var ie={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};U===null?(V=U=ie,S=p):U=U.next=ie,mt.lanes|=re,Oo|=re}Y=Y.next}while(Y!==null&&Y!==w);U===null?S=p:U.next=V,Fr(p,o.memoizedState)||(Un=!0),o.memoizedState=p,o.baseState=S,o.baseQueue=U,c.lastRenderedState=p}if(i=c.interleaved,i!==null){y=i;do w=y.lane,mt.lanes|=w,Oo|=w,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Lp(i){var o=gr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var p=c.dispatch,y=c.pending,w=o.memoizedState;if(y!==null){c.pending=null;var S=y=y.next;do w=i(w,S.action),S=S.next;while(S!==y);Fr(w,o.memoizedState)||(Un=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,p]}function hw(){}function fw(i,o){var c=mt,p=gr(),y=o(),w=!Fr(p.memoizedState,y);if(w&&(p.memoizedState=y,Un=!0),p=p.queue,Mp(gw.bind(null,c,p,i),[i]),p.getSnapshot!==o||w||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,pc(9,mw.bind(null,c,p,y,o),void 0,null),qt===null)throw Error(n(349));(Vo&30)!==0||pw(c,o,y)}return y}function pw(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function mw(i,o,c,p){o.value=c,o.getSnapshot=p,yw(o)&&vw(i)}function gw(i,o,c){return c(function(){yw(o)&&vw(i)})}function yw(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Fr(i,c)}catch{return!0}}function vw(i){var o=Gs(i,1);o!==null&&Wr(o,i,1,-1)}function ww(i){var o=xs();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:i},o.queue=i,i=i.dispatch=LR.bind(null,mt,i),[o.memoizedState,i]}function pc(i,o,c,p){return i={tag:i,create:o,destroy:c,deps:p,next:null},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,o.lastEffect=i)),i}function xw(){return gr().memoizedState}function bd(i,o,c,p){var y=xs();mt.flags|=i,y.memoizedState=pc(1|o,c,void 0,p===void 0?null:p)}function Td(i,o,c,p){var y=gr();p=p===void 0?null:p;var w=void 0;if(Ot!==null){var S=Ot.memoizedState;if(w=S.destroy,p!==null&&kp(p,S.deps)){y.memoizedState=pc(o,c,w,p);return}}mt.flags|=i,y.memoizedState=pc(1|o,c,w,p)}function _w(i,o){return bd(8390656,8,i,o)}function Mp(i,o){return Td(2048,8,i,o)}function Ew(i,o){return Td(4,2,i,o)}function bw(i,o){return Td(4,4,i,o)}function Tw(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Sw(i,o,c){return c=c!=null?c.concat([i]):null,Td(4,4,Tw.bind(null,o,i),c)}function Vp(){}function Iw(i,o){var c=gr();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&kp(o,p[1])?p[0]:(c.memoizedState=[i,o],i)}function Cw(i,o){var c=gr();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&kp(o,p[1])?p[0]:(i=i(),c.memoizedState=[i,o],i)}function Rw(i,o,c){return(Vo&21)===0?(i.baseState&&(i.baseState=!1,Un=!0),i.memoizedState=c):(Fr(c,o)||(c=Ul(),mt.lanes|=c,Oo|=c,i.baseState=!0),o)}function DR(i,o){var c=We;We=c!==0&&4>c?c:4,i(!0);var p=Pp.transition;Pp.transition={};try{i(!1),o()}finally{We=c,Pp.transition=p}}function Aw(){return gr().memoizedState}function jR(i,o,c){var p=Di(i);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Pw(i))kw(o,c);else if(c=aw(i,o,c,p),c!==null){var y=Nn();Wr(c,i,p,y),Nw(c,o,p)}}function LR(i,o,c){var p=Di(i),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Pw(i))kw(o,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var S=o.lastRenderedState,V=w(S,c);if(y.hasEagerState=!0,y.eagerState=V,Fr(V,S)){var U=o.interleaved;U===null?(y.next=y,Tp(o)):(y.next=U.next,U.next=y),o.interleaved=y;return}}catch{}finally{}c=aw(i,o,y,p),c!==null&&(y=Nn(),Wr(c,i,p,y),Nw(c,o,p))}}function Pw(i){var o=i.alternate;return i===mt||o!==null&&o===mt}function kw(i,o){dc=Ed=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function Nw(i,o,c){if((c&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,zl(i,c)}}var Sd={readContext:mr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},MR={readContext:mr,useCallback:function(i,o){return xs().memoizedState=[i,o===void 0?null:o],i},useContext:mr,useEffect:_w,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,bd(4194308,4,Tw.bind(null,o,i),c)},useLayoutEffect:function(i,o){return bd(4194308,4,i,o)},useInsertionEffect:function(i,o){return bd(4,2,i,o)},useMemo:function(i,o){var c=xs();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var p=xs();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=jR.bind(null,mt,i),[p.memoizedState,i]},useRef:function(i){var o=xs();return i={current:i},o.memoizedState=i},useState:ww,useDebugValue:Vp,useDeferredValue:function(i){return xs().memoizedState=i},useTransition:function(){var i=ww(!1),o=i[0];return i=DR.bind(null,i[1]),xs().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var p=mt,y=xs();if(dt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),qt===null)throw Error(n(349));(Vo&30)!==0||pw(p,o,c)}y.memoizedState=c;var w={value:c,getSnapshot:o};return y.queue=w,_w(gw.bind(null,p,w,i),[i]),p.flags|=2048,pc(9,mw.bind(null,p,w,c,o),void 0,null),c},useId:function(){var i=xs(),o=qt.identifierPrefix;if(dt){var c=Ks,p=Hs;c=(p&~(1<<32-Zn(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=hc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=NR++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},VR={readContext:mr,useCallback:Iw,useContext:mr,useEffect:Mp,useImperativeHandle:Sw,useInsertionEffect:Ew,useLayoutEffect:bw,useMemo:Cw,useReducer:jp,useRef:xw,useState:function(){return jp(fc)},useDebugValue:Vp,useDeferredValue:function(i){var o=gr();return Rw(o,Ot.memoizedState,i)},useTransition:function(){var i=jp(fc)[0],o=gr().memoizedState;return[i,o]},useMutableSource:hw,useSyncExternalStore:fw,useId:Aw,unstable_isNewReconciler:!1},OR={readContext:mr,useCallback:Iw,useContext:mr,useEffect:Mp,useImperativeHandle:Sw,useInsertionEffect:Ew,useLayoutEffect:bw,useMemo:Cw,useReducer:Lp,useRef:xw,useState:function(){return Lp(fc)},useDebugValue:Vp,useDeferredValue:function(i){var o=gr();return Ot===null?o.memoizedState=i:Rw(o,Ot.memoizedState,i)},useTransition:function(){var i=Lp(fc)[0],o=gr().memoizedState;return[i,o]},useMutableSource:hw,useSyncExternalStore:fw,useId:Aw,unstable_isNewReconciler:!1};function Br(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function Op(i,o,c,p){o=i.memoizedState,c=c(p,o),c=c==null?o:ae({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Id={isMounted:function(i){return(i=i._reactInternals)?Vr(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var p=Nn(),y=Di(i),w=Qs(p,y);w.payload=o,c!=null&&(w.callback=c),o=Ai(i,w,y),o!==null&&(Wr(o,i,y,p),vd(o,i,y))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var p=Nn(),y=Di(i),w=Qs(p,y);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=Ai(i,w,y),o!==null&&(Wr(o,i,y,p),vd(o,i,y))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=Nn(),p=Di(i),y=Qs(c,p);y.tag=2,o!=null&&(y.callback=o),o=Ai(i,y,p),o!==null&&(Wr(o,i,p,c),vd(o,i,p))}};function Dw(i,o,c,p,y,w,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,S):o.prototype&&o.prototype.isPureReactComponent?!ec(c,p)||!ec(y,w):!0}function jw(i,o,c){var p=!1,y=Ii,w=o.contextType;return typeof w=="object"&&w!==null?w=mr(w):(y=Fn(o)?No:vn.current,p=o.contextTypes,w=(p=p!=null)?Ma(i,y):Ii),o=new o(c,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Id,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=w),o}function Lw(i,o,c,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==i&&Id.enqueueReplaceState(o,o.state,null)}function Fp(i,o,c,p){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},Sp(i);var w=o.contextType;typeof w=="object"&&w!==null?y.context=mr(w):(w=Fn(o)?No:vn.current,y.context=Ma(i,w)),y.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Op(i,o,w,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Id.enqueueReplaceState(y,y.state,null),wd(i,c,y,p),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Wa(i,o){try{var c="",p=o;do c+=Ne(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:y,digest:null}}function Up(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function Bp(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var FR=typeof WeakMap=="function"?WeakMap:Map;function Mw(i,o,c){c=Qs(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){Dd||(Dd=!0,nm=p),Bp(i,o)},c}function Vw(i,o,c){c=Qs(-1,c),c.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;c.payload=function(){return p(y)},c.callback=function(){Bp(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Bp(i,o),typeof p!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),c}function Ow(i,o,c){var p=i.pingCache;if(p===null){p=i.pingCache=new FR;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(c)||(y.add(c),i=ZR.bind(null,i,o,c),o.then(i,i))}function Fw(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Uw(i,o,c,p,y){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Qs(-1,1),o.tag=2,Ai(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var UR=W.ReactCurrentOwner,Un=!1;function kn(i,o,c,p){o.child=i===null?ow(o,null,c,p):Ua(o,i.child,c,p)}function Bw(i,o,c,p,y){c=c.render;var w=o.ref;return za(o,y),p=Np(i,o,c,p,w,y),c=Dp(),i!==null&&!Un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Ys(i,o,y)):(dt&&c&&mp(o),o.flags|=1,kn(i,o,p,y),o.child)}function zw(i,o,c,p,y){if(i===null){var w=c.type;return typeof w=="function"&&!cm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,$w(i,o,w,p,y)):(i=Fd(c.type,null,p,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&y)===0){var S=w.memoizedProps;if(c=c.compare,c=c!==null?c:ec,c(S,p)&&i.ref===o.ref)return Ys(i,o,y)}return o.flags|=1,i=Li(w,p),i.ref=o.ref,i.return=o,o.child=i}function $w(i,o,c,p,y){if(i!==null){var w=i.memoizedProps;if(ec(w,p)&&i.ref===o.ref)if(Un=!1,o.pendingProps=p=w,(i.lanes&y)!==0)(i.flags&131072)!==0&&(Un=!0);else return o.lanes=i.lanes,Ys(i,o,y)}return zp(i,o,c,p,y)}function Ww(i,o,c){var p=o.pendingProps,y=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ha,or),or|=c;else{if((c&1073741824)===0)return i=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,rt(Ha,or),or|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,rt(Ha,or),or|=p}else w!==null?(p=w.baseLanes|c,o.memoizedState=null):p=c,rt(Ha,or),or|=p;return kn(i,o,y,c),o.child}function qw(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function zp(i,o,c,p,y){var w=Fn(c)?No:vn.current;return w=Ma(o,w),za(o,y),c=Np(i,o,c,p,w,y),p=Dp(),i!==null&&!Un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Ys(i,o,y)):(dt&&p&&mp(o),o.flags|=1,kn(i,o,c,y),o.child)}function Hw(i,o,c,p,y){if(Fn(c)){var w=!0;ud(o)}else w=!1;if(za(o,y),o.stateNode===null)Rd(i,o),jw(o,c,p),Fp(o,c,p,y),p=!0;else if(i===null){var S=o.stateNode,V=o.memoizedProps;S.props=V;var U=S.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=mr(Y):(Y=Fn(c)?No:vn.current,Y=Ma(o,Y));var re=c.getDerivedStateFromProps,ie=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function";ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==p||U!==Y)&&Lw(o,S,p,Y),Ri=!1;var ne=o.memoizedState;S.state=ne,wd(o,p,S,y),U=o.memoizedState,V!==p||ne!==U||On.current||Ri?(typeof re=="function"&&(Op(o,c,re,p),U=o.memoizedState),(V=Ri||Dw(o,c,V,p,ne,U,Y))?(ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=U),S.props=p,S.state=U,S.context=Y,p=V):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{S=o.stateNode,lw(i,o),V=o.memoizedProps,Y=o.type===o.elementType?V:Br(o.type,V),S.props=Y,ie=o.pendingProps,ne=S.context,U=c.contextType,typeof U=="object"&&U!==null?U=mr(U):(U=Fn(c)?No:vn.current,U=Ma(o,U));var de=c.getDerivedStateFromProps;(re=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==ie||ne!==U)&&Lw(o,S,p,U),Ri=!1,ne=o.memoizedState,S.state=ne,wd(o,p,S,y);var me=o.memoizedState;V!==ie||ne!==me||On.current||Ri?(typeof de=="function"&&(Op(o,c,de,p),me=o.memoizedState),(Y=Ri||Dw(o,c,Y,p,ne,me,U)||!1)?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,me,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,me,U)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=me),S.props=p,S.state=me,S.context=U,p=Y):(typeof S.componentDidUpdate!="function"||V===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),p=!1)}return $p(i,o,c,p,w,y)}function $p(i,o,c,p,y,w){qw(i,o);var S=(o.flags&128)!==0;if(!p&&!S)return y&&Xv(o,c,!1),Ys(i,o,w);p=o.stateNode,UR.current=o;var V=S&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&S?(o.child=Ua(o,i.child,null,w),o.child=Ua(o,null,V,w)):kn(i,o,V,w),o.memoizedState=p.state,y&&Xv(o,c,!0),o.child}function Kw(i){var o=i.stateNode;o.pendingContext?Qv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Qv(i,o.context,!1),Ip(i,o.containerInfo)}function Gw(i,o,c,p,y){return Fa(),wp(y),o.flags|=256,kn(i,o,c,p),o.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function qp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Qw(i,o,c){var p=o.pendingProps,y=pt.current,w=!1,S=(o.flags&128)!==0,V;if((V=S)||(V=i!==null&&i.memoizedState===null?!1:(y&2)!==0),V?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),rt(pt,y&1),i===null)return vp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=p.children,i=p.fallback,w?(p=o.mode,w=o.child,S={mode:"hidden",children:S},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=S):w=Ud(S,p,0,null),i=zo(i,p,c,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=qp(c),o.memoizedState=Wp,i):Hp(o,S));if(y=i.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return BR(i,o,S,p,V,y,c);if(w){w=p.fallback,S=o.mode,y=i.child,V=y.sibling;var U={mode:"hidden",children:p.children};return(S&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=U,o.deletions=null):(p=Li(y,U),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?w=Li(V,w):(w=zo(w,S,c,null),w.flags|=2),w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,S=i.child.memoizedState,S=S===null?qp(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},w.memoizedState=S,w.childLanes=i.childLanes&~c,o.memoizedState=Wp,p}return w=i.child,i=w.sibling,p=Li(w,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=p,o.memoizedState=null,p}function Hp(i,o){return o=Ud({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Cd(i,o,c,p){return p!==null&&wp(p),Ua(o,i.child,null,c),i=Hp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function BR(i,o,c,p,y,w,S){if(c)return o.flags&256?(o.flags&=-257,p=Up(Error(n(422))),Cd(i,o,S,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=p.fallback,y=o.mode,p=Ud({mode:"visible",children:p.children},y,0,null),w=zo(w,y,S,null),w.flags|=2,p.return=o,w.return=o,p.sibling=w,o.child=p,(o.mode&1)!==0&&Ua(o,i.child,null,S),o.child.memoizedState=qp(S),o.memoizedState=Wp,w);if((o.mode&1)===0)return Cd(i,o,S,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,w=Error(n(419)),p=Up(w,p,void 0),Cd(i,o,S,p)}if(V=(S&i.childLanes)!==0,Un||V){if(p=qt,p!==null){switch(S&-S){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|S))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Gs(i,y),Wr(p,i,y,-1))}return lm(),p=Up(Error(n(421))),Cd(i,o,S,p)}return y.data==="$?"?(o.flags|=128,o.child=i.child,o=eA.bind(null,i),y._reactRetry=o,null):(i=w.treeContext,ir=Ti(y.nextSibling),sr=o,dt=!0,Ur=null,i!==null&&(fr[pr++]=Hs,fr[pr++]=Ks,fr[pr++]=Do,Hs=i.id,Ks=i.overflow,Do=o),o=Hp(o,p.children),o.flags|=4096,o)}function Yw(i,o,c){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),bp(i.return,o,c)}function Kp(i,o,c,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function Xw(i,o,c){var p=o.pendingProps,y=p.revealOrder,w=p.tail;if(kn(i,o,p.children,c),p=pt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yw(i,c,o);else if(i.tag===19)Yw(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(rt(pt,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&xd(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Kp(o,!1,y,c,w);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&xd(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}Kp(o,!0,c,null,w);break;case"together":Kp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Rd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Ys(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Oo|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Li(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Li(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function zR(i,o,c){switch(o.tag){case 3:Kw(o),Fa();break;case 5:dw(o);break;case 1:Fn(o.type)&&ud(o);break;case 4:Ip(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;rt(gd,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(rt(pt,pt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Qw(i,o,c):(rt(pt,pt.current&1),i=Ys(i,o,c),i!==null?i.sibling:null);rt(pt,pt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(i.flags&128)!==0){if(p)return Xw(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),rt(pt,pt.current),p)break;return null;case 22:case 23:return o.lanes=0,Ww(i,o,c)}return Ys(i,o,c)}var Jw,Gp,Zw,ex;Jw=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Gp=function(){},Zw=function(i,o,c,p){var y=i.memoizedProps;if(y!==p){i=o.stateNode,Mo(ws.current);var w=null;switch(c){case"input":y=pn(i,y),p=pn(i,p),w=[];break;case"select":y=ae({},y,{value:void 0}),p=ae({},p,{value:void 0}),w=[];break;case"textarea":y=ts(i,y),p=ts(i,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=ad)}Mn(c,p);var S;c=null;for(Y in y)if(!p.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var V=y[Y];for(S in V)V.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in p){var U=p[Y];if(V=y?.[Y],p.hasOwnProperty(Y)&&U!==V&&(U!=null||V!=null))if(Y==="style")if(V){for(S in V)!V.hasOwnProperty(S)||U&&U.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in U)U.hasOwnProperty(S)&&V[S]!==U[S]&&(c||(c={}),c[S]=U[S])}else c||(w||(w=[]),w.push(Y,c)),c=U;else Y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,V=V?V.__html:void 0,U!=null&&V!==U&&(w=w||[]).push(Y,U)):Y==="children"?typeof U!="string"&&typeof U!="number"||(w=w||[]).push(Y,""+U):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(U!=null&&Y==="onScroll"&&at("scroll",i),w||V===U||(w=[])):(w=w||[]).push(Y,U))}c&&(w=w||[]).push("style",c);var Y=w;(o.updateQueue=Y)&&(o.flags|=4)}},ex=function(i,o,c,p){c!==p&&(o.flags|=4)};function mc(i,o){if(!dt)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function xn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=c,o}function $R(i,o,c){var p=o.pendingProps;switch(gp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(o),null;case 1:return Fn(o.type)&&cd(),xn(o),null;case 3:return p=o.stateNode,$a(),lt(On),lt(vn),Ap(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(pd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ur!==null&&(im(Ur),Ur=null))),Gp(i,o),xn(o),null;case 5:Cp(o);var y=Mo(uc.current);if(c=o.type,i!==null&&o.stateNode!=null)Zw(i,o,c,p,y),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return xn(o),null}if(i=Mo(ws.current),pd(o)){p=o.stateNode,c=o.type;var w=o.memoizedProps;switch(p[vs]=o,p[ic]=w,i=(o.mode&1)!==0,c){case"dialog":at("cancel",p),at("close",p);break;case"iframe":case"object":case"embed":at("load",p);break;case"video":case"audio":for(y=0;y<nc.length;y++)at(nc[y],p);break;case"source":at("error",p);break;case"img":case"image":case"link":at("error",p),at("load",p);break;case"details":at("toggle",p);break;case"input":Nr(p,w),at("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},at("invalid",p);break;case"textarea":hi(p,w),at("invalid",p)}Mn(c,w),y=null;for(var S in w)if(w.hasOwnProperty(S)){var V=w[S];S==="children"?typeof V=="string"?p.textContent!==V&&(w.suppressHydrationWarning!==!0&&od(p.textContent,V,i),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&od(p.textContent,V,i),y=["children",""+V]):s.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&at("scroll",p)}switch(c){case"input":dr(p),di(p,w,!0);break;case"textarea":dr(p),ns(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=ad)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{S=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yo(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=S.createElement(c,{is:p.is}):(i=S.createElement(c),c==="select"&&(S=i,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):i=S.createElementNS(i,c),i[vs]=o,i[ic]=p,Jw(i,o,!1,!1),o.stateNode=i;e:{switch(S=pi(c,p),c){case"dialog":at("cancel",i),at("close",i),y=p;break;case"iframe":case"object":case"embed":at("load",i),y=p;break;case"video":case"audio":for(y=0;y<nc.length;y++)at(nc[y],i);y=p;break;case"source":at("error",i),y=p;break;case"img":case"image":case"link":at("error",i),at("load",i),y=p;break;case"details":at("toggle",i),y=p;break;case"input":Nr(i,p),y=pn(i,p),at("invalid",i);break;case"option":y=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},y=ae({},p,{value:void 0}),at("invalid",i);break;case"textarea":hi(i,p),y=ts(i,p),at("invalid",i);break;default:y=p}Mn(c,y),V=y;for(w in V)if(V.hasOwnProperty(w)){var U=V[w];w==="style"?fi(i,U):w==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&rs(i,U)):w==="children"?typeof U=="string"?(c!=="textarea"||U!=="")&&ss(i,U):typeof U=="number"&&ss(i,""+U):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?U!=null&&w==="onScroll"&&at("scroll",i):U!=null&&F(i,w,U,S))}switch(c){case"input":dr(i),di(i,p,!1);break;case"textarea":dr(i),ns(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Pe(p.value));break;case"select":i.multiple=!!p.multiple,w=p.value,w!=null?mn(i,!!p.multiple,w,!1):p.defaultValue!=null&&mn(i,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=ad)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return xn(o),null;case 6:if(i&&o.stateNode!=null)ex(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(c=Mo(uc.current),Mo(ws.current),pd(o)){if(p=o.stateNode,c=o.memoizedProps,p[vs]=o,(w=p.nodeValue!==c)&&(i=sr,i!==null))switch(i.tag){case 3:od(p.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&od(p.nodeValue,c,(i.mode&1)!==0)}w&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[vs]=o,o.stateNode=p}return xn(o),null;case 13:if(lt(pt),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(dt&&ir!==null&&(o.mode&1)!==0&&(o.flags&128)===0)rw(),Fa(),o.flags|=98560,w=!1;else if(w=pd(o),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[vs]=o}else Fa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xn(o),w=!1}else Ur!==null&&(im(Ur),Ur=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(pt.current&1)!==0?Ft===0&&(Ft=3):lm())),o.updateQueue!==null&&(o.flags|=4),xn(o),null);case 4:return $a(),Gp(i,o),i===null&&rc(o.stateNode.containerInfo),xn(o),null;case 10:return Ep(o.type._context),xn(o),null;case 17:return Fn(o.type)&&cd(),xn(o),null;case 19:if(lt(pt),w=o.memoizedState,w===null)return xn(o),null;if(p=(o.flags&128)!==0,S=w.rendering,S===null)if(p)mc(w,!1);else{if(Ft!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=xd(i),S!==null){for(o.flags|=128,mc(w,!1),p=S.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)w=c,i=p,w.flags&=14680066,S=w.alternate,S===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=S.childLanes,w.lanes=S.lanes,w.child=S.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=S.memoizedProps,w.memoizedState=S.memoizedState,w.updateQueue=S.updateQueue,w.type=S.type,i=S.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return rt(pt,pt.current&1|2),o.child}i=i.sibling}w.tail!==null&&ot()>Ka&&(o.flags|=128,p=!0,mc(w,!1),o.lanes=4194304)}else{if(!p)if(i=xd(S),i!==null){if(o.flags|=128,p=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),mc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!dt)return xn(o),null}else 2*ot()-w.renderingStartTime>Ka&&c!==1073741824&&(o.flags|=128,p=!0,mc(w,!1),o.lanes=4194304);w.isBackwards?(S.sibling=o.child,o.child=S):(c=w.last,c!==null?c.sibling=S:o.child=S,w.last=S)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=ot(),o.sibling=null,c=pt.current,rt(pt,p?c&1|2:c&1),o):(xn(o),null);case 22:case 23:return am(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(or&1073741824)!==0&&(xn(o),o.subtreeFlags&6&&(o.flags|=8192)):xn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function WR(i,o){switch(gp(o),o.tag){case 1:return Fn(o.type)&&cd(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return $a(),lt(On),lt(vn),Ap(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Cp(o),null;case 13:if(lt(pt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Fa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return lt(pt),null;case 4:return $a(),null;case 10:return Ep(o.type._context),null;case 22:case 23:return am(),null;case 24:return null;default:return null}}var Ad=!1,_n=!1,qR=typeof WeakSet=="function"?WeakSet:Set,pe=null;function qa(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){wt(i,o,p)}else c.current=null}function Qp(i,o,c){try{c()}catch(p){wt(i,o,p)}}var tx=!1;function HR(i,o){if(ap=Bs,i=Dv(),Zf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var S=0,V=-1,U=-1,Y=0,re=0,ie=i,ne=null;t:for(;;){for(var de;ie!==c||y!==0&&ie.nodeType!==3||(V=S+y),ie!==w||p!==0&&ie.nodeType!==3||(U=S+p),ie.nodeType===3&&(S+=ie.nodeValue.length),(de=ie.firstChild)!==null;)ne=ie,ie=de;for(;;){if(ie===i)break t;if(ne===c&&++Y===y&&(V=S),ne===w&&++re===p&&(U=S),(de=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=de}c=V===-1||U===-1?null:{start:V,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(lp={focusedElem:i,selectionRange:c},Bs=!1,pe=o;pe!==null;)if(o=pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pe=i;else for(;pe!==null;){o=pe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,St=me.memoizedState,H=o.stateNode,B=H.getSnapshotBeforeUpdate(o.elementType===o.type?ge:Br(o.type,ge),St);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){wt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,pe=i;break}pe=o.return}return me=tx,tx=!1,me}function gc(i,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&i)===i){var w=y.destroy;y.destroy=void 0,w!==void 0&&Qp(o,c,w)}y=y.next}while(y!==p)}}function Pd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function Yp(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function nx(i){var o=i.alternate;o!==null&&(i.alternate=null,nx(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[vs],delete o[ic],delete o[hp],delete o[RR],delete o[AR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function rx(i){return i.tag===5||i.tag===3||i.tag===4}function sx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||rx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xp(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ad));else if(p!==4&&(i=i.child,i!==null))for(Xp(i,o,c),i=i.sibling;i!==null;)Xp(i,o,c),i=i.sibling}function Jp(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Jp(i,o,c),i=i.sibling;i!==null;)Jp(i,o,c),i=i.sibling}var nn=null,zr=!1;function Pi(i,o,c){for(c=c.child;c!==null;)ix(i,o,c),c=c.sibling}function ix(i,o,c){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Eo,c)}catch{}switch(c.tag){case 5:_n||qa(c,o);case 6:var p=nn,y=zr;nn=null,Pi(i,o,c),nn=p,zr=y,nn!==null&&(zr?(i=nn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):nn.removeChild(c.stateNode));break;case 18:nn!==null&&(zr?(i=nn,c=c.stateNode,i.nodeType===8?dp(i.parentNode,c):i.nodeType===1&&dp(i,c),xi(i)):dp(nn,c.stateNode));break;case 4:p=nn,y=zr,nn=c.stateNode.containerInfo,zr=!0,Pi(i,o,c),nn=p,zr=y;break;case 0:case 11:case 14:case 15:if(!_n&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,S=w.destroy;w=w.tag,S!==void 0&&((w&2)!==0||(w&4)!==0)&&Qp(c,o,S),y=y.next}while(y!==p)}Pi(i,o,c);break;case 1:if(!_n&&(qa(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(V){wt(c,o,V)}Pi(i,o,c);break;case 21:Pi(i,o,c);break;case 22:c.mode&1?(_n=(p=_n)||c.memoizedState!==null,Pi(i,o,c),_n=p):Pi(i,o,c);break;default:Pi(i,o,c)}}function ox(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new qR),o.forEach(function(p){var y=tA.bind(null,i,p);c.has(p)||(c.add(p),p.then(y,y))})}}function $r(i,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=i,S=o,V=S;e:for(;V!==null;){switch(V.tag){case 5:nn=V.stateNode,zr=!1;break e;case 3:nn=V.stateNode.containerInfo,zr=!0;break e;case 4:nn=V.stateNode.containerInfo,zr=!0;break e}V=V.return}if(nn===null)throw Error(n(160));ix(w,S,y),nn=null,zr=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(Y){wt(y,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ax(o,i),o=o.sibling}function ax(i,o){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if($r(o,i),_s(i),p&4){try{gc(3,i,i.return),Pd(3,i)}catch(ge){wt(i,i.return,ge)}try{gc(5,i,i.return)}catch(ge){wt(i,i.return,ge)}}break;case 1:$r(o,i),_s(i),p&512&&c!==null&&qa(c,c.return);break;case 5:if($r(o,i),_s(i),p&512&&c!==null&&qa(c,c.return),i.flags&32){var y=i.stateNode;try{ss(y,"")}catch(ge){wt(i,i.return,ge)}}if(p&4&&(y=i.stateNode,y!=null)){var w=i.memoizedProps,S=c!==null?c.memoizedProps:w,V=i.type,U=i.updateQueue;if(i.updateQueue=null,U!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&Yn(y,w),pi(V,S);var Y=pi(V,w);for(S=0;S<U.length;S+=2){var re=U[S],ie=U[S+1];re==="style"?fi(y,ie):re==="dangerouslySetInnerHTML"?rs(y,ie):re==="children"?ss(y,ie):F(y,re,ie,Y)}switch(V){case"input":es(y,w);break;case"textarea":go(y,w);break;case"select":var ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var de=w.value;de!=null?mn(y,!!w.multiple,de,!1):ne!==!!w.multiple&&(w.defaultValue!=null?mn(y,!!w.multiple,w.defaultValue,!0):mn(y,!!w.multiple,w.multiple?[]:"",!1))}y[ic]=w}catch(ge){wt(i,i.return,ge)}}break;case 6:if($r(o,i),_s(i),p&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,w=i.memoizedProps;try{y.nodeValue=w}catch(ge){wt(i,i.return,ge)}}break;case 3:if($r(o,i),_s(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{xi(o.containerInfo)}catch(ge){wt(i,i.return,ge)}break;case 4:$r(o,i),_s(i);break;case 13:$r(o,i),_s(i),y=i.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(tm=ot())),p&4&&ox(i);break;case 22:if(re=c!==null&&c.memoizedState!==null,i.mode&1?(_n=(Y=_n)||re,$r(o,i),_n=Y):$r(o,i),_s(i),p&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!re&&(i.mode&1)!==0)for(pe=i,re=i.child;re!==null;){for(ie=pe=re;pe!==null;){switch(ne=pe,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:gc(4,ne,ne.return);break;case 1:qa(ne,ne.return);var me=ne.stateNode;if(typeof me.componentWillUnmount=="function"){p=ne,c=ne.return;try{o=p,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ge){wt(p,c,ge)}}break;case 5:qa(ne,ne.return);break;case 22:if(ne.memoizedState!==null){ux(ie);continue}}de!==null?(de.return=ne,pe=de):ux(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{y=ie.stateNode,Y?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=ie.stateNode,U=ie.memoizedProps.style,S=U!=null&&U.hasOwnProperty("display")?U.display:null,V.style.display=is("display",S))}catch(ge){wt(i,i.return,ge)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=Y?"":ie.memoizedProps}catch(ge){wt(i,i.return,ge)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:$r(o,i),_s(i),p&4&&ox(i);break;case 21:break;default:$r(o,i),_s(i)}}function _s(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(rx(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(ss(y,""),p.flags&=-33);var w=sx(i);Jp(i,w,y);break;case 3:case 4:var S=p.stateNode.containerInfo,V=sx(i);Xp(i,V,S);break;default:throw Error(n(161))}}catch(U){wt(i,i.return,U)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function KR(i,o,c){pe=i,lx(i)}function lx(i,o,c){for(var p=(i.mode&1)!==0;pe!==null;){var y=pe,w=y.child;if(y.tag===22&&p){var S=y.memoizedState!==null||Ad;if(!S){var V=y.alternate,U=V!==null&&V.memoizedState!==null||_n;V=Ad;var Y=_n;if(Ad=S,(_n=U)&&!Y)for(pe=y;pe!==null;)S=pe,U=S.child,S.tag===22&&S.memoizedState!==null?dx(y):U!==null?(U.return=S,pe=U):dx(y);for(;w!==null;)pe=w,lx(w),w=w.sibling;pe=y,Ad=V,_n=Y}cx(i)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,pe=w):cx(i)}}function cx(i){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:_n||Pd(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!_n)if(c===null)p.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:Br(o.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&uw(o,w,p);break;case 3:var S=o.updateQueue;if(S!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}uw(o,S,c)}break;case 5:var V=o.stateNode;if(c===null&&o.flags&4){c=V;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&c.focus();break;case"img":U.src&&(c.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&xi(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_n||o.flags&512&&Yp(o)}catch(ne){wt(o,o.return,ne)}}if(o===i){pe=null;break}if(c=o.sibling,c!==null){c.return=o.return,pe=c;break}pe=o.return}}function ux(i){for(;pe!==null;){var o=pe;if(o===i){pe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,pe=c;break}pe=o.return}}function dx(i){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Pd(4,o)}catch(U){wt(o,c,U)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(U){wt(o,y,U)}}var w=o.return;try{Yp(o)}catch(U){wt(o,w,U)}break;case 5:var S=o.return;try{Yp(o)}catch(U){wt(o,S,U)}}}catch(U){wt(o,o.return,U)}if(o===i){pe=null;break}var V=o.sibling;if(V!==null){V.return=o.return,pe=V;break}pe=o.return}}var GR=Math.ceil,kd=W.ReactCurrentDispatcher,Zp=W.ReactCurrentOwner,yr=W.ReactCurrentBatchConfig,Ke=0,qt=null,Pt=null,rn=0,or=0,Ha=Si(0),Ft=0,yc=null,Oo=0,Nd=0,em=0,vc=null,Bn=null,tm=0,Ka=1/0,Xs=null,Dd=!1,nm=null,ki=null,jd=!1,Ni=null,Ld=0,wc=0,rm=null,Md=-1,Vd=0;function Nn(){return(Ke&6)!==0?ot():Md!==-1?Md:Md=ot()}function Di(i){return(i.mode&1)===0?1:(Ke&2)!==0&&rn!==0?rn&-rn:kR.transition!==null?(Vd===0&&(Vd=Ul()),Vd):(i=We,i!==0||(i=window.event,i=i===void 0?16:Ea(i.type)),i)}function Wr(i,o,c,p){if(50<wc)throw wc=0,rm=null,Error(n(185));Io(i,c,p),((Ke&2)===0||i!==qt)&&(i===qt&&((Ke&2)===0&&(Nd|=c),Ft===4&&ji(i,rn)),zn(i,p),c===1&&Ke===0&&(o.mode&1)===0&&(Ka=ot()+500,dd&&Ci()))}function zn(i,o){var c=i.callbackNode;So(i,o);var p=Os(i,i===qt?rn:0);if(p===0)c!==null&&ma(c),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(c!=null&&ma(c),o===1)i.tag===0?PR(fx.bind(null,i)):Jv(fx.bind(null,i)),IR(function(){(Ke&6)===0&&Ci()}),c=null;else{switch(ls(p)){case 1:c=ga;break;case 4:c=Vl;break;case 16:c=_o;break;case 536870912:c=ya;break;default:c=_o}c=_x(c,hx.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function hx(i,o){if(Md=-1,Vd=0,(Ke&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Ga()&&i.callbackNode!==c)return null;var p=Os(i,i===qt?rn:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=Od(i,p);else{o=p;var y=Ke;Ke|=2;var w=mx();(qt!==i||rn!==o)&&(Xs=null,Ka=ot()+500,Uo(i,o));do try{XR();break}catch(V){px(i,V)}while(!0);_p(),kd.current=w,Ke=y,Pt!==null?o=0:(qt=null,rn=0,o=Ft)}if(o!==0){if(o===2&&(y=Fl(i),y!==0&&(p=y,o=sm(i,y))),o===1)throw c=yc,Uo(i,0),ji(i,p),zn(i,ot()),c;if(o===6)ji(i,p);else{if(y=i.current.alternate,(p&30)===0&&!QR(y)&&(o=Od(i,p),o===2&&(w=Fl(i),w!==0&&(p=w,o=sm(i,w))),o===1))throw c=yc,Uo(i,0),ji(i,p),zn(i,ot()),c;switch(i.finishedWork=y,i.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:Bo(i,Bn,Xs);break;case 3:if(ji(i,p),(p&130023424)===p&&(o=tm+500-ot(),10<o)){if(Os(i,0)!==0)break;if(y=i.suspendedLanes,(y&p)!==p){Nn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=up(Bo.bind(null,i,Bn,Xs),o);break}Bo(i,Bn,Xs);break;case 4:if(ji(i,p),(p&4194240)===p)break;for(o=i.eventTimes,y=-1;0<p;){var S=31-Zn(p);w=1<<S,S=o[S],S>y&&(y=S),p&=~w}if(p=y,p=ot()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*GR(p/1960))-p,10<p){i.timeoutHandle=up(Bo.bind(null,i,Bn,Xs),p);break}Bo(i,Bn,Xs);break;case 5:Bo(i,Bn,Xs);break;default:throw Error(n(329))}}}return zn(i,ot()),i.callbackNode===c?hx.bind(null,i):null}function sm(i,o){var c=vc;return i.current.memoizedState.isDehydrated&&(Uo(i,o).flags|=256),i=Od(i,o),i!==2&&(o=Bn,Bn=c,o!==null&&im(o)),i}function im(i){Bn===null?Bn=i:Bn.push.apply(Bn,i)}function QR(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Fr(w(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ji(i,o){for(o&=~em,o&=~Nd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-Zn(o),p=1<<c;i[c]=-1,o&=~p}}function fx(i){if((Ke&6)!==0)throw Error(n(327));Ga();var o=Os(i,0);if((o&1)===0)return zn(i,ot()),null;var c=Od(i,o);if(i.tag!==0&&c===2){var p=Fl(i);p!==0&&(o=p,c=sm(i,p))}if(c===1)throw c=yc,Uo(i,0),ji(i,o),zn(i,ot()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Bo(i,Bn,Xs),zn(i,ot()),null}function om(i,o){var c=Ke;Ke|=1;try{return i(o)}finally{Ke=c,Ke===0&&(Ka=ot()+500,dd&&Ci())}}function Fo(i){Ni!==null&&Ni.tag===0&&(Ke&6)===0&&Ga();var o=Ke;Ke|=1;var c=yr.transition,p=We;try{if(yr.transition=null,We=1,i)return i()}finally{We=p,yr.transition=c,Ke=o,(Ke&6)===0&&Ci()}}function am(){or=Ha.current,lt(Ha)}function Uo(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,SR(c)),Pt!==null)for(c=Pt.return;c!==null;){var p=c;switch(gp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&cd();break;case 3:$a(),lt(On),lt(vn),Ap();break;case 5:Cp(p);break;case 4:$a();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:Ep(p.type._context);break;case 22:case 23:am()}c=c.return}if(qt=i,Pt=i=Li(i.current,null),rn=or=o,Ft=0,yc=null,em=Nd=Oo=0,Bn=vc=null,Lo!==null){for(o=0;o<Lo.length;o++)if(c=Lo[o],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var S=w.next;w.next=y,p.next=S}c.pending=p}Lo=null}return i}function px(i,o){do{var c=Pt;try{if(_p(),_d.current=Sd,Ed){for(var p=mt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Ed=!1}if(Vo=0,Wt=Ot=mt=null,dc=!1,hc=0,Zp.current=null,c===null||c.return===null){Ft=1,yc=o,Pt=null;break}e:{var w=i,S=c.return,V=c,U=o;if(o=rn,V.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Y=U,re=V,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=Fw(S);if(de!==null){de.flags&=-257,Uw(de,S,V,w,o),de.mode&1&&Ow(w,Y,o),o=de,U=Y;var me=o.updateQueue;if(me===null){var ge=new Set;ge.add(U),o.updateQueue=ge}else me.add(U);break e}else{if((o&1)===0){Ow(w,Y,o),lm();break e}U=Error(n(426))}}else if(dt&&V.mode&1){var St=Fw(S);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Uw(St,S,V,w,o),wp(Wa(U,V));break e}}w=U=Wa(U,V),Ft!==4&&(Ft=2),vc===null?vc=[w]:vc.push(w),w=S;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=Mw(w,U,o);cw(w,H);break e;case 1:V=U;var B=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ki===null||!ki.has(Q)))){w.flags|=65536,o&=-o,w.lanes|=o;var oe=Vw(w,V,o);cw(w,oe);break e}}w=w.return}while(w!==null)}yx(c)}catch(ye){o=ye,Pt===c&&c!==null&&(Pt=c=c.return);continue}break}while(!0)}function mx(){var i=kd.current;return kd.current=Sd,i===null?Sd:i}function lm(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),qt===null||(Oo&268435455)===0&&(Nd&268435455)===0||ji(qt,rn)}function Od(i,o){var c=Ke;Ke|=2;var p=mx();(qt!==i||rn!==o)&&(Xs=null,Uo(i,o));do try{YR();break}catch(y){px(i,y)}while(!0);if(_p(),Ke=c,kd.current=p,Pt!==null)throw Error(n(261));return qt=null,rn=0,Ft}function YR(){for(;Pt!==null;)gx(Pt)}function XR(){for(;Pt!==null&&!xo();)gx(Pt)}function gx(i){var o=xx(i.alternate,i,or);i.memoizedProps=i.pendingProps,o===null?yx(i):Pt=o,Zp.current=null}function yx(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=$R(c,o,or),c!==null){Pt=c;return}}else{if(c=WR(c,o),c!==null){c.flags&=32767,Pt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ft=6,Pt=null;return}}if(o=o.sibling,o!==null){Pt=o;return}Pt=o=i}while(o!==null);Ft===0&&(Ft=5)}function Bo(i,o,c){var p=We,y=yr.transition;try{yr.transition=null,We=1,JR(i,o,c,p)}finally{yr.transition=y,We=p}return null}function JR(i,o,c,p){do Ga();while(Ni!==null);if((Ke&6)!==0)throw Error(n(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=c.lanes|c.childLanes;if(Gf(i,w),i===qt&&(Pt=qt=null,rn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||jd||(jd=!0,_x(_o,function(){return Ga(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=yr.transition,yr.transition=null;var S=We;We=1;var V=Ke;Ke|=4,Zp.current=null,HR(i,c),ax(c,i),vR(lp),Bs=!!ap,lp=ap=null,i.current=c,KR(c),Vs(),Ke=V,We=S,yr.transition=w}else i.current=c;if(jd&&(jd=!1,Ni=i,Ld=y),w=i.pendingLanes,w===0&&(ki=null),qu(c.stateNode),zn(i,ot()),o!==null)for(p=i.onRecoverableError,c=0;c<o.length;c++)y=o[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Dd)throw Dd=!1,i=nm,nm=null,i;return(Ld&1)!==0&&i.tag!==0&&Ga(),w=i.pendingLanes,(w&1)!==0?i===rm?wc++:(wc=0,rm=i):wc=0,Ci(),null}function Ga(){if(Ni!==null){var i=ls(Ld),o=yr.transition,c=We;try{if(yr.transition=null,We=16>i?16:i,Ni===null)var p=!1;else{if(i=Ni,Ni=null,Ld=0,(Ke&6)!==0)throw Error(n(331));var y=Ke;for(Ke|=4,pe=i.current;pe!==null;){var w=pe,S=w.child;if((pe.flags&16)!==0){var V=w.deletions;if(V!==null){for(var U=0;U<V.length;U++){var Y=V[U];for(pe=Y;pe!==null;){var re=pe;switch(re.tag){case 0:case 11:case 15:gc(8,re,w)}var ie=re.child;if(ie!==null)ie.return=re,pe=ie;else for(;pe!==null;){re=pe;var ne=re.sibling,de=re.return;if(nx(re),re===Y){pe=null;break}if(ne!==null){ne.return=de,pe=ne;break}pe=de}}}var me=w.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var St=ge.sibling;ge.sibling=null,ge=St}while(ge!==null)}}pe=w}}if((w.subtreeFlags&2064)!==0&&S!==null)S.return=w,pe=S;else e:for(;pe!==null;){if(w=pe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:gc(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,pe=H;break e}pe=w.return}}var B=i.current;for(pe=B;pe!==null;){S=pe;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,pe=Q;else e:for(S=B;pe!==null;){if(V=pe,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Pd(9,V)}}catch(ye){wt(V,V.return,ye)}if(V===S){pe=null;break e}var oe=V.sibling;if(oe!==null){oe.return=V.return,pe=oe;break e}pe=V.return}}if(Ke=y,Ci(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Eo,i)}catch{}p=!0}return p}finally{We=c,yr.transition=o}}return!1}function vx(i,o,c){o=Wa(c,o),o=Mw(i,o,1),i=Ai(i,o,1),o=Nn(),i!==null&&(Io(i,1,o),zn(i,o))}function wt(i,o,c){if(i.tag===3)vx(i,i,c);else for(;o!==null;){if(o.tag===3){vx(o,i,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ki===null||!ki.has(p))){i=Wa(c,i),i=Vw(o,i,1),o=Ai(o,i,1),i=Nn(),o!==null&&(Io(o,1,i),zn(o,i));break}}o=o.return}}function ZR(i,o,c){var p=i.pingCache;p!==null&&p.delete(o),o=Nn(),i.pingedLanes|=i.suspendedLanes&c,qt===i&&(rn&c)===c&&(Ft===4||Ft===3&&(rn&130023424)===rn&&500>ot()-tm?Uo(i,0):em|=c),zn(i,o)}function wx(i,o){o===0&&((i.mode&1)===0?o=1:(o=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var c=Nn();i=Gs(i,o),i!==null&&(Io(i,o,c),zn(i,c))}function eA(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),wx(i,c)}function tA(i,o){var c=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),wx(i,c)}var xx;xx=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||On.current)Un=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return Un=!1,zR(i,o,c);Un=(i.flags&131072)!==0}else Un=!1,dt&&(o.flags&1048576)!==0&&Zv(o,fd,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Rd(i,o),i=o.pendingProps;var y=Ma(o,vn.current);za(o,c),y=Np(null,o,p,i,y,c);var w=Dp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Fn(p)?(w=!0,ud(o)):w=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Sp(o),y.updater=Id,o.stateNode=y,y._reactInternals=o,Fp(o,p,i,c),o=$p(null,o,p,!0,w,c)):(o.tag=0,dt&&w&&mp(o),kn(null,o,y,c),o=o.child),o;case 16:p=o.elementType;e:{switch(Rd(i,o),i=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=rA(p),i=Br(p,i),y){case 0:o=zp(null,o,p,i,c);break e;case 1:o=Hw(null,o,p,i,c);break e;case 11:o=Bw(null,o,p,i,c);break e;case 14:o=zw(null,o,p,Br(p.type,i),c);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Br(p,y),zp(i,o,p,y,c);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Br(p,y),Hw(i,o,p,y,c);case 3:e:{if(Kw(o),i===null)throw Error(n(387));p=o.pendingProps,w=o.memoizedState,y=w.element,lw(i,o),wd(o,p,null,c);var S=o.memoizedState;if(p=S.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){y=Wa(Error(n(423)),o),o=Gw(i,o,p,c,y);break e}else if(p!==y){y=Wa(Error(n(424)),o),o=Gw(i,o,p,c,y);break e}else for(ir=Ti(o.stateNode.containerInfo.firstChild),sr=o,dt=!0,Ur=null,c=ow(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Fa(),p===y){o=Ys(i,o,c);break e}kn(i,o,p,c)}o=o.child}return o;case 5:return dw(o),i===null&&vp(o),p=o.type,y=o.pendingProps,w=i!==null?i.memoizedProps:null,S=y.children,cp(p,y)?S=null:w!==null&&cp(p,w)&&(o.flags|=32),qw(i,o),kn(i,o,S,c),o.child;case 6:return i===null&&vp(o),null;case 13:return Qw(i,o,c);case 4:return Ip(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ua(o,null,p,c):kn(i,o,p,c),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Br(p,y),Bw(i,o,p,y,c);case 7:return kn(i,o,o.pendingProps,c),o.child;case 8:return kn(i,o,o.pendingProps.children,c),o.child;case 12:return kn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,w=o.memoizedProps,S=y.value,rt(gd,p._currentValue),p._currentValue=S,w!==null)if(Fr(w.value,S)){if(w.children===y.children&&!On.current){o=Ys(i,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var V=w.dependencies;if(V!==null){S=w.child;for(var U=V.firstContext;U!==null;){if(U.context===p){if(w.tag===1){U=Qs(-1,c&-c),U.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?U.next=U:(U.next=re.next,re.next=U),Y.pending=U}}w.lanes|=c,U=w.alternate,U!==null&&(U.lanes|=c),bp(w.return,c,o),V.lanes|=c;break}U=U.next}}else if(w.tag===10)S=w.type===o.type?null:w.child;else if(w.tag===18){if(S=w.return,S===null)throw Error(n(341));S.lanes|=c,V=S.alternate,V!==null&&(V.lanes|=c),bp(S,c,o),S=w.sibling}else S=w.child;if(S!==null)S.return=w;else for(S=w;S!==null;){if(S===o){S=null;break}if(w=S.sibling,w!==null){w.return=S.return,S=w;break}S=S.return}w=S}kn(i,o,y.children,c),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,za(o,c),y=mr(y),p=p(y),o.flags|=1,kn(i,o,p,c),o.child;case 14:return p=o.type,y=Br(p,o.pendingProps),y=Br(p.type,y),zw(i,o,p,y,c);case 15:return $w(i,o,o.type,o.pendingProps,c);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Br(p,y),Rd(i,o),o.tag=1,Fn(p)?(i=!0,ud(o)):i=!1,za(o,c),jw(o,p,y),Fp(o,p,y,c),$p(null,o,p,!0,i,c);case 19:return Xw(i,o,c);case 22:return Ww(i,o,c)}throw Error(n(156,o.tag))};function _x(i,o){return Ml(i,o)}function nA(i,o,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(i,o,c,p){return new nA(i,o,c,p)}function cm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rA(i){if(typeof i=="function")return cm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===et)return 14}return 2}function Li(i,o){var c=i.alternate;return c===null?(c=vr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Fd(i,o,c,p,y,w){var S=2;if(p=i,typeof i=="function")cm(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case R:return zo(c.children,y,w,o);case C:S=8,y|=8;break;case D:return i=vr(12,c,o,y|2),i.elementType=D,i.lanes=w,i;case M:return i=vr(13,c,o,y),i.elementType=M,i.lanes=w,i;case Le:return i=vr(19,c,o,y),i.elementType=Le,i.lanes=w,i;case se:return Ud(c,y,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:S=10;break e;case O:S=9;break e;case z:S=11;break e;case et:S=14;break e;case fe:S=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=vr(S,c,o,y),o.elementType=i,o.type=p,o.lanes=w,o}function zo(i,o,c,p){return i=vr(7,i,p,o),i.lanes=c,i}function Ud(i,o,c,p){return i=vr(22,i,p,o),i.elementType=se,i.lanes=c,i.stateNode={isHidden:!1},i}function um(i,o,c){return i=vr(6,i,null,o),i.lanes=c,i}function dm(i,o,c){return o=vr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function sA(i,o,c,p,y){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bl(0),this.expirationTimes=Bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function hm(i,o,c,p,y,w,S,V,U){return i=new sA(i,o,c,V,U),o===1?(o=1,w===!0&&(o|=8)):o=0,w=vr(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sp(w),i}function iA(i,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:i,containerInfo:o,implementation:c}}function Ex(i){if(!i)return Ii;i=i._reactInternals;e:{if(Vr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(Fn(c))return Yv(i,c,o)}return o}function bx(i,o,c,p,y,w,S,V,U){return i=hm(c,p,!0,i,y,w,S,V,U),i.context=Ex(null),c=i.current,p=Nn(),y=Di(c),w=Qs(p,y),w.callback=o??null,Ai(c,w,y),i.current.lanes=y,Io(i,y,p),zn(i,p),i}function Bd(i,o,c,p){var y=o.current,w=Nn(),S=Di(y);return c=Ex(c),o.context===null?o.context=c:o.pendingContext=c,o=Qs(w,S),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=Ai(y,o,S),i!==null&&(Wr(i,y,S,w),vd(i,y,S)),S}function zd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Tx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function fm(i,o){Tx(i,o),(i=i.alternate)&&Tx(i,o)}function oA(){return null}var Sx=typeof reportError=="function"?reportError:function(i){console.error(i)};function pm(i){this._internalRoot=i}$d.prototype.render=pm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Bd(i,o,null,null)},$d.prototype.unmount=pm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Fo(function(){Bd(null,i,null,null)}),o[Ws]=null}};function $d(i){this._internalRoot=i}$d.prototype.unstable_scheduleHydration=function(i){if(i){var o=ql();i={blockedOn:null,target:i,priority:o};for(var c=0;c<er.length&&o!==0&&o<er[c].priority;c++);er.splice(c,0,i),c===0&&xa(i)}};function mm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Wd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ix(){}function aA(i,o,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Y=zd(S);w.call(Y)}}var S=bx(o,p,i,0,null,!1,!1,"",Ix);return i._reactRootContainer=S,i[Ws]=S.current,rc(i.nodeType===8?i.parentNode:i),Fo(),S}for(;y=i.lastChild;)i.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var Y=zd(U);V.call(Y)}}var U=hm(i,0,!1,null,null,!1,!1,"",Ix);return i._reactRootContainer=U,i[Ws]=U.current,rc(i.nodeType===8?i.parentNode:i),Fo(function(){Bd(o,U,c,p)}),U}function qd(i,o,c,p,y){var w=c._reactRootContainer;if(w){var S=w;if(typeof y=="function"){var V=y;y=function(){var U=zd(S);V.call(U)}}Bd(o,S,i,y)}else S=aA(c,o,i,y,p);return zd(S)}$l=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Qe(o.pendingLanes);c!==0&&(zl(o,c|1),zn(o,ot()),(Ke&6)===0&&(Ka=ot()+500,Ci()))}break;case 13:Fo(function(){var p=Gs(i,1);if(p!==null){var y=Nn();Wr(p,i,1,y)}}),fm(i,1)}},va=function(i){if(i.tag===13){var o=Gs(i,134217728);if(o!==null){var c=Nn();Wr(o,i,134217728,c)}fm(i,134217728)}},Wl=function(i){if(i.tag===13){var o=Di(i),c=Gs(i,o);if(c!==null){var p=Nn();Wr(c,i,o,p)}fm(i,o)}},ql=function(){return We},Hl=function(i,o){var c=We;try{return We=i,o()}finally{We=c}},jr=function(i,o,c){switch(o){case"input":if(es(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==i&&p.form===i.form){var y=ld(p);if(!y)throw Error(n(90));fn(p),es(p,y)}}}break;case"textarea":go(i,c);break;case"select":o=c.value,o!=null&&mn(i,!!c.multiple,o,!1)}},Jt=om,zt=Fo;var lA={usingClientEntryPoint:!1,Events:[oc,ja,ld,vt,Xt,om]},xc={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cA={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Wu(i),i===null?null:i.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||oA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{Eo=Hd.inject(cA),Jn=Hd}catch{}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA,$n.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mm(o))throw Error(n(200));return iA(i,o,null,c)},$n.createRoot=function(i,o){if(!mm(i))throw Error(n(299));var c=!1,p="",y=Sx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=hm(i,1,!1,null,null,c,!1,p,y),i[Ws]=o.current,rc(i.nodeType===8?i.parentNode:i),new pm(o)},$n.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Wu(o),i=i===null?null:i.stateNode,i},$n.flushSync=function(i){return Fo(i)},$n.hydrate=function(i,o,c){if(!Wd(o))throw Error(n(200));return qd(null,i,o,!0,c)},$n.hydrateRoot=function(i,o,c){if(!mm(i))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",S=Sx;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),o=bx(o,null,i,1,c??null,y,!1,w,S),i[Ws]=o.current,rc(i),p)for(i=0;i<p.length;i++)c=p[i],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new $d(o)},$n.render=function(i,o,c){if(!Wd(o))throw Error(n(200));return qd(null,i,o,!1,c)},$n.unmountComponentAtNode=function(i){if(!Wd(i))throw Error(n(40));return i._reactRootContainer?(Fo(function(){qd(null,null,i,!1,function(){i._reactRootContainer=null,i[Ws]=null})}),!0):!1},$n.unstable_batchedUpdates=om,$n.unstable_renderSubtreeIntoContainer=function(i,o,c,p){if(!Wd(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return qd(i,o,c,!1,p)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var jx;function vb(){if(jx)return vm.exports;jx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vm.exports=gA(),vm.exports}var Lx;function yA(){if(Lx)return Kd;Lx=1;var t=vb();return Kd.createRoot=t.createRoot,Kd.hydrateRoot=t.hydrateRoot,Kd}var vA=yA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mx="popstate";function wA(t={}){function e(s,a){let{pathname:l="/",search:u="",hash:d=""}=ca(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),ug("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof a=="string"?a:Qc(a))}function r(s,a){Ir(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return _A(e,n,r,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xA(){return Math.random().toString(36).substring(2,10)}function Vx(t,e){return{usr:t.state,key:t.key,idx:e}}function ug(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:n,key:e&&e.key||r||xA()}}function Qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _A(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let I=g(),j=I==null?null:I-f;f=I,d&&d({action:u,location:A.location,delta:j})}function _(I,j){u="PUSH";let N=ug(A.location,I,j);n&&n(N,I),f=g()+1;let F=Vx(N,f),W=A.createHref(N);try{l.pushState(F,"",W)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(W)}a&&d&&d({action:u,location:A.location,delta:1})}function T(I,j){u="REPLACE";let N=ug(A.location,I,j);n&&n(N,I),f=g();let F=Vx(N,f),W=A.createHref(N);l.replaceState(F,"",W),a&&d&&d({action:u,location:A.location,delta:0})}function k(I){return EA(I)}let A={get action(){return u},get location(){return t(s,l)},listen(I){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Mx,v),d=I,()=>{s.removeEventListener(Mx,v),d=null}},createHref(I){return e(s,I)},createURL:k,encodeLocation(I){let j=k(I);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:T,go(I){return l.go(I)}};return A}function EA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Qc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wb(t,e,n="/"){return bA(t,e,n,!1)}function bA(t,e,n,r){let s=typeof e=="string"?ca(e):e,a=si(s.pathname||"/",n);if(a==null)return null;let l=xb(t);TA(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=LA(a);u=DA(l[d],f,r)}return u}function xb(t,e=[],n=[],r="",s=!1){let a=(l,u,d=s,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;ft(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=ni([r,g.relativePath]),_=n.concat(g);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),xb(l.children,e,_,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:kA(v,l.index),routesMeta:_})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of _b(l.path))a(l,u,!0,d)}),e}function _b(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=_b(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function TA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SA=/^:[\w-]+$/,IA=3,CA=2,RA=1,AA=10,PA=-2,Ox=t=>t==="*";function kA(t,e){let n=t.split("/"),r=n.length;return n.some(Ox)&&(r+=PA),e&&(r+=CA),n.filter(s=>!Ox(s)).reduce((s,a)=>s+(SA.test(a)?IA:a===""?RA:AA),r)}function NA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function DA(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Rh({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),_=d.route;if(!v&&f&&n&&!r[r.length-1].route.index&&(v=Rh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:ni([a,v.pathname]),pathnameBase:FA(ni([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=ni([a,v.pathnameBase]))}return l}function Rh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:v},_)=>{if(g==="*"){let k=u[_]||"";l=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const T=u[_];return v&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function jA(t,e=!1,n=!0){Ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function LA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ca(t):t;return{pathname:n?n.startsWith("/")?n:VA(n,e):e,search:UA(r),hash:BA(s)}}function VA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _m(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function py(t){let e=OA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function my(t,e,n,r=!1){let s;typeof t=="string"?s=ca(t):(s={...t},ft(!s.pathname||!s.pathname.includes("?"),_m("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),_m("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),_m("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}u=v>=0?e[v]:"/"}let d=MA(s,u),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var ni=t=>t.join("/").replace(/\/\/+/g,"/"),FA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Eb=["POST","PUT","PATCH","DELETE"];new Set(Eb);var $A=["GET",...Eb];new Set($A);var xl=b.createContext(null);xl.displayName="DataRouter";var of=b.createContext(null);of.displayName="DataRouterState";b.createContext(!1);var bb=b.createContext({isTransitioning:!1});bb.displayName="ViewTransition";var WA=b.createContext(new Map);WA.displayName="Fetchers";var qA=b.createContext(null);qA.displayName="Await";var Xr=b.createContext(null);Xr.displayName="Navigation";var vu=b.createContext(null);vu.displayName="Location";var Jr=b.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var gy=b.createContext(null);gy.displayName="RouteError";function HA(t,{relative:e}={}){ft(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Xr),{hash:s,pathname:a,search:l}=wu(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:ni([n,a])),r.createHref({pathname:u,search:l,hash:s})}function _l(){return b.useContext(vu)!=null}function Zr(){return ft(_l(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(vu).location}var Tb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sb(t){b.useContext(Xr).static||b.useLayoutEffect(t)}function Ls(){let{isDataRoute:t}=b.useContext(Jr);return t?iP():KA()}function KA(){ft(_l(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(xl),{basename:e,navigator:n}=b.useContext(Xr),{matches:r}=b.useContext(Jr),{pathname:s}=Zr(),a=JSON.stringify(py(r)),l=b.useRef(!1);return Sb(()=>{l.current=!0}),b.useCallback((d,f={})=>{if(Ir(l.current,Tb),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=my(d,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ni([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,a,s,t])}b.createContext(null);function Ib(){let{matches:t}=b.useContext(Jr),e=t[t.length-1];return e?e.params:{}}function wu(t,{relative:e}={}){let{matches:n}=b.useContext(Jr),{pathname:r}=Zr(),s=JSON.stringify(py(n));return b.useMemo(()=>my(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function GA(t,e){return Cb(t,e)}function Cb(t,e,n,r,s){ft(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Xr),{matches:l}=b.useContext(Jr),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let N=v&&v.path||"";Rb(f,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=Zr(),T;if(e){let N=typeof e=="string"?ca(e):e;ft(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),T=N}else T=_;let k=T.pathname||"/",A=k;if(g!=="/"){let N=g.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(N.length).join("/")}let I=wb(t,{pathname:A});Ir(v||I!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ir(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=ZA(I&&I.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:ni([g,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:ni([g,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,s);return e&&j?b.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},j):j}function QA(){let t=sP(),e=zA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,l)}var YA=b.createElement(QA,null),XA=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Jr.Provider,{value:this.props.routeContext},b.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JA({routeContext:t,match:e,children:n}){let r=b.useContext(xl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Jr.Provider,{value:t},n)}function ZA(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let f=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:v,errors:_}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||T){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,g,v)=>{let _,T=!1,k=null,A=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,k=g.route.errorElement||YA,u&&(d<0&&v===0?(Rb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):d===v&&(T=!0,A=g.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,v+1)),j=()=>{let N;return _?N=k:T?N=A:g.route.Component?N=b.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=f,b.createElement(JA,{match:g,routeContext:{outlet:f,matches:I,isDataRoute:n!=null},children:N})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(XA,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:j(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):j()},null)}function yy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eP(t){let e=b.useContext(xl);return ft(e,yy(t)),e}function tP(t){let e=b.useContext(of);return ft(e,yy(t)),e}function nP(t){let e=b.useContext(Jr);return ft(e,yy(t)),e}function vy(t){let e=nP(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rP(){return vy("useRouteId")}function sP(){let t=b.useContext(gy),e=tP("useRouteError"),n=vy("useRouteError");return t!==void 0?t:e.errors?.[n]}function iP(){let{router:t}=eP("useNavigate"),e=vy("useNavigate"),n=b.useRef(!1);return Sb(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{Ir(n.current,Tb),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Fx={};function Rb(t,e,n){!e&&!Fx[t]&&(Fx[t]=!0,Ir(!1,n))}b.memo(oP);function oP({routes:t,future:e,state:n,unstable_onError:r}){return Cb(t,void 0,n,r,e)}function aP({to:t,replace:e,state:n,relative:r}){ft(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Xr);Ir(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(Jr),{pathname:l}=Zr(),u=Ls(),d=my(t,py(a),l,r==="path"),f=JSON.stringify(d);return b.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function Js(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){ft(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=ca(n));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:_="default"}=n,T=b.useMemo(()=>{let k=si(d,l);return k==null?null:{location:{pathname:k,search:f,hash:g,state:v,key:_},navigationType:r}},[l,d,f,g,v,_,r]);return Ir(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:b.createElement(Xr.Provider,{value:u},b.createElement(vu.Provider,{children:e,value:T}))}function cP({children:t,location:e}){return GA(dg(t),e)}function dg(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let a=[...e,s];if(r.type===b.Fragment){n.push.apply(n,dg(r.props.children,a));return}ft(r.type===Js,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=dg(r.props.children,a)),n.push(l)}),n}var dh="get",hh="application/x-www-form-urlencoded";function af(t){return t!=null&&typeof t.tagName=="string"}function uP(t){return af(t)&&t.tagName.toLowerCase()==="button"}function dP(t){return af(t)&&t.tagName.toLowerCase()==="form"}function hP(t){return af(t)&&t.tagName.toLowerCase()==="input"}function fP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pP(t,e){return t.button===0&&(!e||e==="_self")&&!fP(t)}var Gd=null;function mP(){if(Gd===null)try{new FormData(document.createElement("form"),0),Gd=!1}catch{Gd=!0}return Gd}var gP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(t){return t!=null&&!gP.has(t)?(Ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):t}function yP(t,e){let n,r,s,a,l;if(dP(t)){let u=t.getAttribute("action");r=u?si(u,e):null,n=t.getAttribute("method")||dh,s=Em(t.getAttribute("enctype"))||hh,a=new FormData(t)}else if(uP(t)||hP(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?si(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||dh,s=Em(t.getAttribute("formenctype"))||Em(u.getAttribute("enctype"))||hh,a=new FormData(u,t),!mP()){let{name:f,type:g,value:v}=t;if(g==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,v)}}else{if(af(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,r=null,s=hh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&si(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function wP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _P(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await wP(a,n);return l.links?l.links():[]}return[]}));return SP(r.flat(1).filter(xP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ux(t,e,n,r,s,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?e.filter((d,f)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function EP(t,e,{includeHydrateFallback:n}={}){return bP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function bP(t){return[...new Set(t)]}function TP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function SP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(TP(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function Ab(){let t=b.useContext(xl);return wy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function IP(){let t=b.useContext(of);return wy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xy=b.createContext(void 0);xy.displayName="FrameworkContext";function Pb(){let t=b.useContext(xy);return wy(t,"You must render this element inside a <HydratedRouter> element"),t}function CP(t,e){let n=b.useContext(xy),[r,s]=b.useState(!1),[a,l]=b.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,_=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=j=>{j.forEach(N=>{l(N.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),b.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{s(!0)},k=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,_,{}]:[a,_,{onFocus:Ec(u,T),onBlur:Ec(d,k),onMouseEnter:Ec(f,T),onMouseLeave:Ec(g,k),onTouchStart:Ec(v,T)}]:[!1,_,{}]}function Ec(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RP({page:t,...e}){let{router:n}=Ab(),r=b.useMemo(()=>wb(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(PP,{page:t,matches:r,...e}):null}function AP(t){let{manifest:e,routeModules:n}=Pb(),[r,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return _P(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function PP({page:t,matches:e,...n}){let r=Zr(),{manifest:s,routeModules:a}=Pb(),{basename:l}=Ab(),{loaderData:u,matches:d}=IP(),f=b.useMemo(()=>Ux(t,e,d,s,r,"data"),[t,e,d,s,r]),g=b.useMemo(()=>Ux(t,e,d,s,r,"assets"),[t,e,d,s,r]),v=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,A=!1;if(e.forEach(j=>{let N=s.routes[j.route.id];!N||!N.hasLoader||(!f.some(F=>F.route.id===j.route.id)&&j.route.id in u&&a[j.route.id]?.shouldRevalidate||N.hasClientLoader?A=!0:k.add(j.route.id))}),k.size===0)return[];let I=vP(t,l,"data");return A&&k.size>0&&I.searchParams.set("_routes",e.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[I.pathname+I.search]},[l,u,r,s,f,e,t,a]),_=b.useMemo(()=>EP(g,s),[g,s]),T=AP(g);return b.createElement(b.Fragment,null,v.map(k=>b.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),_.map(k=>b.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),T.map(({key:k,link:A})=>b.createElement("link",{key:k,nonce:n.nonce,...A})))}function kP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kb&&(window.__reactRouterVersion="7.9.4")}catch{}function NP({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=wA({window:n,v5Compat:!0}));let s=r.current,[a,l]=b.useState({action:s.action,location:s.location}),u=b.useCallback(d=>{b.startTransition(()=>l(d))},[l]);return b.useLayoutEffect(()=>s.listen(u),[s,u]),b.createElement(lP,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:g,viewTransition:v,..._},T){let{basename:k}=b.useContext(Xr),A=typeof f=="string"&&Nb.test(f),I,j=!1;if(typeof f=="string"&&A&&(I=f,kb))try{let D=new URL(window.location.href),L=f.startsWith("//")?new URL(D.protocol+f):new URL(f),O=si(L.pathname,k);L.origin===D.origin&&O!=null?f=O+L.search+L.hash:j=!0}catch{Ir(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=HA(f,{relative:s}),[F,W,G]=CP(r,_),q=MP(f,{replace:l,state:u,target:d,preventScrollReset:g,relative:s,viewTransition:v});function R(D){e&&e(D),D.defaultPrevented||q(D)}let C=b.createElement("a",{..._,...G,href:I||N,onClick:j||a?e:R,ref:kP(T,W),target:d,"data-discover":!A&&n==="render"?"true":void 0});return F&&!A?b.createElement(b.Fragment,null,C,b.createElement(RP,{page:N})):C});on.displayName="Link";var DP=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...f},g){let v=wu(l,{relative:f.relative}),_=Zr(),T=b.useContext(of),{navigator:k,basename:A}=b.useContext(Xr),I=T!=null&&BP(v)&&u===!0,j=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,N=_.pathname,F=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(N=N.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&A&&(F=si(F,A)||F);const W=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let G=N===j||!s&&N.startsWith(j)&&N.charAt(W)==="/",q=F!=null&&(F===j||!s&&F.startsWith(j)&&F.charAt(j.length)==="/"),R={isActive:G,isPending:q,isTransitioning:I},C=G?e:void 0,D;typeof r=="function"?D=r(R):D=[r,G?"active":null,q?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(R):a;return b.createElement(on,{...f,"aria-current":C,className:D,ref:g,style:L,to:l,viewTransition:u},typeof d=="function"?d(R):d)});DP.displayName="NavLink";var jP=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=dh,action:u,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:v,..._},T)=>{let k=FP(),A=UP(u,{relative:f}),I=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&Nb.test(u),N=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let W=F.nativeEvent.submitter,G=W?.getAttribute("formmethod")||l;k(W||F.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:s,state:a,relative:f,preventScrollReset:g,viewTransition:v})};return b.createElement("form",{ref:T,method:I,action:A,onSubmit:r?d:N,..._,"data-discover":!j&&t==="render"?"true":void 0})});jP.displayName="Form";function LP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Db(t){let e=b.useContext(xl);return ft(e,LP(t)),e}function MP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=Ls(),d=Zr(),f=wu(t,{relative:a});return b.useCallback(g=>{if(pP(g,e)){g.preventDefault();let v=n!==void 0?n:Qc(d)===Qc(f);u(t,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,u,f,n,r,e,t,s,a,l])}var VP=0,OP=()=>`__${String(++VP)}__`;function FP(){let{router:t}=Db("useSubmit"),{basename:e}=b.useContext(Xr),n=rP();return b.useCallback(async(r,s={})=>{let{action:a,method:l,encType:u,formData:d,body:f}=yP(r,e);if(s.navigate===!1){let g=s.fetcherKey||OP();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function UP(t,{relative:e}={}){let{basename:n}=b.useContext(Xr),r=b.useContext(Jr);ft(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...wu(t||".",{relative:e})},l=Zr();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ni([n,a.pathname])),Qc(a)}function BP(t,{relative:e}={}){let n=b.useContext(bb);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Db("useViewTransitionState"),s=wu(t,{relative:e});if(!n.isTransitioning)return!1;let a=si(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=si(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rh(s.pathname,l)!=null||Rh(s.pathname,a)!=null}var Ic=vb();const zP=()=>{};var Bx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$P=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|f>>6,T=f&63;d||(T=64,l||(_=64)),r.push(n[g],n[v],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$P(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||f==null||v==null)throw new WP;const _=a<<2|u>>4;if(r.push(_),f!==64){const T=u<<4&240|f>>2;if(r.push(T),v!==64){const k=f<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qP=function(t){const e=jb(t);return Lb.encodeByteArray(e,!0)},Ah=function(t){return qP(t).replace(/\./g,"")},Mb=function(t){try{return Lb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=()=>HP().__FIREBASE_DEFAULTS__,GP=()=>{if(typeof process>"u"||typeof Bx>"u")return;const t=Bx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mb(t[1]);return e&&JSON.parse(e)},lf=()=>{try{return zP()||KP()||GP()||QP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vb=t=>lf()?.emulatorHosts?.[t],Ob=t=>{const e=Vb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fb=()=>lf()?.config,Ub=t=>lf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _y(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(l)),""].join(".")}const jc={};function XP(){const t={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?t.emulator.push(e):t.prod.push(e);return t}function JP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zx=!1;function Ey(t,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||jc[t]===e||jc[t]||zx)return;jc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=XP().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{zx=!0,l()},_}function g(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=JP(r),T=n("text"),k=document.getElementById(T)||document.createElement("span"),A=n("learnmore"),I=document.getElementById(A)||document.createElement("a"),j=n("preprendIcon"),N=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;u(F),g(I,A);const W=f();d(N,j),F.append(N,k,I,W),document.body.appendChild(F)}a?(k.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function ek(){const t=lf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rk(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sk(){return!ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $b(){try{return typeof indexedDB=="object"}catch{return!1}}function Wb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function ik(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ok,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}}class ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?ak(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new kr(s,u,r)}}function ak(t,e){return t.replace(lk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lk=/\{\$([^}]+)}/g;function ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if($x(a)&&$x(l)){if(!Yi(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $x(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uk(t,e){const n=new dk(t,e);return n.subscribe.bind(n)}class dk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=bm),s.error===void 0&&(s.error=bm),s.complete===void 0&&(s.complete=bm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=1e3,pk=2,mk=14400*1e3,gk=.5;function Wx(t,e=fk,n=pk){const r=e*Math.pow(n,t),s=Math.round(gk*r*(Math.random()-.5)*2);return Math.min(mk,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wk(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vk(t){return t===Wo?void 0:t}function wk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const _k={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Ek=Ue.INFO,bk={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Tk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=bk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cf{constructor(e){this.name=e,this._logLevel=Ek,this._logHandler=Tk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Sk=(t,e)=>e.some(n=>t instanceof n);let qx,Hx;function Ik(){return qx||(qx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ck(){return Hx||(Hx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qb=new WeakMap,hg=new WeakMap,Hb=new WeakMap,Tm=new WeakMap,by=new WeakMap;function Rk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Hi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&qb.set(n,t)}).catch(()=>{}),by.set(e,t),e}function Ak(t){if(hg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});hg.set(t,e)}let fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pk(t){fg=t(fg)}function kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sm(this),e,...n);return Hb.set(r,e.sort?e.sort():[e]),Hi(r)}:Ck().includes(t)?function(...e){return t.apply(Sm(this),e),Hi(qb.get(this))}:function(...e){return Hi(t.apply(Sm(this),e))}}function Nk(t){return typeof t=="function"?kk(t):(t instanceof IDBTransaction&&Ak(t),Sk(t,Ik())?new Proxy(t,fg):t)}function Hi(t){if(t instanceof IDBRequest)return Rk(t);if(Tm.has(t))return Tm.get(t);const e=Nk(t);return e!==t&&(Tm.set(t,e),by.set(e,t)),e}const Sm=t=>by.get(t);function Kb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=Hi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Hi(l.result),d.oldVersion,d.newVersion,Hi(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const Dk=["get","getKey","getAll","getAllKeys","count"],jk=["put","add","delete","clear"],Im=new Map;function Kx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=jk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Dk.includes(n)))return;const a=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&d.done]))[0]};return Im.set(e,a),a}Pk(t=>({...t,get:(e,n,r)=>Kx(e,n)||t.get(e,n,r),has:(e,n)=>!!Kx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mk(t){return t.getComponent()?.type==="VERSION"}const pg="@firebase/app",Gx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new cf("@firebase/app"),Vk="@firebase/app-compat",Ok="@firebase/analytics-compat",Fk="@firebase/analytics",Uk="@firebase/app-check-compat",Bk="@firebase/app-check",zk="@firebase/auth",$k="@firebase/auth-compat",Wk="@firebase/database",qk="@firebase/data-connect",Hk="@firebase/database-compat",Kk="@firebase/functions",Gk="@firebase/functions-compat",Qk="@firebase/installations",Yk="@firebase/installations-compat",Xk="@firebase/messaging",Jk="@firebase/messaging-compat",Zk="@firebase/performance",eN="@firebase/performance-compat",tN="@firebase/remote-config",nN="@firebase/remote-config-compat",rN="@firebase/storage",sN="@firebase/storage-compat",iN="@firebase/firestore",oN="@firebase/ai",aN="@firebase/firestore-compat",lN="firebase",cN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="[DEFAULT]",uN={[pg]:"fire-core",[Vk]:"fire-core-compat",[Fk]:"fire-analytics",[Ok]:"fire-analytics-compat",[Bk]:"fire-app-check",[Uk]:"fire-app-check-compat",[zk]:"fire-auth",[$k]:"fire-auth-compat",[Wk]:"fire-rtdb",[qk]:"fire-data-connect",[Hk]:"fire-rtdb-compat",[Kk]:"fire-fn",[Gk]:"fire-fn-compat",[Qk]:"fire-iid",[Yk]:"fire-iid-compat",[Xk]:"fire-fcm",[Jk]:"fire-fcm-compat",[Zk]:"fire-perf",[eN]:"fire-perf-compat",[tN]:"fire-rc",[nN]:"fire-rc-compat",[rN]:"fire-gcs",[sN]:"fire-gcs-compat",[iN]:"fire-fst",[aN]:"fire-fst-compat",[oN]:"fire-vertex","fire-js":"fire-js",[lN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,dN=new Map,gg=new Map;function Qx(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gr(t){const e=t.name;if(gg.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;gg.set(e,t);for(const n of Ph.values())Qx(n,t);for(const n of dN.values())Qx(n,t);return!0}function oo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new ua("app","Firebase",hN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=cN;function Gb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:mg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ki.create("bad-app-name",{appName:String(s)});if(n||(n=Fb()),!n)throw Ki.create("no-options");const a=Ph.get(s);if(a){if(Yi(n,a.options)&&Yi(r,a.config))return a;throw Ki.create("duplicate-app",{appName:s})}const l=new xk(s);for(const d of gg.values())l.addComponent(d);const u=new fN(n,r,l);return Ph.set(s,u),u}function uf(t=mg){const e=Ph.get(t);if(!e&&t===mg&&Fb())return Gb();if(!e)throw Ki.create("no-app",{appName:t});return e}function Gn(t,e,n){let r=uN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(l.join(" "));return}Gr(new Cr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="firebase-heartbeat-database",mN=1,Yc="firebase-heartbeat-store";let Cm=null;function Qb(){return Cm||(Cm=Kb(pN,mN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Cm}async function gN(t){try{const n=(await Qb()).transaction(Yc),r=await n.objectStore(Yc).get(Yb(t));return await n.done,r}catch(e){if(e instanceof kr)ii.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e?.message});ii.warn(n.message)}}}async function Yx(t,e){try{const r=(await Qb()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,Yb(t)),await r.done}catch(n){if(n instanceof kr)ii.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n?.message});ii.warn(r.message)}}}function Yb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1024,vN=30;class wN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _N(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>vN){const s=EN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xx(),{heartbeatsToSend:n,unsentEntries:r}=xN(this._heartbeatsCache.heartbeats),s=Ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ii.warn(e),""}}}function Xx(){return new Date().toISOString().substring(0,10)}function xN(t,e=yN){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Jx(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Jx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $b()?Wb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Jx(t){return Ah(JSON.stringify({version:2,heartbeats:t})).length}function EN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){Gr(new Cr("platform-logger",e=>new Lk(e),"PRIVATE")),Gr(new Cr("heartbeat",e=>new wN(e),"PRIVATE")),Gn(pg,Gx,t),Gn(pg,Gx,"esm2020"),Gn("fire-js","")}bN("");var TN="firebase",SN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(TN,SN,"app");const Xb="@firebase/installations",Ty="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=1e4,Zb=`w:${Ty}`,eT="FIS_v2",IN="https://firebaseinstallations.googleapis.com/v1",CN=3600*1e3,RN="installations",AN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ta=new ua(RN,AN,PN);function tT(t){return t instanceof kr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT({projectId:t}){return`${IN}/projects/${t}/installations`}function rT(t){return{token:t.token,requestStatus:2,expiresIn:NN(t.expiresIn),creationTime:Date.now()}}async function sT(t,e){const r=(await e.json()).error;return ta.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function iT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kN(t,{refreshToken:e}){const n=iT(t);return n.append("Authorization",DN(e)),n}async function oT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function NN(t){return Number(t.replace("s","000"))}function DN(t){return`${eT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nT(t),s=iT(t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:n,authVersion:eT,appId:t.appId,sdkVersion:Zb},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await oT(()=>fetch(r,u));if(d.ok){const f=await d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:rT(f.authToken)}}else throw await sT("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^[cdef][\w-]{21}$/,yg="";function VN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=ON(t);return MN.test(n)?n:yg}catch{return yg}}function ON(t){return LN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;function cT(t,e){const n=df(t);uT(n,e),FN(n,e)}function uT(t,e){const n=lT.get(t);if(n)for(const r of n)r(e)}function FN(t,e){const n=UN();n&&n.postMessage({key:t,fid:e}),BN()}let Ho=null;function UN(){return!Ho&&"BroadcastChannel"in self&&(Ho=new BroadcastChannel("[Firebase] FID Change"),Ho.onmessage=t=>{uT(t.data.key,t.data.fid)}),Ho}function BN(){lT.size===0&&Ho&&(Ho.close(),Ho=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="firebase-installations-database",$N=1,na="firebase-installations-store";let Rm=null;function Sy(){return Rm||(Rm=Kb(zN,$N,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(na)}}})),Rm}async function kh(t,e){const n=df(t),s=(await Sy()).transaction(na,"readwrite"),a=s.objectStore(na),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&cT(t,e.fid),e}async function dT(t){const e=df(t),r=(await Sy()).transaction(na,"readwrite");await r.objectStore(na).delete(e),await r.done}async function hf(t,e){const n=df(t),s=(await Sy()).transaction(na,"readwrite"),a=s.objectStore(na),l=await a.get(n),u=e(l);return u===void 0?await a.delete(n):await a.put(u,n),await s.done,u&&(!l||l.fid!==u.fid)&&cT(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){let e;const n=await hf(t.appConfig,r=>{const s=WN(r),a=qN(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===yg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function WN(t){const e=t||{fid:VN(),registrationStatus:0};return hT(e)}function qN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ta.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=HN(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:KN(t)}:{installationEntry:e}}async function HN(t,e){try{const n=await jN(t,e);return kh(t.appConfig,n)}catch(n){throw tT(n)&&n.customData.serverCode===409?await dT(t.appConfig):await kh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function KN(t){let e=await Zx(t.appConfig);for(;e.registrationStatus===1;)await aT(100),e=await Zx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Iy(t);return r||n}return e}function Zx(t){return hf(t,e=>{if(!e)throw ta.create("installation-not-found");return hT(e)})}function hT(t){return GN(t)?{fid:t.fid,registrationStatus:0}:t}function GN(t){return t.registrationStatus===1&&t.registrationTime+Jb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN({appConfig:t,heartbeatServiceProvider:e},n){const r=YN(t,n),s=kN(t,n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:Zb,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await oT(()=>fetch(r,u));if(d.ok){const f=await d.json();return rT(f)}else throw await sT("Generate Auth Token",d)}function YN(t,{fid:e}){return`${nT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cy(t,e=!1){let n;const r=await hf(t.appConfig,a=>{if(!fT(a))throw ta.create("not-registered");const l=a.authToken;if(!e&&ZN(l))return a;if(l.requestStatus===1)return n=XN(t,e),a;{if(!navigator.onLine)throw ta.create("app-offline");const u=tD(a);return n=JN(t,u),u}});return n?await n:r.authToken}async function XN(t,e){let n=await e_(t.appConfig);for(;n.authToken.requestStatus===1;)await aT(100),n=await e_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Cy(t,e):r}function e_(t){return hf(t,e=>{if(!fT(e))throw ta.create("not-registered");const n=e.authToken;return nD(n)?{...e,authToken:{requestStatus:0}}:e})}async function JN(t,e){try{const n=await QN(t,e),r={...e,authToken:n};return await kh(t.appConfig,r),n}catch(n){if(tT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dT(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await kh(t.appConfig,r)}throw n}}function fT(t){return t!==void 0&&t.registrationStatus===2}function ZN(t){return t.requestStatus===2&&!eD(t)}function eD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CN}function tD(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function nD(t){return t.requestStatus===1&&t.requestTime+Jb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Iy(e);return r?r.catch(console.error):Cy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t,e=!1){const n=t;return await iD(n),(await Cy(n,e)).token}async function iD(t){const{registrationPromise:e}=await Iy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){if(!t||!t.options)throw Am("App Configuration");if(!t.name)throw Am("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Am(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Am(t){return ta.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="installations",aD="installations-internal",lD=t=>{const e=t.getProvider("app").getImmediate(),n=oD(e),r=oo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},cD=t=>{const e=t.getProvider("app").getImmediate(),n=oo(e,pT).getImmediate();return{getId:()=>rD(n),getToken:s=>sD(n,s)}};function uD(){Gr(new Cr(pT,lD,"PUBLIC")),Gr(new Cr(aD,cD,"PRIVATE"))}uD();Gn(Xb,Ty);Gn(Xb,Ty,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="analytics",dD="firebase_id",hD="origin",fD=60*1e3,pD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ry="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new cf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cr=new ua("analytics","Analytics",mD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){if(!t.startsWith(Ry)){const e=cr.create("invalid-gtag-resource",{gtagURL:t});return Ln.warn(e.message),""}return t}function mT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function yD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function vD(t,e){const n=yD("firebase-js-sdk-policy",{createScriptURL:gD}),r=document.createElement("script"),s=`${Ry}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function wD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function xD(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await mT(n)).find(f=>f.measurementId===s);d&&await e[d.appId]}}catch(u){Ln.error(u)}t("config",s,a)}async function _D(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await mT(n);for(const d of l){const f=u.find(v=>v.measurementId===d),g=f&&e[f.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){Ln.error(a)}}function ED(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[u,d]=l;await _D(t,e,n,u,d)}else if(a==="config"){const[u,d]=l;await xD(t,e,n,r,u,d)}else if(a==="consent"){const[u,d]=l;t("consent",u,d)}else if(a==="get"){const[u,d,f]=l;t("get",u,d,f)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){Ln.error(u)}}return s}function bD(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=ED(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function TD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ry)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=30,ID=1e3;class CD{constructor(e={},n=ID){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gT=new CD;function RD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AD(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:RD(n)},s=pD.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();u.error?.message&&(l=u.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function PD(t,e=gT,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw cr.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw cr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new DD;return setTimeout(async()=>{u.abort()},fD),yT({appId:r,apiKey:s,measurementId:a},l,u,e)}async function yT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=gT){const{appId:a,measurementId:l}=t;try{await kD(r,e)}catch(u){if(l)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw u}try{const u=await AD(t);return s.deleteThrottleMetadata(a),u}catch(u){const d=u;if(!ND(d)){if(s.deleteThrottleMetadata(a),l)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:l};throw u}const f=Number(d?.customData?.httpStatus)===503?Wx(n,s.intervalMillis,SD):Wx(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(a,g),Ln.debug(`Calling attemptFetch again in ${f} millis`),yT(t,g,r,s)}}function kD(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ND(t){if(!(t instanceof kr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class DD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jD(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function LD(t,e,n,r){if(r&&r.global){const s={};for(const a of Object.keys(n))s[`user_properties.${a}`]=n[a];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(){if($b())try{await Wb()}catch(t){return Ln.warn(cr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ln.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VD(t,e,n,r,s,a,l){const u=PD(t);u.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Ln.error(_)),e.push(u);const d=MD().then(_=>{if(_)return r.getId()}),[f,g]=await Promise.all([u,d]);TD(a)||vD(a,f.measurementId),s("js",new Date);const v=l?.config??{};return v[hD]="firebase",v.update=!0,g!=null&&(v[dD]=g),s("config",f.measurementId,v),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.app=e}_delete(){return delete rl[this.app.options.appId],Promise.resolve()}}let rl={},t_=[];const n_={};let Pm="dataLayer",FD="gtag",r_,Ay,s_=!1;function UD(){const t=[];if(zb()&&t.push("This is a browser extension environment."),ik()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=cr.create("invalid-analytics-context",{errorInfo:e});Ln.warn(n.message)}}function BD(t,e,n){UD();const r=t.options.appId;if(!r)throw cr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cr.create("no-api-key");if(rl[r]!=null)throw cr.create("already-exists",{id:r});if(!s_){wD(Pm);const{wrappedGtag:a,gtagCore:l}=bD(rl,t_,n_,Pm,FD);Ay=a,r_=l,s_=!0}return rl[r]=VD(t,t_,n_,e,r_,Pm,n),new OD(t)}function zD(t=uf()){t=ct(t);const e=oo(t,Nh);return e.isInitialized()?e.getImmediate():$D(t)}function $D(t,e={}){const n=oo(t,Nh);if(n.isInitialized()){const s=n.getImmediate();if(Yi(e,n.getOptions()))return s;throw cr.create("already-initialized")}return n.initialize({options:e})}function WD(t,e,n){t=ct(t),LD(Ay,rl[t.app.options.appId],e,n).catch(r=>Ln.error(r))}function qD(t,e,n,r){t=ct(t),jD(Ay,rl[t.app.options.appId],e,n,r).catch(s=>Ln.error(s))}const i_="@firebase/analytics",o_="0.10.19";function HD(){Gr(new Cr(Nh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return BD(r,s,n)},"PUBLIC")),Gr(new Cr("analytics-internal",t,"PRIVATE")),Gn(i_,o_),Gn(i_,o_,"esm2020");function t(e){try{const n=e.getProvider(Nh).getImmediate();return{logEvent:(r,s,a)=>qD(n,r,s,a),setUserProperties:(r,s)=>WD(n,r,s)}}catch(n){throw cr.create("interop-component-reg-failed",{reason:n})}}}HD();function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KD=vT,wT=new ua("auth","Firebase",vT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new cf("@firebase/auth");function GD(t,...e){Dh.logLevel<=Ue.WARN&&Dh.warn(`Auth (${da}): ${t}`,...e)}function fh(t,...e){Dh.logLevel<=Ue.ERROR&&Dh.error(`Auth (${da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw ky(t,...e)}function Kr(t,...e){return ky(t,...e)}function Py(t,e,n){const r={...KD(),[e]:n};return new ua("auth","Firebase",r).create(e,{appName:t.name})}function ri(t){return Py(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rr(t,"argument-error"),Py(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ky(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wT.create(t,...e)}function Se(t,e,...n){if(!t)throw ky(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fh(e),new Error(e)}function oi(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){return typeof self<"u"&&self.location?.href||""}function YD(){return a_()==="http:"||a_()==="https:"}function a_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YD()||zb()||"connection"in navigator)?navigator.onLine:!0}function JD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=ZP()||nk()}get(){return XD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t5=new _u(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lo(t,e,n,r,s={}){return _T(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=xu({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...a};return tk()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&io(t.emulatorConfig.host)&&(f.credentials="include"),xT.fetch()(await ET(t,t.config.apiHost,n,u),f)})}async function _T(t,e,n){t._canInitEmulator=!1;const r={...ZD,...e};try{const s=new r5(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Qd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qd(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Qd(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Qd(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Py(t,g,f);Rr(t,g)}}catch(s){if(s instanceof kr)throw s;Rr(t,"network-request-failed",{message:String(s)})}}async function Eu(t,e,n,r,s={}){const a=await lo(t,e,n,r,s);return"mfaPendingCredential"in a&&Rr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function ET(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?Ny(t.config,s):`${t.config.apiScheme}://${s}`;return e5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function n5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),t5.get())})}}function Qd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Kr(t,e,r);return s.customData._tokenResponse=n,s}function l_(t){return t!==void 0&&t.enterprise!==void 0}class s5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return n5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function i5(t,e){return lo(t,"GET","/v2/recaptchaConfig",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function jh(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a5(t,e=!1){const n=ct(t),r=await n.getIdToken(e),s=Dy(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Lc(km(s.auth_time)),issuedAtTime:Lc(km(s.iat)),expirationTime:Lc(km(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function km(t){return Number(t)*1e3}function Dy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Mb(n);return s?JSON.parse(s):(fh("Failed to decode base64 JWT payload"),null)}catch(s){return fh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function c_(t){const e=Dy(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&l5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function l5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){const e=t.auth,n=await t.getIdToken(),r=await Xc(t,jh(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?bT(s.providerUserInfo):[],l=d5(t.providerData,a),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new wg(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function u5(t){const e=ct(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function bT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e){const n=await _T(t,{},async()=>{const r=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await ET(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&io(t.emulatorConfig.host)&&(d.credentials="include"),xT.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f5(t,e){return lo(t,"POST","/v2/accounts:revokeToken",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=c_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await h5(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new sl;return r&&(Se(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new c5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a5(this,e)}reload(){return u5(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await Xc(this,o5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:T,providerData:k,stsTokenManager:A}=n;Se(v&&A,e,"internal-error");const I=sl.fromJSON(this.name,A);Se(typeof v=="string",e,"internal-error"),Vi(r,e.name),Vi(s,e.name),Se(typeof _=="boolean",e,"internal-error"),Se(typeof T=="boolean",e,"internal-error"),Vi(a,e.name),Vi(l,e.name),Vi(u,e.name),Vi(d,e.name),Vi(f,e.name),Vi(g,e.name);const j=new Hr({uid:v,auth:e,email:s,emailVerified:_,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:I,createdAt:f,lastLoginAt:g});return k&&Array.isArray(k)&&(j.providerData=k.map(N=>({...N}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new sl;s.updateFromServerResponse(n);const a=new Hr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Se(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?bT(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new sl;u.updateFromIdToken(r);const d=new Hr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;function ti(t){oi(t instanceof Function,"Expected a class definition");let e=u_.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TT.type="NONE";const d_=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t,e,n){return`firebase:${t}:${e}:${n}`}class il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=ph(this.userKey,s.apiKey,a),this.fullPersistenceKey=ph("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jh(this.auth,{idToken:e}).catch(()=>{});return n?Hr._fromGetAccountInfoResponse(this.auth,n,e):null}return Hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new il(ti(d_),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||ti(d_);const l=ph(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const g=await f._get(l);if(g){let v;if(typeof g=="string"){const _=await jh(e,{idToken:g}).catch(()=>{});if(!_)break;v=await Hr._fromGetAccountInfoResponse(e,_,g)}else v=Hr._fromJSON(e,g);f!==a&&(u=v),a=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new il(a,e,r):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new il(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(kT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||CT(e))&&!e.includes("edge/"))return"Chrome";if(AT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ST(t=In()){return/firefox\//i.test(t)}function IT(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CT(t=In()){return/crios\//i.test(t)}function RT(t=In()){return/iemobile/i.test(t)}function AT(t=In()){return/android/i.test(t)}function PT(t=In()){return/blackberry/i.test(t)}function kT(t=In()){return/webos/i.test(t)}function jy(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p5(t=In()){return jy(t)&&!!window.navigator?.standalone}function m5(){return rk()&&document.documentMode===10}function NT(t=In()){return jy(t)||AT(t)||kT(t)||PT(t)||/windows phone/i.test(t)||RT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e=[]){let n;switch(t){case"Browser":n=h_(In());break;case"Worker":n=`${h_(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t,e={}){return lo(t,"GET","/v2/passwordPolicy",ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=6;class w5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??v5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f_(this),this.idTokenSubscription=new f_(this),this.beforeStateQueue=new g5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jh(this,{idToken:e}),r=await Hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(ri(this));const n=e?ct(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y5(this),n=new w5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f5(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function co(t){return ct(t)}class f_{constructor(e){this.auth=e,this.observer=null,this.addObserver=uk(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _5(t){ff=t}function jT(t){return ff.loadJS(t)}function E5(){return ff.recaptchaEnterpriseScript}function b5(){return ff.gapiScript}function T5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class S5{constructor(){this.enterprise=new I5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const C5="recaptcha-enterprise",LT="NO_RECAPTCHA";class R5{constructor(e){this.type=C5,this.auth=co(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{i5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new s5(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function s(a,l,u){const d=window.grecaptcha;l_(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(LT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S5().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&l_(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=E5();d.length!==0&&(d+=u),jT(d).then(()=>{s(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function p_(t,e,n,r=!1,s=!1){const a=new R5(t);let l;if(s)l=LT;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xg(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await p_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await p_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t,e){const n=oo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Yi(a,e??{}))return s;Rr(s,"already-initialized")}return n.initialize({options:e})}function P5(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function k5(t,e,n){const r=co(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=MT(e),{host:l,port:u}=N5(e),d=u===null?"":`:${u}`,f={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Yi(f,r.config.emulator)&&Yi(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,io(l)?(_y(`${a}//${l}${d}`),Ey("Auth",!0)):D5()}function MT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N5(t){const e=MT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:m_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:m_(l)}}}function m_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function j5(t,e){return lo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(t,e){return Eu(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function V5(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Ly{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,n,"signInWithPassword",L5);case"emailLink":return M5(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,r,"signUpPassword",j5);case"emailLink":return V5(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e){return Eu(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="http://localhost";class ra extends Ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ra(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ol(e,n)}buildRequest(){const e={requestUri:O5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U5(t){const e=Cc(Rc(t)).link,n=e?Cc(Rc(e)).deep_link_id:null,r=Cc(Rc(t)).deep_link_id;return(r?Cc(Rc(r)).link:null)||r||n||e||t}class My{constructor(e){const n=Cc(Rc(e)),r=n.apiKey??null,s=n.oobCode??null,a=F5(n.mode??null);Se(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=U5(e);try{return new My(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=My.parseLink(n);return Se(r,"argument-error"),Jc._fromEmailAndCode(e,r.code,r.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Vy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends bu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends bu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends bu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e){return Eu(t,"POST","/v1/accounts:signUp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Hr._fromIdTokenResponse(e,r,s),l=g_(r);return new sa({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=g_(r);return new sa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function g_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends kr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mh(e,n,r,s)}}function VT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,a,e,r):a})}async function z5(t,e,n=!1){const r=await Xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(ri(r));const s="reauthenticate";try{const a=await Xc(t,VT(r,s,e,t),n);Se(a.idToken,r,"internal-error");const l=Dy(a.idToken);Se(l,r,"internal-error");const{sub:u}=l;return Se(t.uid===u,r,"user-mismatch"),sa._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Rr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(t,e,n=!1){if(qn(t.app))return Promise.reject(ri(t));const r="signIn",s=await VT(t,r,e),a=await sa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function W5(t,e){return OT(co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(t){const e=co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UT(t,e,n){if(qn(t.app))return Promise.reject(ri(t));const r=co(t),l=await xg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B5).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&FT(t),d}),u=await sa._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function BT(t,e,n){return qn(t.app)?Promise.reject(ri(t)):W5(ct(t),El.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FT(t),r})}function q5(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function H5(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function Tu(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function K5(t){return ct(t).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=1e3,Q5=10;class $T extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);m5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Q5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$T.type="LOCAL";const Y5=$T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WT.type="SESSION";const qT=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async f=>f(n.origin,a)),d=await X5(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const f=Oy("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return window}function Z5(t){Ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function e4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t4(){return navigator?.serviceWorker?.controller||null}function n4(){return HT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebaseLocalStorageDb",r4=1,Oh="firebaseLocalStorage",GT="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(t,e){return t.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function s4(){const t=indexedDB.deleteDatabase(KT);return new Su(t).toPromise()}function _g(){const t=indexedDB.open(KT,r4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Oh,{keyPath:GT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),await s4(),e(await _g()))})})}async function y_(t,e,n){const r=mf(t,!0).put({[GT]:e,value:n});return new Su(r).toPromise()}async function i4(t,e){const n=mf(t,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function v_(t,e){const n=mf(t,!0).delete(e);return new Su(n).toPromise()}const o4=800,a4=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(n4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e4(),!this.activeServiceWorker)return;this.sender=new J5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _g();return await y_(e,Vh,"1"),await v_(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=mf(s,!1).getAll();return new Su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const l4=QT;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e){return e?ti(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c4(t){return OT(t.auth,new Fy(t),t.bypassAuthState)}function u4(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),$5(n,new Fy(t),t.bypassAuthState)}async function d4(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),z5(n,new Fy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c4;case"linkViaPopup":case"linkViaRedirect":return d4;case"reauthViaPopup":case"reauthViaRedirect":return u4;default:Rr(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new _u(2e3,1e4);async function JT(t,e,n){if(qn(t.app))return Promise.reject(Kr(t,"operation-not-supported-in-this-environment"));const r=co(t);QD(t,e,Vy);const s=YT(r,n);return new Ko(r,"signInViaPopup",e,s).executeNotNull()}class Ko extends XT{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h4.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="pendingRedirect",mh=new Map;class p4 extends XT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await m4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m4(t,e){const n=v4(e),r=y4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function g4(t,e){mh.set(t._key(),e)}function y4(t){return ti(t._redirectPersistence)}function v4(t){return ph(f4,t.config.apiKey,t.name)}async function w4(t,e,n=!1){if(qn(t.app))return Promise.reject(ri(t));const r=co(t),s=YT(r,e),l=await new p4(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=600*1e3;class _4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ZT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Kr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x4&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function E4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S4=/^https?/;async function I4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b4(t);for(const n of e)try{if(C4(n))return}catch{}Rr(t,"unauthorized-domain")}function C4(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!S4.test(n))return!1;if(T4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new _u(3e4,6e4);function x_(){const t=Ts().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A4(t){return new Promise((e,n)=>{function r(){x_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x_(),n(Kr(t,"network-request-failed"))},timeout:R4.get()})}if(Ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ts().gapi?.load)r();else{const s=T5("iframefcb");return Ts()[s]=()=>{gapi.load?r():n(Kr(t,"network-request-failed"))},jT(`${b5()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw gh=null,e})}let gh=null;function P4(t){return gh=gh||A4(t),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new _u(5e3,15e3),N4="__/auth/iframe",D4="emulator/auth/iframe",j4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M4(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,D4):`https://${t.config.authDomain}/${N4}`,r={apiKey:e.apiKey,appName:t.name,v:da},s=L4.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${xu(r).slice(1)}`}async function V4(t){const e=await P4(t),n=Ts().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:M4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j4,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Kr(t,"network-request-failed"),u=Ts().setTimeout(()=>{a(l)},k4.get());function d(){Ts().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F4=500,U4=600,B4="_blank",z4="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $4(t,e,n,r=F4,s=U4){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...O4,width:r.toString(),height:s.toString(),top:a,left:l},f=In().toLowerCase();n&&(u=CT(f)?B4:n),ST(f)&&(e=e||z4,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[T,k])=>`${_}${T}=${k},`,"");if(p5(f)&&u!=="_self")return W4(e||"",u),new __(null);const v=window.open(e||"",u,g);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new __(v)}function W4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="__/auth/handler",H4="emulator/auth/handler",K4=encodeURIComponent("fac");async function E_(t,e,n,r,s,a){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:da,eventId:s};if(e instanceof Vy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",ck(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof bu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await t._getAppCheckToken(),f=d?`#${K4}=${encodeURIComponent(d)}`:"";return`${G4(t)}?${xu(u).slice(1)}${f}`}function G4({config:t}){return t.emulator?Ny(t,H4):`https://${t.authDomain}/${q4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class Q4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=w4,this._overrideRedirectResult=g4}async _openPopup(e,n,r,s){oi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await E_(e,n,r,vg(),s);return $4(e,a,Oy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await E_(e,n,r,vg(),s);return Z5(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(oi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V4(e),r=new _4(e);return n.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},s=>{const a=s?.[0]?.[Nm];a!==void 0&&n(!!a),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||IT()||jy()}}const Y4=Q4;var b_="@firebase/auth",T_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z4(t){Gr(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Se(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(t)},f=new x5(r,s,a,d);return P5(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new Cr("auth-internal",e=>{const n=co(e.getProvider("auth").getImmediate());return(r=>new X4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(b_,T_,J4(t)),Gn(b_,T_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=300,tj=Ub("authIdTokenMaxAge")||ej;let S_=null;const nj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tj)return;const s=n?.token;S_!==s&&(S_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function rj(t=uf()){const e=oo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=A5(t,{popupRedirectResolver:Y4,persistence:[l4,Y5,qT]}),r=Ub("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=nj(a.toString());H5(n,l,()=>l(n.currentUser)),q5(n,u=>l(u))}}const s=Vb("auth");return s&&k5(n,`http://${s}`),n}function sj(){return document.getElementsByTagName("head")?.[0]??document}_5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Kr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",sj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z4("Browser");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,eS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function D(){}D.prototype=C.prototype,R.F=C.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(L,O,z){for(var M=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)M[Le-2]=arguments[Le];return C.prototype[O].apply(L,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,C,D){D||(D=0);const L=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)L[O]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(O=0;O<16;++O)L[O]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=R.g[0],D=R.g[1],O=R.g[2];let z=R.g[3],M;M=C+(z^D&(O^z))+L[0]+3614090360&4294967295,C=D+(M<<7&4294967295|M>>>25),M=z+(O^C&(D^O))+L[1]+3905402710&4294967295,z=C+(M<<12&4294967295|M>>>20),M=O+(D^z&(C^D))+L[2]+606105819&4294967295,O=z+(M<<17&4294967295|M>>>15),M=D+(C^O&(z^C))+L[3]+3250441966&4294967295,D=O+(M<<22&4294967295|M>>>10),M=C+(z^D&(O^z))+L[4]+4118548399&4294967295,C=D+(M<<7&4294967295|M>>>25),M=z+(O^C&(D^O))+L[5]+1200080426&4294967295,z=C+(M<<12&4294967295|M>>>20),M=O+(D^z&(C^D))+L[6]+2821735955&4294967295,O=z+(M<<17&4294967295|M>>>15),M=D+(C^O&(z^C))+L[7]+4249261313&4294967295,D=O+(M<<22&4294967295|M>>>10),M=C+(z^D&(O^z))+L[8]+1770035416&4294967295,C=D+(M<<7&4294967295|M>>>25),M=z+(O^C&(D^O))+L[9]+2336552879&4294967295,z=C+(M<<12&4294967295|M>>>20),M=O+(D^z&(C^D))+L[10]+4294925233&4294967295,O=z+(M<<17&4294967295|M>>>15),M=D+(C^O&(z^C))+L[11]+2304563134&4294967295,D=O+(M<<22&4294967295|M>>>10),M=C+(z^D&(O^z))+L[12]+1804603682&4294967295,C=D+(M<<7&4294967295|M>>>25),M=z+(O^C&(D^O))+L[13]+4254626195&4294967295,z=C+(M<<12&4294967295|M>>>20),M=O+(D^z&(C^D))+L[14]+2792965006&4294967295,O=z+(M<<17&4294967295|M>>>15),M=D+(C^O&(z^C))+L[15]+1236535329&4294967295,D=O+(M<<22&4294967295|M>>>10),M=C+(O^z&(D^O))+L[1]+4129170786&4294967295,C=D+(M<<5&4294967295|M>>>27),M=z+(D^O&(C^D))+L[6]+3225465664&4294967295,z=C+(M<<9&4294967295|M>>>23),M=O+(C^D&(z^C))+L[11]+643717713&4294967295,O=z+(M<<14&4294967295|M>>>18),M=D+(z^C&(O^z))+L[0]+3921069994&4294967295,D=O+(M<<20&4294967295|M>>>12),M=C+(O^z&(D^O))+L[5]+3593408605&4294967295,C=D+(M<<5&4294967295|M>>>27),M=z+(D^O&(C^D))+L[10]+38016083&4294967295,z=C+(M<<9&4294967295|M>>>23),M=O+(C^D&(z^C))+L[15]+3634488961&4294967295,O=z+(M<<14&4294967295|M>>>18),M=D+(z^C&(O^z))+L[4]+3889429448&4294967295,D=O+(M<<20&4294967295|M>>>12),M=C+(O^z&(D^O))+L[9]+568446438&4294967295,C=D+(M<<5&4294967295|M>>>27),M=z+(D^O&(C^D))+L[14]+3275163606&4294967295,z=C+(M<<9&4294967295|M>>>23),M=O+(C^D&(z^C))+L[3]+4107603335&4294967295,O=z+(M<<14&4294967295|M>>>18),M=D+(z^C&(O^z))+L[8]+1163531501&4294967295,D=O+(M<<20&4294967295|M>>>12),M=C+(O^z&(D^O))+L[13]+2850285829&4294967295,C=D+(M<<5&4294967295|M>>>27),M=z+(D^O&(C^D))+L[2]+4243563512&4294967295,z=C+(M<<9&4294967295|M>>>23),M=O+(C^D&(z^C))+L[7]+1735328473&4294967295,O=z+(M<<14&4294967295|M>>>18),M=D+(z^C&(O^z))+L[12]+2368359562&4294967295,D=O+(M<<20&4294967295|M>>>12),M=C+(D^O^z)+L[5]+4294588738&4294967295,C=D+(M<<4&4294967295|M>>>28),M=z+(C^D^O)+L[8]+2272392833&4294967295,z=C+(M<<11&4294967295|M>>>21),M=O+(z^C^D)+L[11]+1839030562&4294967295,O=z+(M<<16&4294967295|M>>>16),M=D+(O^z^C)+L[14]+4259657740&4294967295,D=O+(M<<23&4294967295|M>>>9),M=C+(D^O^z)+L[1]+2763975236&4294967295,C=D+(M<<4&4294967295|M>>>28),M=z+(C^D^O)+L[4]+1272893353&4294967295,z=C+(M<<11&4294967295|M>>>21),M=O+(z^C^D)+L[7]+4139469664&4294967295,O=z+(M<<16&4294967295|M>>>16),M=D+(O^z^C)+L[10]+3200236656&4294967295,D=O+(M<<23&4294967295|M>>>9),M=C+(D^O^z)+L[13]+681279174&4294967295,C=D+(M<<4&4294967295|M>>>28),M=z+(C^D^O)+L[0]+3936430074&4294967295,z=C+(M<<11&4294967295|M>>>21),M=O+(z^C^D)+L[3]+3572445317&4294967295,O=z+(M<<16&4294967295|M>>>16),M=D+(O^z^C)+L[6]+76029189&4294967295,D=O+(M<<23&4294967295|M>>>9),M=C+(D^O^z)+L[9]+3654602809&4294967295,C=D+(M<<4&4294967295|M>>>28),M=z+(C^D^O)+L[12]+3873151461&4294967295,z=C+(M<<11&4294967295|M>>>21),M=O+(z^C^D)+L[15]+530742520&4294967295,O=z+(M<<16&4294967295|M>>>16),M=D+(O^z^C)+L[2]+3299628645&4294967295,D=O+(M<<23&4294967295|M>>>9),M=C+(O^(D|~z))+L[0]+4096336452&4294967295,C=D+(M<<6&4294967295|M>>>26),M=z+(D^(C|~O))+L[7]+1126891415&4294967295,z=C+(M<<10&4294967295|M>>>22),M=O+(C^(z|~D))+L[14]+2878612391&4294967295,O=z+(M<<15&4294967295|M>>>17),M=D+(z^(O|~C))+L[5]+4237533241&4294967295,D=O+(M<<21&4294967295|M>>>11),M=C+(O^(D|~z))+L[12]+1700485571&4294967295,C=D+(M<<6&4294967295|M>>>26),M=z+(D^(C|~O))+L[3]+2399980690&4294967295,z=C+(M<<10&4294967295|M>>>22),M=O+(C^(z|~D))+L[10]+4293915773&4294967295,O=z+(M<<15&4294967295|M>>>17),M=D+(z^(O|~C))+L[1]+2240044497&4294967295,D=O+(M<<21&4294967295|M>>>11),M=C+(O^(D|~z))+L[8]+1873313359&4294967295,C=D+(M<<6&4294967295|M>>>26),M=z+(D^(C|~O))+L[15]+4264355552&4294967295,z=C+(M<<10&4294967295|M>>>22),M=O+(C^(z|~D))+L[6]+2734768916&4294967295,O=z+(M<<15&4294967295|M>>>17),M=D+(z^(O|~C))+L[13]+1309151649&4294967295,D=O+(M<<21&4294967295|M>>>11),M=C+(O^(D|~z))+L[4]+4149444226&4294967295,C=D+(M<<6&4294967295|M>>>26),M=z+(D^(C|~O))+L[11]+3174756917&4294967295,z=C+(M<<10&4294967295|M>>>22),M=O+(C^(z|~D))+L[2]+718787259&4294967295,O=z+(M<<15&4294967295|M>>>17),M=D+(z^(O|~C))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,C){C===void 0&&(C=R.length);const D=C-this.blockSize,L=this.C;let O=this.h,z=0;for(;z<C;){if(O==0)for(;z<=D;)s(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<C;)if(L[O++]=R.charCodeAt(z++),O==this.blockSize){s(this,L),O=0;break}}else for(;z<C;)if(L[O++]=R[z++],O==this.blockSize){s(this,L),O=0;break}}this.h=O,this.o+=C},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)R[C++]=this.g[D]>>>L&255;return R};function a(R,C){var D=u;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=C(R)}function l(R,C){this.h=C;const D=[];let L=!0;for(let O=R.length-1;O>=0;O--){const z=R[O]|0;L&&z==C||(D[O]=z,L=!1)}this.g=D}var u={};function d(R){return-128<=R&&R<128?a(R,function(C){return new l([C|0],C<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return I(f(-R));const C=[];let D=1;for(let L=0;R>=D;L++)C[L]=R/D|0,D*=4294967296;return new l(C,0)}function g(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return I(g(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(C,8));let L=v;for(let z=0;z<R.length;z+=8){var O=Math.min(8,R.length-z);const M=parseInt(R.substring(z,z+O),C);O<8?(O=f(Math.pow(C,O)),L=L.j(O).add(f(M))):(L=L.j(D),L=L.add(f(M)))}return L}var v=d(0),_=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(A(this))return-I(this).m();let R=0,C=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);R+=(L>=0?L:4294967296+L)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if(A(this))return"-"+I(this).toString(R);const C=f(Math.pow(R,6));var D=this;let L="";for(;;){const O=W(D,C).g;D=j(D,O.j(C));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=O,k(D))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function A(R){return R.h==-1}t.l=function(R){return R=j(this,R),A(R)?-1:k(R)?0:1};function I(R){const C=R.g.length,D=[];for(let L=0;L<C;L++)D[L]=~R.g[L];return new l(D,~R.h).add(_)}t.abs=function(){return A(this)?I(this):this},t.add=function(R){const C=Math.max(this.g.length,R.g.length),D=[];let L=0;for(let O=0;O<=C;O++){let z=L+(this.i(O)&65535)+(R.i(O)&65535),M=(z>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);L=M>>>16,z&=65535,M&=65535,D[O]=M<<16|z}return new l(D,D[D.length-1]&-2147483648?-1:0)};function j(R,C){return R.add(I(C))}t.j=function(R){if(k(this)||k(R))return v;if(A(this))return A(R)?I(this).j(I(R)):I(I(this).j(R));if(A(R))return I(this.j(I(R)));if(this.l(T)<0&&R.l(T)<0)return f(this.m()*R.m());const C=this.g.length+R.g.length,D=[];for(var L=0;L<2*C;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<R.g.length;O++){const z=this.i(L)>>>16,M=this.i(L)&65535,Le=R.i(O)>>>16,et=R.i(O)&65535;D[2*L+2*O]+=M*et,N(D,2*L+2*O),D[2*L+2*O+1]+=z*et,N(D,2*L+2*O+1),D[2*L+2*O+1]+=M*Le,N(D,2*L+2*O+1),D[2*L+2*O+2]+=z*Le,N(D,2*L+2*O+2)}for(R=0;R<C;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=C;R<2*C;R++)D[R]=0;return new l(D,0)};function N(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function F(R,C){this.g=R,this.h=C}function W(R,C){if(k(C))throw Error("division by zero");if(k(R))return new F(v,v);if(A(R))return C=W(I(R),C),new F(I(C.g),I(C.h));if(A(C))return C=W(R,I(C)),new F(I(C.g),C.h);if(R.g.length>30){if(A(R)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var D=_,L=C;L.l(R)<=0;)D=G(D),L=G(L);var O=q(D,1),z=q(L,1);for(L=q(L,2),D=q(D,2);!k(L);){var M=z.add(L);M.l(R)<=0&&(O=O.add(D),z=M),L=q(L,1),D=q(D,1)}return C=j(R,O.j(C)),new F(O,C)}for(O=v;R.l(C)>=0;){for(D=Math.max(1,Math.floor(R.m()/C.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=f(D),M=z.j(C);A(M)||M.l(R)>0;)D-=L,z=f(D),M=z.j(C);k(z)&&(z=_),O=O.add(z),R=j(R,M)}return new F(O,R)}t.B=function(R){return W(this,R).h},t.and=function(R){const C=Math.max(this.g.length,R.g.length),D=[];for(let L=0;L<C;L++)D[L]=this.i(L)&R.i(L);return new l(D,this.h&R.h)},t.or=function(R){const C=Math.max(this.g.length,R.g.length),D=[];for(let L=0;L<C;L++)D[L]=this.i(L)|R.i(L);return new l(D,this.h|R.h)},t.xor=function(R){const C=Math.max(this.g.length,R.g.length),D=[];for(let L=0;L<C;L++)D[L]=this.i(L)^R.i(L);return new l(D,this.h^R.h)};function G(R){const C=R.g.length+1,D=[];for(let L=0;L<C;L++)D[L]=R.i(L)<<1|R.i(L-1)>>>31;return new l(D,R.h)}function q(R,C){const D=C>>5;C%=32;const L=R.g.length-D,O=[];for(let z=0;z<L;z++)O[z]=C>0?R.i(z+D)>>>C|R.i(z+D+1)<<32-C:R.i(z+D);return new l(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,Gi=l}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tS,Ac,nS,yh,Eg,rS,sS,iS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var x=0;x<h.length;++x){var E=h[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,x){if(x)e:{var E=r;h=h.split(".");for(var P=0;P<h.length-1;P++){var K=h[P];if(!(K in E))break e;E=E[K]}h=h[h.length-1],P=E[h],x=x(P),x!=P&&x!=null&&e(E,h,{configurable:!0,writable:!0,value:x})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(x){var E=[],P;for(P in x)Object.prototype.hasOwnProperty.call(x,P)&&E.push([P,x[P]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function d(h,x,E){return h.call.apply(h.bind,arguments)}function f(h,x,E){return f=d,f.apply(null,arguments)}function g(h,x){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function v(h,x){function E(){}E.prototype=x.prototype,h.Z=x.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(P,K,X){for(var le=Array(arguments.length-2),je=2;je<arguments.length;je++)le[je-2]=arguments[je];return x.prototype[K].apply(P,le)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function T(h){const x=h.length;if(x>0){const E=Array(x);for(let P=0;P<x;P++)E[P]=h[P];return E}return[]}function k(h,x){for(let P=1;P<arguments.length;P++){const K=arguments[P];var E=typeof K;if(E=E!="object"?E:K?Array.isArray(K)?"array":E:"null",E=="array"||E=="object"&&typeof K.length=="number"){E=h.length||0;const X=K.length||0;h.length=E+X;for(let le=0;le<X;le++)h[E+le]=K[le]}else h.push(K)}}class A{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function I(h){l.setTimeout(()=>{throw h},0)}function j(){var h=R;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class N{constructor(){this.h=this.g=null}add(x,E){const P=F.get();P.set(x,E),this.h?this.h.next=P:this.g=P,this.h=P}}var F=new A(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let G,q=!1,R=new N,C=()=>{const h=Promise.resolve(void 0);G=()=>{h.then(D)}};function D(){for(var h;h=j();){try{h.h.call(h.g)}catch(E){I(E)}var x=F;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}q=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};l.addEventListener("test",E,x),l.removeEventListener("test",E,x)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Le(h,x){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}v(Le,O),Le.prototype.init=function(h,x){const E=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(E=="mouseover"?x=h.fromElement:E=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),fe=0;function se(h,x,E,P,K){this.listener=h,this.proxy=null,this.src=x,this.type=E,this.capture=!!P,this.ha=K,this.key=++fe,this.da=this.fa=!1}function ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ce(h,x,E){for(const P in h)x.call(E,h[P],P,h)}function ae(h,x){for(const E in h)x.call(void 0,h[E],E,h)}function $(h){const x={};for(const E in h)x[E]=h[E];return x}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(h,x){let E,P;for(let K=1;K<arguments.length;K++){P=arguments[K];for(E in P)h[E]=P[E];for(let X=0;X<J.length;X++)E=J[X],Object.prototype.hasOwnProperty.call(P,E)&&(h[E]=P[E])}}function xe(h){this.src=h,this.g={},this.h=0}xe.prototype.add=function(h,x,E,P,K){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const le=be(h,x,P,K);return le>-1?(x=h[le],E||(x.fa=!1)):(x=new se(x,this.src,X,!!P,K),x.fa=E,h.push(x)),x};function Ne(h,x){const E=x.type;if(E in h.g){var P=h.g[E],K=Array.prototype.indexOf.call(P,x,void 0),X;(X=K>=0)&&Array.prototype.splice.call(P,K,1),X&&(ee(x),h.g[E].length==0&&(delete h.g[E],h.h--))}}function be(h,x,E,P){for(let K=0;K<h.length;++K){const X=h[K];if(!X.da&&X.listener==x&&X.capture==!!E&&X.ha==P)return K}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Pe={};function Me(h,x,E,P,K){if(Array.isArray(x)){for(let X=0;X<x.length;X++)Me(h,x[X],E,P,K);return null}return E=di(E),h&&h[et]?h.J(x,E,u(P)?!!P.capture:!1,K):De(h,x,E,!1,P,K)}function De(h,x,E,P,K,X){if(!x)throw Error("Invalid event type");const le=u(K)?!!K.capture:!!K;let je=Yn(h);if(je||(h[Oe]=je=new xe(h)),E=je.add(x,E,P,le,X),E.proxy)return E;if(P=dr(),E.proxy=P,P.src=h,P.listener=E,h.addEventListener)z||(K=le),K===void 0&&(K=!1),h.addEventListener(x.toString(),P,K);else if(h.attachEvent)h.attachEvent(pn(x.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function dr(){function h(E){return x.call(h.src,h.listener,E)}const x=Nr;return h}function fn(h,x,E,P,K){if(Array.isArray(x))for(var X=0;X<x.length;X++)fn(h,x[X],E,P,K);else P=u(P)?!!P.capture:!!P,E=di(E),h&&h[et]?(h=h.i,X=String(x).toString(),X in h.g&&(x=h.g[X],E=be(x,E,P,K),E>-1&&(ee(x[E]),Array.prototype.splice.call(x,E,1),x.length==0&&(delete h.g[X],h.h--)))):h&&(h=Yn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=be(x,E,P,K)),(E=h>-1?x[h]:null)&&Cn(E))}function Cn(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[et])Ne(x.i,h);else{var E=h.type,P=h.proxy;x.removeEventListener?x.removeEventListener(E,P,h.capture):x.detachEvent?x.detachEvent(pn(E),P):x.addListener&&x.removeListener&&x.removeListener(P),(E=Yn(x))?(Ne(E,h),E.h==0&&(E.src=null,x[Oe]=null)):ee(h)}}}function pn(h){return h in Pe?Pe[h]:Pe[h]="on"+h}function Nr(h,x){if(h.da)h=!0;else{x=new Le(x,this);const E=h.listener,P=h.ha||h.src;h.fa&&Cn(h),h=E.call(P,x)}return h}function Yn(h){return h=h[Oe],h instanceof xe?h:null}var es="__closure_events_fn_"+(Math.random()*1e9>>>0);function di(h){return typeof h=="function"?h:(h[es]||(h[es]=function(x){return h.handleEvent(x)}),h[es])}function ut(){L.call(this),this.i=new xe(this),this.M=this,this.G=null}v(ut,L),ut.prototype[et]=!0,ut.prototype.removeEventListener=function(h,x,E,P){fn(this,h,x,E,P)};function Ze(h,x){var E,P=h.G;if(P)for(E=[];P;P=P.G)E.push(P);if(h=h.M,P=x.type||x,typeof x=="string")x=new O(x,h);else if(x instanceof O)x.target=x.target||h;else{var K=x;x=new O(P,h),we(x,K)}K=!0;let X,le;if(E)for(le=E.length-1;le>=0;le--)X=x.g=E[le],K=mn(X,P,!0,x)&&K;if(X=x.g=h,K=mn(X,P,!0,x)&&K,K=mn(X,P,!1,x)&&K,E)for(le=0;le<E.length;le++)X=x.g=E[le],K=mn(X,P,!1,x)&&K}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const E=h.g[x];for(let P=0;P<E.length;P++)ee(E[P]);delete h.g[x],h.h--}}this.G=null},ut.prototype.J=function(h,x,E,P){return this.i.add(String(h),x,!1,E,P)},ut.prototype.K=function(h,x,E,P){return this.i.add(String(h),x,!0,E,P)};function mn(h,x,E,P){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let X=0;X<x.length;++X){const le=x[X];if(le&&!le.da&&le.capture==E){const je=le.listener,Tt=le.ha||le.src;le.fa&&Ne(h.i,le),K=je.call(Tt,P)!==!1&&K}}return K&&!P.defaultPrevented}function ts(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(h,x||0)}function hi(h){h.g=ts(()=>{h.g=null,h.i&&(h.i=!1,hi(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class go extends L{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:hi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(h){L.call(this),this.h=h,this.g={}}v(ns,L);var yo=[];function Xn(h){ce(h.g,function(x,E){this.g.hasOwnProperty(E)&&Cn(x)},h),h.g={}}ns.prototype.N=function(){ns.Z.N.call(this),Xn(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=l.JSON.stringify,rs=l.JSON.parse,ss=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Yt(){}function vo(){}var is={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fi(){O.call(this,"d")}v(fi,O);function Ms(){O.call(this,"c")}v(Ms,O);var Mn={},pi=null;function Dr(){return pi=pi||new ut}Mn.Ia="serverreachability";function mi(h){O.call(this,Mn.Ia,h)}v(mi,O);function jr(h){const x=Dr();Ze(x,new mi(x))}Mn.STAT_EVENT="statevent";function Lr(h,x){O.call(this,Mn.STAT_EVENT,h),this.stat=x}v(Lr,O);function Ve(h){const x=Dr();Ze(x,new Lr(x,h))}Mn.Ja="timingevent";function Mt(h,x){O.call(this,Mn.Ja,h),this.size=x}v(Mt,O);function vt(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},x)}function Xt(){this.g=!0}Xt.prototype.ua=function(){this.g=!1};function Jt(h,x,E,P,K,X){h.info(function(){if(h.g)if(X){var le="",je=X.split("&");for(let tt=0;tt<je.length;tt++){var Tt=je[tt].split("=");if(Tt.length>1){const At=Tt[0];Tt=Tt[1];const rr=At.split("_");le=rr.length>=2&&rr[1]=="type"?le+(At+"="+Tt+"&"):le+(At+"=redacted&")}}}else le=null;else le=X;return"XMLHTTP REQ ("+P+") [attempt "+K+"]: "+x+`
`+E+`
`+le})}function zt(h,x,E,P,K,X,le){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+K+"]: "+x+`
`+E+`
`+X+" "+le})}function bt(h,x,E,P){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+it(h,E)+(P?" "+P:"")})}function Mr(h,x){h.info(function(){return"TIMEOUT: "+x})}Xt.prototype.info=function(){};function it(h,x){if(!h.g)return x;if(!x)return null;try{const X=JSON.parse(x);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var K=P[0];if(K!="noop"&&K!="stop"&&K!="close")for(let le=1;le<P.length;le++)P[le]=""}}}}return Rn(X)}catch{return x}}var Zt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vn;function An(){}v(An,Yt),An.prototype.g=function(){return new XMLHttpRequest},Vn=new An;function gn(h){return encodeURIComponent(String(h))}function Pn(h){var x=1;h=h.split(":");const E=[];for(;x>0&&h.length;)E.push(h.shift()),x--;return h.length&&E.push(h.join(":")),E}function $t(h,x,E,P){this.j=h,this.i=x,this.l=E,this.S=P||1,this.V=new ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var Bu={},jl={};function Vr(h,x,E){h.M=1,h.A=Os(hr(x)),h.u=E,h.R=!0,Ll(h,null)}function Ll(h,x){h.F=Date.now(),wo(h),h.B=hr(h.A);var E=h.B,P=h.S;Array.isArray(P)||(P=[String(P)]),ql(E.i,"t",P),h.C=0,E=h.j.L,h.h=new gi,h.g=Xu(h.j,E?x:null,!h.u),h.P>0&&(h.O=new go(f(h.Y,h,h.g),h.P)),x=h.V,E=h.g,P=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(yo[0]=K.toString()),K=yo);for(let X=0;X<K.length;X++){const le=Me(E,K[X],P||x.handleEvent,!1,x.h||x);if(!le)break;x.g[le.key]=le}x=h.J?$(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),jr(),Jt(h.i,h.v,h.B,h.l,h.S,h.u)}$t.prototype.ba=function(h){h=h.target;const x=this.O;x&&hs(h)==3?x.j():this.Y(h)},$t.prototype.Y=function(h){try{if(h==this.g)e:{const je=hs(this.g),Tt=this.g.ya(),tt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Qu(this.g)))){this.K||je!=4||Tt==7||(Tt==8||tt<=0?jr(3):jr(2)),ma(this);var x=this.g.ca();this.X=x;var E=zu(this);if(this.o=x==200,zt(this.i,this.v,this.B,this.l,this.S,je,x),this.o){if(this.U&&!this.L){t:{if(this.g){var P,K=this.g;if((P=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(P)){var X=P;break t}}X=null}if(h=X)bt(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ot(this,h);else{this.o=!1,this.m=3,Ve(12),Vs(this),xo(this);break e}}if(this.R){h=!0;let At;for(;!this.K&&this.C<E.length;)if(At=Wu(this,E),At==jl){je==4&&(this.m=4,Ve(14),h=!1),bt(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Bu){this.m=4,Ve(15),bt(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else bt(this.i,this.l,At,null),ot(this,At);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||E.length!=0||this.h.h||(this.m=1,Ve(16),h=!1),this.o=this.o&&h,!h)bt(this.i,this.l,E,"[Invalid Chunked Response]"),Vs(this),xo(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ao(le),le.P=!0,Ve(11))}}else bt(this.i,this.l,E,null),ot(this,E);je==4&&Vs(this),this.o&&!this.K&&(je==4?Sa(this.j,this):(this.o=!1,wo(this)))}else Kl(this.g),x==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Vs(this),xo(this)}}}catch{}finally{}};function zu(h){if(!$u(h))return h.g.la();const x=Qu(h.g);if(x==="")return"";let E="";const P=x.length,K=hs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vs(h),xo(h),"";h.h.i=new l.TextDecoder}for(let X=0;X<P;X++)h.h.h=!0,E+=h.h.i.decode(x[X],{stream:!(K&&X==P-1)});return x.length=0,h.h.g+=E,h.C=0,h.h.g}function $u(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Wu(h,x){var E=h.C,P=x.indexOf(`
`,E);return P==-1?jl:(E=Number(x.substring(E,P)),isNaN(E)?Bu:(P+=1,P+E>x.length?jl:(x=x.slice(P,P+E),h.C=P+E,x)))}$t.prototype.cancel=function(){this.K=!0,Vs(this)};function wo(h){h.T=Date.now()+h.H,Ml(h,h.H)}function Ml(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vt(f(h.aa,h),x)}function ma(h){h.D&&(l.clearTimeout(h.D),h.D=null)}$t.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Mr(this.i,this.B),this.M!=2&&(jr(),Ve(17)),Vs(this),this.m=2,xo(this)):Ml(this,this.T-h)};function xo(h){h.j.I==0||h.K||Sa(h.j,h)}function Vs(h){ma(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Xn(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function ot(h,x){try{var E=h.j;if(E.I!=0&&(E.g==h||Ol(E.h,h))){if(!h.L&&Ol(E.h,h)&&E.I==3){try{var P=E.Ba.g.parse(x)}catch{P=null}if(Array.isArray(P)&&P.length==3){var K=P;if(K[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ta(E),tr(E);else break e;ms(E),Ve(18)}}else E.xa=K[1],0<E.xa-E.K&&K[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vt(f(E.Va,E),6e3));_o(E.h)<=1&&E.ta&&(E.ta=void 0)}else nr(E,11)}else if((h.L||E.g==h)&&Ta(E),!M(x))for(K=E.Ba.g.parse(x),x=0;x<K.length;x++){let tt=K[x];const At=tt[0];if(!(At<=E.K))if(E.K=At,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const rr=tt[3];rr!=null&&(E.ka=rr,E.j.info("VER="+E.ka));const $s=tt[4];$s!=null&&(E.za=$s,E.j.info("SVER="+E.za));const gs=tt[5];gs!=null&&typeof gs=="number"&&gs>0&&(P=1.5*gs,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const ys=h.g;if(ys){const Ra=ys.g?ys.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var X=P.h;X.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ya(X,X.h),X.h=null))}if(P.G){const Yl=ys.g?ys.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(P.wa=Yl,Qe(P.J,P.G,Yl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var le=h;if(P.na=Ql(P,P.L?P.ba:null,P.W),le.L){Eo(P.h,le);var je=le,Tt=P.O;Tt&&(je.H=Tt),je.D&&(ma(je),wo(je)),P.g=le}else yn(P);E.i.length>0&&zs(E)}else tt[0]!="stop"&&tt[0]!="close"||nr(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?nr(E,7):Ea(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}jr(4)}catch{}}var Kf=class{constructor(h,x){this.g=h,this.map=x}};function ga(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _o(h){return h.h?1:h.g?h.g.size:0}function Ol(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function ya(h,x){h.g?h.g.add(x):h.h=x}function Eo(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}ga.prototype.cancel=function(){if(this.i=Jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jn(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const E of h.g.values())x=x.concat(E.G);return x}return T(h.i)}var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zn(h,x){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const P=h[E].indexOf("=");let K,X=null;P>=0?(K=h[E].substring(0,P),X=h[E].substring(P+1)):K=h[E],x(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function os(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof os?(this.l=h.l,bo(this,h.j),this.o=h.o,this.g=h.g,as(this,h.u),this.h=h.h,yi(this,Hl(h.i)),this.m=h.m):h&&(x=String(h).match(qu))?(this.l=!1,bo(this,x[1]||"",!0),this.o=To(x[2]||""),this.g=To(x[3]||"",!0),as(this,x[4]),this.h=To(x[5]||"",!0),yi(this,x[6]||"",!0),this.m=To(x[7]||"")):(this.l=!1,this.i=new We(null,this.l))}os.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(So(x,Ul,!0),":");var E=this.g;return(E||x=="file")&&(h.push("//"),(x=this.o)&&h.push(So(x,Ul,!0),"@"),h.push(gn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(So(E,E.charAt(0)=="/"?Io:Bl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",So(E,zl)),h.join("")},os.prototype.resolve=function(h){const x=hr(this);let E=!!h.j;E?bo(x,h.j):E=!!h.o,E?x.o=h.o:E=!!h.g,E?x.g=h.g:E=h.u!=null;var P=h.h;if(E)as(x,h.u);else if(E=!!h.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var K=x.h.lastIndexOf("/");K!=-1&&(P=x.h.slice(0,K+1)+P)}if(K=P,K==".."||K==".")P="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){P=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let le=0;le<K.length;){const je=K[le++];je=="."?P&&le==K.length&&X.push(""):je==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),P&&le==K.length&&X.push("")):(X.push(je),P=!0)}P=X.join("/")}else P=K}return E?x.h=P:E=h.i.toString()!=="",E?yi(x,Hl(h.i)):E=!!h.m,E&&(x.m=h.m),x};function hr(h){return new os(h)}function bo(h,x,E){h.j=E?To(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function as(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function yi(h,x,E){x instanceof We?(h.i=x,wa(h.i,h.l)):(E||(x=So(x,Gf)),h.i=new We(x,h.l))}function Qe(h,x,E){h.i.set(x,E)}function Os(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function To(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function So(h,x,E){return typeof h=="string"?(h=encodeURI(h).replace(x,Fl),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Fl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ul=/[#\/\?@]/g,Bl=/[#\?:]/g,Io=/[#\?]/g,Gf=/[#\?@]/g,zl=/#/g;function We(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function ls(h){h.g||(h.g=new Map,h.h=0,h.i&&Zn(h.i,function(x,E){h.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}t=We.prototype,t.add=function(h,x){ls(this),this.i=null,h=cs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(x),this.h+=1,this};function $l(h,x){ls(h),x=cs(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function va(h,x){return ls(h),x=cs(h,x),h.g.has(x)}t.forEach=function(h,x){ls(this),this.g.forEach(function(E,P){E.forEach(function(K){h.call(x,K,P,this)},this)},this)};function Wl(h,x){ls(h);let E=[];if(typeof x=="string")va(h,x)&&(E=E.concat(h.g.get(cs(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)E=E.concat(h[x]);return E}t.set=function(h,x){return ls(this),this.i=null,h=cs(this,h),va(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Wl(this,h),h.length>0?String(h[0]):x):x};function ql(h,x,E){$l(h,x),E.length>0&&(h.i=null,h.g.set(cs(h,x),T(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let P=0;P<x.length;P++){var E=x[P];const K=gn(E);E=Wl(this,E);for(let X=0;X<E.length;X++){let le=K;E[X]!==""&&(le+="="+gn(E[X])),h.push(le)}}return this.i=h.join("&")};function Hl(h){const x=new We;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function cs(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function wa(h,x){x&&!h.j&&(ls(h),h.i=null,h.g.forEach(function(E,P){const K=P.toLowerCase();P!=K&&($l(this,P),ql(this,K,E))},h)),h.j=x}function us(h,x){const E=new Xt;if(l.Image){const P=new Image;P.onload=g(en,E,"TestLoadImage: loaded",!0,x,P),P.onerror=g(en,E,"TestLoadImage: error",!1,x,P),P.onabort=g(en,E,"TestLoadImage: abort",!1,x,P),P.ontimeout=g(en,E,"TestLoadImage: timeout",!1,x,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else x(!1)}function ds(h,x){const E=new Xt,P=new AbortController,K=setTimeout(()=>{P.abort(),en(E,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:P.signal}).then(X=>{clearTimeout(K),X.ok?en(E,"TestPingServer: ok",!0,x):en(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),en(E,"TestPingServer: error",!1,x)})}function en(h,x,E,P,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),P(E)}catch{}}function Co(){this.g=new ss}function Fs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Fs,Yt),Fs.prototype.g=function(){return new er(this.i,this.h)};function er(h,x){ut.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(er,ut),t=er.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Or(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hu(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hu(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?vi(this):Or(this),this.readyState==3&&Hu(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,vi(this))},t.Na=function(h){this.g&&(this.response=h,vi(this))},t.ga=function(){this.g&&vi(this)};function vi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Or(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=x.next();return h.join(`\r
`)};function Or(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ku(h){let x="";return ce(h,function(E,P){x+=P,x+=":",x+=E,x+=`\r
`}),x}function xa(h,x,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Ku(E),typeof h=="string"?E!=null&&gn(E):Qe(h,x,E))}function nt(h){ut.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(nt,ut);var Gu=/^https?$/i,Qf=["POST","PUT"];t=nt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vn.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(X){wi(this,X);return}if(h=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var K in P)E.set(K,P[K]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())E.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),K=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(Qf,x,void 0)>=0)||P||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of E)this.g.setRequestHeader(X,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){wi(this,X)}};function wi(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,xi(h),Bs(h)}function xi(h){h.A||(h.A=!0,Ze(h,"complete"),Ze(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ze(this,"complete"),Ze(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},t.Xa=function(){Us(this)};function Us(h){if(h.h&&typeof a<"u"){if(h.v&&hs(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ze(h,"readystatechange"),hs(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var P;if(P=X===0){let le=String(h.D).match(qu)[1]||null;!le&&l.self&&l.self.location&&(le=l.self.location.protocol.slice(0,-1)),P=!Gu.test(le?le.toLowerCase():"")}E=P}if(E)Ze(h,"complete"),Ze(h,"success");else{h.o=6;try{var K=hs(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",xi(h)}}finally{Bs(h)}}}}function Bs(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,x||Ze(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function hs(h){return h.g?h.g.readyState:0}t.ca=function(){try{return hs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),rs(x)}};function Qu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Kl(h){const x={};h=(h.g&&hs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(M(h[P]))continue;var E=Pn(h[P]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=x[K]||[];x[K]=X,X.push(E)}ae(x,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(h,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||x}function _a(h){this.za=0,this.i=[],this.j=new Xt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fs("baseRetryDelayMs",5e3,h),this.Za=fs("retryDelaySeedMs",1e4,h),this.Ta=fs("forwardChannelMaxRetries",2,h),this.va=fs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ga(h&&h.concurrentRequestLimit),this.Ba=new Co,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_a.prototype,t.ka=8,t.I=1,t.connect=function(h,x,E,P){Ve(0),this.W=h,this.H=x||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=Ql(this,null,this.W),zs(this)};function Ea(h){if(ba(h),h.I==3){var x=h.V++,E=hr(h.J);if(Qe(E,"SID",h.M),Qe(E,"RID",x),Qe(E,"TYPE","terminate"),ps(h,E),x=new $t(h,h.j,x),x.M=2,x.A=Os(hr(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=x.A,E=!0),E||(x.g=Xu(x.j,null),x.g.ea(x.A)),x.F=Date.now(),wo(x)}Po(h)}function tr(h){h.g&&(Ao(h),h.g.cancel(),h.g=null)}function ba(h){tr(h),h.v&&(l.clearTimeout(h.v),h.v=null),Ta(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function zs(h){if(!Vl(h.h)&&!h.m){h.m=!0;var x=h.Ea;G||C(),q||(G(),q=!0),R.add(x,h),h.D=0}}function Yu(h,x){return _o(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vt(f(h.Ea,h,x),Ia(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new $t(this,this.j,h);let X=this.o;if(this.U&&(X?(X=$(X),we(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(x+=P,x>4096){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=Gl(this,K,x),E=hr(this.J),Qe(E,"RID",h),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),ps(this,E),X&&(this.R?x="headers="+gn(Ku(X))+"&"+x:this.u&&xa(E,this.u,X)),ya(this.h,K),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",x),Qe(E,"SID","null"),K.U=!0,Vr(K,E,null)):Vr(K,E,x),this.I=2}}else this.I==3&&(h?Ro(this,h):this.i.length==0||Vl(this.h)||Ro(this))};function Ro(h,x){var E;x?E=x.l:E=h.V++;const P=hr(h.J);Qe(P,"SID",h.M),Qe(P,"RID",E),Qe(P,"AID",h.K),ps(h,P),h.u&&h.o&&xa(P,h.u,h.o),E=new $t(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),x&&(h.i=x.G.concat(h.i)),x=Gl(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ya(h.h,E),Vr(E,P,x)}function ps(h,x){h.H&&ce(h.H,function(E,P){Qe(x,P,E)}),h.l&&ce({},function(E,P){Qe(x,P,E)})}function Gl(h,x,E){E=Math.min(h.i.length,E);const P=h.l?f(h.l.Ka,h.l,h):null;e:{var K=h.i;let je=-1;for(;;){const Tt=["count="+E];je==-1?E>0?(je=K[0].g,Tt.push("ofs="+je)):je=0:Tt.push("ofs="+je);let tt=!0;for(let At=0;At<E;At++){var X=K[At].g;const rr=K[At].map;if(X-=je,X<0)je=Math.max(0,K[At].g-100),tt=!1;else try{X="req"+X+"_"||"";try{var le=rr instanceof Map?rr:Object.entries(rr);for(const[$s,gs]of le){let ys=gs;u(gs)&&(ys=Rn(gs)),Tt.push(X+$s+"="+encodeURIComponent(ys))}}catch($s){throw Tt.push(X+"type="+encodeURIComponent("_badmap")),$s}}catch{P&&P(rr)}}if(tt){le=Tt.join("&");break e}}le=void 0}return h=h.i.splice(0,E),x.G=h,le}function yn(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;G||C(),q||(G(),q=!0),R.add(x,h),h.A=0}}function ms(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vt(f(h.Da,h),Ia(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,_i(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vt(f(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),tr(this),_i(this))};function Ao(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function _i(h){h.g=new $t(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=hr(h.na);Qe(x,"RID","rpc"),Qe(x,"SID",h.M),Qe(x,"AID",h.K),Qe(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(x,"TO",h.ia),Qe(x,"TYPE","xmlhttp"),ps(h,x),h.u&&h.o&&xa(x,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Os(hr(x)),E.u=null,E.R=!0,Ll(E,h)}t.Va=function(){this.C!=null&&(this.C=null,tr(this),ms(this),Ve(19))};function Ta(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Sa(h,x){var E=null;if(h.g==x){Ta(h),Ao(h),h.g=null;var P=2}else if(Ol(h.h,x))E=x.G,Eo(h.h,x),P=1;else return;if(h.I!=0){if(x.o)if(P==1){E=x.u?x.u.length:0,x=Date.now()-x.F;var K=h.D;P=Dr(),Ze(P,new Mt(P,E)),zs(h)}else yn(h);else if(K=x.m,K==3||K==0&&x.X>0||!(P==1&&Yu(h,x)||P==2&&ms(h)))switch(E&&E.length>0&&(x=h.h,x.i=x.i.concat(E)),K){case 1:nr(h,5);break;case 4:nr(h,10);break;case 3:nr(h,6);break;default:nr(h,2)}}}function Ia(h,x){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*x}function nr(h,x){if(h.j.info("Error code "+x),x==2){var E=f(h.bb,h),P=h.Ua;const K=!P;P=new os(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bo(P,"https"),Os(P),K?us(P.toString(),E):ds(P.toString(),E)}else Ve(2);h.I=0,h.l&&h.l.pa(x),Po(h),ba(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Po(h){if(h.I=0,h.ja=[],h.l){const x=Jn(h.h);(x.length!=0||h.i.length!=0)&&(k(h.ja,x),k(h.ja,h.i),h.h.i.length=0,T(h.i),h.i.length=0),h.l.oa()}}function Ql(h,x,E){var P=E instanceof os?hr(E):new os(E);if(P.g!="")x&&(P.g=x+"."+P.g),as(P,P.u);else{var K=l.location;P=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const X=new os(null);P&&bo(X,P),x&&(X.g=x),K&&as(X,K),E&&(X.h=E),P=X}return E=h.G,x=h.wa,E&&x&&Qe(P,E,x),Qe(P,"VER",h.ka),ps(h,P),P}function Xu(h,x,E){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new nt(new Fs({ab:E})):new nt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}t=Ju.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ca(){}Ca.prototype.g=function(h,x){return new tn(h,x)};function tn(h,x){ut.call(this),this.g=new _a(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!M(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Ei(this)}v(tn,ut),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ea(this.g)},tn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Rn(h),h=E);x.i.push(new Kf(x.Ya++,h)),x.I==3&&zs(x)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ea(this.g),delete this.g,tn.Z.N.call(this)};function Zu(h){fi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const E in x){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}v(Zu,fi);function ed(){Ms.call(this),this.status=1}v(ed,Ms);function Ei(h){this.g=h}v(Ei,Ju),Ei.prototype.ra=function(){Ze(this.g,"a")},Ei.prototype.qa=function(h){Ze(this.g,new Zu(h))},Ei.prototype.pa=function(h){Ze(this.g,new ed)},Ei.prototype.oa=function(){Ze(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,iS=function(){return new Ca},sS=function(){return Dr()},rS=Mn,Eg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zt.NO_ERROR=0,Zt.TIMEOUT=8,Zt.HTTP_ERROR=6,yh=Zt,Vt.COMPLETE="complete",nS=Vt,vo.EventType=is,is.OPEN="a",is.CLOSE="b",is.ERROR="c",is.MESSAGE="d",ut.prototype.listen=ut.prototype.J,Ac=vo,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,tS=nt}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore",R_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new cf("@firebase/firestore");function Qa(){return ia.logLevel}function he(t,...e){if(ia.logLevel<=Ue.DEBUG){const n=e.map(Uy);ia.debug(`Firestore (${bl}): ${t}`,...n)}}function ai(t,...e){if(ia.logLevel<=Ue.ERROR){const n=e.map(Uy);ia.error(`Firestore (${bl}): ${t}`,...n)}}function dl(t,...e){if(ia.logLevel<=Ue.WARN){const n=e.map(Uy);ia.warn(`Firestore (${bl}): ${t}`,...n)}}function Uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oS(t,r,n)}function oS(t,e,n){let r=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ai(r),new Error(r)}function Je(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||oS(e,s,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ij{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class oj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aj{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ss,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ss)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new aS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class lj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=dj(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function bg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return Dm(s)===Dm(a)?Be(s,a):Dm(s)?1:-1}return Be(t.length,e.length)}const hj=55296,fj=57343;function Dm(t){const e=t.charCodeAt(0);return e>=hj&&e<=fj}function hl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="__name__";class Es{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Es.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Be(e.length,n.length)}static compareSegments(e,n){const r=Es.isNumericId(e),s=Es.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Es.extractNumericId(e).compare(Es.extractNumericId(n)):bg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class st extends Es{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const pj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Es{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return pj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new cn([P_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e,n){if(!n)throw new ue(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mj(t,e,n,r){if(e===!0&&r===!0)throw new ue(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k_(t){if(!ve.isDocumentKey(t))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N_(t){if(ve.isDocumentKey(t))throw new ue(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(t);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Iu(t,e){if(!cS(t))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ue(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-62135596800,j_=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*j_);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<D_)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:jt("string",Xe._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Xe(0,0))}static max(){return new ke(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=-1;function gj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Xi(s,ve.empty(),e)}function yj(t){return new Xi(t.readTime,t.key,Zc)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(ke.min(),ve.empty(),Zc)}static max(){return new Xi(ke.max(),ve.empty(),Zc)}}function vj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==wj)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&n()}),(d=>r(d)))})),l=!0,a===s&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((s=>s?te.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((g=>{l[f]=g,++u,u===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new te(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function _j(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function vf(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function Ej(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="";function bj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L_(e)),e=Tj(t.get(n),e);return L_(e)}function Tj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case uS:n+="";break;default:n+=a}}return n}function L_(t){return t+uS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Sj(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function dS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??an.RED,this.left=s??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new an(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new ar([])}unionWith(e){let n=new Bt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new hS("Invalid base64 string: "+a):a}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const Ij=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=Ij.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="server_timestamp",pS="__type__",mS="__previous_value__",gS="__local_write_time__";function $y(t){return(t?.mapValue?.fields||{})[pS]?.stringValue===fS}function wf(t){const e=t.mapValue.fields[mS];return $y(e)?wf(e):e}function eu(t){const e=Ji(t.mapValue.fields[gS].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n,r,s,a,l,u,d,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const Uh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="__type__",Rj="__max__",Jd={mapValue:{}},vS="__vector__",Bh="value";function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$y(t)?4:Pj(t)?9007199254740991:Aj(t)?10:11:Ie(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ji(s.timestampValue),u=Ji(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return Zi(s.bytesValue).isEqual(Zi(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Ct(s.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(s.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Ct(s.integerValue)===Ct(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Ct(s.doubleValue),u=Ct(a.doubleValue);return l===u?Fh(l)===Fh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return hl(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(M_(l)!==M_(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ns(l[d],u[d])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function nu(t,e){return(t.values||[]).find((n=>Ns(n,e)))!==void 0}function fl(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=Ct(a.integerValue||a.doubleValue),d=Ct(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return O_(t.timestampValue,e.timestampValue);case 4:return O_(eu(t),eu(e));case 5:return bg(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=Zi(a),d=Zi(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const g=Be(u[f],d[f]);if(g!==0)return g}return Be(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Be(Ct(a.latitude),Ct(l.latitude));return u!==0?u:Be(Ct(a.longitude),Ct(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return F_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},d=l.fields||{},f=u[Bh]?.arrayValue,g=d[Bh]?.arrayValue,v=Be(f?.values?.length||0,g?.values?.length||0);return v!==0?v:F_(f,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Jd.mapValue&&l===Jd.mapValue)return 0;if(a===Jd.mapValue)return 1;if(l===Jd.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const _=bg(d[v],g[v]);if(_!==0)return _;const T=fl(u[d[v]],f[g[v]]);if(T!==0)return T}return Be(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function O_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Ji(t),r=Ji(e),s=Be(n.seconds,r.seconds);return s!==0?s:Be(n.nanos,r.nanos)}function F_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=fl(n[s],r[s]);if(a)return a}return Be(n.length,r.length)}function pl(t){return Tg(t)}function Tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Tg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Tg(n.fields[l])}`;return s+"}"})(t.mapValue):Ie(61005,{value:t})}function vh(t){switch(eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wf(t);return e?16+vh(e):16;case 5:return 2*t.stringValue.length;case 6:return Zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+vh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return uo(r.fields,((a,l)=>{s+=a.length+vh(l)})),s})(t.mapValue);default:throw Ie(13486,{value:t})}}function U_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sg(t){return!!t&&"integerValue"in t}function Wy(t){return!!t&&"arrayValue"in t}function B_(t){return!!t&&"nullValue"in t}function z_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function Aj(t){return(t?.mapValue?.fields||{})[yS]?.stringValue===vS}function Mc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mc(t.arrayValue.values[n]);return e}return{...t}}function Pj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(n)}setAll(e){let n=cn.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Mc(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){uo(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Hn(Mc(this.value))}}function wS(t){const e=[];return uo(t.fields,((n,r)=>{const s=new cn([n]);if(wh(r)){const a=wS(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,s,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Tn(e,0,ke.min(),ke.min(),ke.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,s){return new Tn(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new Tn(e,2,n,ke.min(),ke.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,ke.min(),ke.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function $_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),n.key):r=fl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function W_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function kj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{}class Dt extends xS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Dj(e,n,r):n==="array-contains"?new Mj(e,r):n==="in"?new Vj(e,r):n==="not-in"?new Oj(e,r):n==="array-contains-any"?new Fj(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jj(e,r):new Lj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fl(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends xS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qr(e,n)}matches(e){return _S(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _S(t){return t.op==="and"}function ES(t){return Nj(t)&&_S(t)}function Nj(t){for(const e of t.filters)if(e instanceof Qr)return!1;return!0}function Ig(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+pl(t.value);if(ES(t))return t.filters.map((e=>Ig(e))).join(",");{const e=t.filters.map((n=>Ig(n))).join(",");return`${t.op}(${e})`}}function bS(t,e){return t instanceof Dt?(function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&Ns(r.value,s.value)})(t,e):t instanceof Qr?(function(r,s){return s instanceof Qr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,u)=>a&&bS(l,s.filters[u])),!0):!1})(t,e):void Ie(19439)}function TS(t){return t instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`})(t):t instanceof Qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(TS).join(" ,")+"}"})(t):"Filter"}class Dj extends Dt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class jj extends Dt{constructor(e,n){super(e,"in",n),this.keys=SS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Lj extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=SS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function SS(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class Mj extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wy(n)&&nu(n.arrayValue,this.value)}}class Vj extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class Oj extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class Fj extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>nu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function q_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new Uj(t,e,n,r,s,a,l)}function qy(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ig(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>pl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>pl(r))).join(",")),e.Te=n}return e.Te}function Hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W_(t.startAt,e.startAt)&&W_(t.endAt,e.endAt)}function Cg(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n=null,r=[],s=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Bj(t,e,n,r,s,a,l,u){return new Il(t,e,n,r,s,a,l,u)}function Ky(t){return new Il(t)}function H_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IS(t){return t.collectionGroup!==null}function Vc(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Bt(cn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ru(a,r))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new ru(cn.keyField(),r))}return e.Ie}function Is(t){const e=Ae(t);return e.Ee||(e.Ee=CS(e,Vc(t))),e.Ee}function zj(t){const e=Ae(t);return e.de||(e.de=CS(e,t.explicitOrderBy)),e.de}function CS(t,e){if(t.limitType==="F")return q_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new ru(s.field,a)}));const n=t.endAt?new zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zh(t.startAt.position,t.startAt.inclusive):null;return q_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rg(t,e){const n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $h(t,e,n){return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return Hy(Is(t),Is(e))&&t.limitType===e.limitType}function RS(t){return`${qy(Is(t))}|lt:${t.limitType}`}function Ya(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>TS(s))).join(", ")}]`),vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>pl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>pl(s))).join(",")),`Target(${r})`})(Is(t))}; limitType=${t.limitType})`}function _f(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of Vc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,d){const f=$_(l,u,d);return l.inclusive?f<=0:f<0})(r.startAt,Vc(r),s)||r.endAt&&!(function(l,u,d){const f=$_(l,u,d);return l.inclusive?f>=0:f>0})(r.endAt,Vc(r),s))})(t,e)}function $j(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AS(t){return(e,n)=>{let r=!1;for(const s of Vc(t)){const a=Wj(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Wj(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(a,l,u){const d=l.data.field(a),f=u.data.field(a);return d!==null&&f!==null?fl(d,f):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return dS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=new yt(ve.comparator);function li(){return qj}const PS=new yt(ve.comparator);function Pc(...t){let e=PS;for(const n of t)e=e.insert(n.key,n);return e}function kS(t){let e=PS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Go(){return Oc()}function NS(){return Oc()}function Oc(){return new ha((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Hj=new yt(ve.comparator),Kj=new Bt(ve.comparator);function ze(...t){let e=Kj;for(const n of t)e=e.add(n);return e}const Gj=new Bt(Be);function Qj(){return Gj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function DS(t){return{integerValue:""+t}}function jS(t,e){return Ej(e)?DS(e):Gy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function Yj(t,e,n){return t instanceof su?(function(s,a){const l={fields:{[pS]:{stringValue:fS},[gS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&$y(a)&&(a=wf(a)),a&&(l.fields[mS]=a),{mapValue:l}})(n,e):t instanceof iu?MS(t,e):t instanceof ou?VS(t,e):(function(s,a){const l=LS(s,a),u=K_(l)+K_(s.Ae);return Sg(l)&&Sg(s.Ae)?DS(u):Gy(s.serializer,u)})(t,e)}function Xj(t,e,n){return t instanceof iu?MS(t,e):t instanceof ou?VS(t,e):n}function LS(t,e){return t instanceof au?(function(r){return Sg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class su extends Ef{}class iu extends Ef{constructor(e){super(),this.elements=e}}function MS(t,e){const n=OS(e);for(const r of t.elements)n.some((s=>Ns(s,r)))||n.push(r);return{arrayValue:{values:n}}}class ou extends Ef{constructor(e){super(),this.elements=e}}function VS(t,e){let n=OS(e);for(const r of t.elements)n=n.filter((s=>!Ns(s,r)));return{arrayValue:{values:n}}}class au extends Ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K_(t){return Ct(t.integerValue||t.doubleValue)}function OS(t){return Wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.field=e,this.transform=n}}function Jj(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof iu&&s instanceof iu||r instanceof ou&&s instanceof ou?hl(r.elements,s.elements,Ns):r instanceof au&&s instanceof au?Ns(r.Ae,s.Ae):r instanceof su&&s instanceof su})(t.transform,e.transform)}class Zj{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bf{}function US(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qy(t.key,Tr.none()):new Cu(t.key,t.data,Tr.none());{const n=t.data,r=Hn.empty();let s=new Bt(cn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ho(t.key,r,new ar(s.toArray()),Tr.none())}}function eL(t,e,n){t instanceof Cu?(function(s,a,l){const u=s.value.clone(),d=Q_(s.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof ho?(function(s,a,l){if(!xh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Q_(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(BS(s)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Fc(t,e,n,r){return t instanceof Cu?(function(a,l,u,d){if(!xh(a.precondition,l))return u;const f=a.value.clone(),g=Y_(a.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof ho?(function(a,l,u,d){if(!xh(a.precondition,l))return u;const f=Y_(a.fieldTransforms,d,l),g=l.data;return g.setAll(BS(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,u){return xh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function tL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=LS(r.transform,s||null);a!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,a))}return n||null}function G_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&hl(r,s,((a,l)=>Jj(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends bf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ho extends bf{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function BS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Q_(t,e,n){const r=new Map;Je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,Xj(l,u,n[s]))}return r}function Y_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,Yj(a,l,e))}return r}class Qy extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nL extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&eL(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NS();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const d=US(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((n,r)=>G_(n,r)))&&hl(this.baseMutations,e.baseMutations,((n,r)=>G_(n,r)))}}class Yy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return Hj})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Yy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,He;function aL(t){switch(t){case Z.OK:return Ie(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function zS(t){if(t===void 0)return ai("GRPC error has no .code"),Z.UNKNOWN;switch(t){case kt.OK:return Z.OK;case kt.CANCELLED:return Z.CANCELLED;case kt.UNKNOWN:return Z.UNKNOWN;case kt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case kt.INTERNAL:return Z.INTERNAL;case kt.UNAVAILABLE:return Z.UNAVAILABLE;case kt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case kt.NOT_FOUND:return Z.NOT_FOUND;case kt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case kt.ABORTED:return Z.ABORTED;case kt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case kt.DATA_LOSS:return Z.DATA_LOSS;default:return Ie(39323,{code:t})}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Gi([4294967295,4294967295],0);function X_(t){const e=lL().encode(t),n=new eS;return n.update(e),new Uint8Array(n.digest())}function J_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([s,a],0)]}class Xy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kc(`Invalid padding: ${n}`);if(r<0)throw new kc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Gi.fromNumber(r)));return s.compare(cL)===1&&(s=new Gi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=X_(e),[r,s]=J_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Xy(a,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=X_(e),[r,s]=J_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tf(ke.min(),s,new yt(Be),li(),ze())}}class Ru{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ru(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class $S{constructor(e,n){this.targetId=e,this.Ce=n}}class WS{constructor(e,n,r=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Z_{constructor(){this.ve=0,this.Fe=e1(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ie(38017,{changeType:a})}})),new Ru(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=e1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uL{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.Je=Zd(),this.He=Zd(),this.Ye=new yt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(Cg(a))if(r===0){const l=new ve(a.path);this.et(n,l,Tn.newNoDocument(l,ke.min()))}else Je(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=Zi(r).toUint8Array()}catch(d){if(d instanceof hS)return dl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Xy(l,s,a)}catch(d){return dl(d instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Cg(u.target)){const d=new ve(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Tn.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=ze();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Tf(e,n,this.Ye,this.je,r);return this.je=li(),this.Je=Zd(),this.He=Zd(),this.Ye=new yt(Be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Z_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zd(){return new yt(ve.comparator)}function e1(){return new yt(ve.comparator)}const dL={asc:"ASCENDING",desc:"DESCENDING"},hL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fL={and:"AND",or:"OR"};class pL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ag(t,e){return t.useProto3Json||vf(e)?e:{value:e}}function Wh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mL(t,e){return Wh(t,e.toTimestamp())}function Cs(t){return Je(!!t,49232),ke.fromTimestamp((function(n){const r=Ji(n);return new Xe(r.seconds,r.nanos)})(t))}function Jy(t,e){return Pg(t,e).canonicalString()}function Pg(t,e){const n=(function(s){return new st(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function HS(t){const e=st.fromString(t);return Je(JS(e),10190,{key:e.toString()}),e}function kg(t,e){return Jy(t.databaseId,e.path)}function jm(t,e){const n=HS(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(GS(n))}function KS(t,e){return Jy(t.databaseId,e)}function gL(t){const e=HS(t);return e.length===4?st.emptyPath():GS(e)}function Ng(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GS(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function t1(t,e,n){return{name:kg(t,e),fields:n.value.mapValue.fields}}function yL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ie(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(f,g){return f.useProto3Json?(Je(g===void 0||typeof g=="string",58123),dn.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),dn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const g=f.code===void 0?Z.UNKNOWN:zS(f.code);return new ue(g,f.message||"")})(l);n=new WS(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jm(t,r.document.name),a=Cs(r.document.updateTime),l=r.document.createTime?Cs(r.document.createTime):ke.min(),u=new Hn({mapValue:{fields:r.document.fields}}),d=Tn.newFoundDocument(s,a,l,u),f=r.targetIds||[],g=r.removedTargetIds||[];n=new _h(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jm(t,r.document),a=r.readTime?Cs(r.readTime):ke.min(),l=Tn.newNoDocument(s,a),u=r.removedTargetIds||[];n=new _h([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jm(t,r.document),a=r.removedTargetIds||[];n=new _h([],a,s,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new oL(s,a),u=r.targetId;n=new $S(u,l)}}return n}function vL(t,e){let n;if(e instanceof Cu)n={update:t1(t,e.key,e.value)};else if(e instanceof Qy)n={delete:kg(t,e.key)};else if(e instanceof ho)n={update:t1(t,e.key,e.data),updateMask:CL(e.fieldMask)};else{if(!(e instanceof nL))return Ie(16599,{Vt:e.type});n={verify:kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof su)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof iu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ou)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof au)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ie(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:mL(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)})(t,e.precondition)),n}function wL(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?Cs(s.updateTime):Cs(a);return l.isEqual(ke.min())&&(l=Cs(a)),new Zj(l,s.transformResults||[])})(n,e)))):[]}function xL(t,e){return{documents:[KS(t,e.path)]}}function QS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KS(t,s);const a=(function(f){if(f.length!==0)return XS(Qr.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((g=>(function(_){return{field:$i(_.field),direction:TL(_.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Ag(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function _L(t,e,n,r){const{ft:s,parent:a}=QS(t,e),l={},u=[];let d=0;return n.forEach((f=>{const g="aggregate_"+d++;l[g]=f.alias,f.aggregateType==="count"?u.push({alias:g,count:{}}):f.aggregateType==="avg"?u.push({alias:g,avg:{field:$i(f.fieldPath)}}):f.aggregateType==="sum"&&u.push({alias:g,sum:{field:$i(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:s.structuredQuery},parent:s.parent},gt:l,parent:a}}function EL(t){let e=gL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Je(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const _=YS(v);return _ instanceof Qr&&ES(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((_=>(function(k){return new ru(Xa(k.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let _;return _=typeof v=="object"?v.value:v,vf(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(v){const _=!!v.before,T=v.values||[];return new zh(T,_)})(n.startAt));let f=null;return n.endAt&&(f=(function(v){const _=!v.before,T=v.values||[];return new zh(T,_)})(n.endAt)),Bj(e,s,l,a,u,"F",d,f)}function bL(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xa(n.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xa(n.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xa(n.unaryFilter.field);return Dt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Dt.create(Xa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qr.create(n.compositeFilter.filters.map((r=>YS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function TL(t){return dL[t]}function SL(t){return hL[t]}function IL(t){return fL[t]}function $i(t){return{fieldPath:t.canonicalString()}}function Xa(t){return cn.fromServerFormat(t.fieldPath)}function XS(t){return t instanceof Dt?(function(n){if(n.op==="=="){if(z_(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NAN"}};if(B_(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z_(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NAN"}};if(B_(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(n.field),op:SL(n.op),value:n.value}}})(t):t instanceof Qr?(function(n){const r=n.getFilters().map((s=>XS(s)));return r.length===1?r[0]:{compositeFilter:{op:IL(n.op),filters:r}}})(t):Ie(54877,{filter:t})}function CL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function JS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,s,a=ke.min(),l=ke.min(),u=dn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.yt=e}}function AL(t){const e=EL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.Cn=new kL}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Xi.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class kL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Bt(st.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Bt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZS=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(ZS,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="LruGarbageCollector",NL=1048576;function s1([t,e],[n,r]){const s=Be(t,n);return s===0?Be(e,r):s}class DL{constructor(e){this.Ir=e,this.buffer=new Bt(s1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();s1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(r1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sl(n)?he(r1,"Ignoring IndexedDB error during garbage collection: ",n):await Tl(n)}await this.Vr(3e5)}))}}class LL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(yf.ce);const r=new DL(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(n1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,u,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(f=Date.now(),Qa()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v}))))}}function ML(t,e){return new LL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Fc(r.mutation,s,ar.empty(),Xe.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const s=Go();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=Pc();return a.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let a=li();const l=Oc(),u=(function(){return Oc()})();return n.forEach(((d,f)=>{const g=r.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof ho)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Fc(g.mutation,f,g.mutation.getFieldMask(),Xe.now())):l.set(f.key,ar.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,g)=>l.set(f,g))),n.forEach(((f,g)=>u.set(f,new OL(g,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Oc();let s=new yt(((l,u)=>l-u)),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let g=r.get(d)||ar.empty();g=u.applyToLocalView(f,g),r.set(d,g);const v=(s.get(u.batchId)||ze()).add(d);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,g=d.value,v=NS();g.forEach((_=>{if(!a.has(_)){const T=US(n.get(_),r.get(_));T!==null&&v.set(_,T),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):te.resolve(Go());let u=Zc,d=a;return l.next((f=>te.forEach(f,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{d=d.insert(g,_)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,ze()))).next((g=>({batchId:u,changes:kS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let s=Pc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Pc();return this.indexManager.getCollectionParents(e,a).next((u=>te.forEach(u,(d=>{const f=(function(v,_){return new Il(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((g=>{g.forEach(((v,_)=>{l=l.insert(v,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,Tn.newInvalidDocument(g)))}));let u=Pc();return l.forEach(((d,f)=>{const g=a.get(d);g!==void 0&&Fc(g.mutation,f,ar.empty(),Xe.now()),_f(n,f)&&(u=u.insert(d,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Cs(s.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:AL(s.bundledQuery),readTime:Cs(s.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.overlays=new yt(ve.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return te.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const s=Go(),a=n.length+1,l=new ve(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return te.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new yt(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=a.get(f.largestBatchId);g===null&&(g=Go(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Go(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>u.set(f,g))),!(u.size()>=s)););return te.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new sL(n,r));let a=this.qr.get(n);a===void 0&&(a=ze(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.Qr=new Bt(Gt.$r),this.Ur=new Bt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new st([])),r=new Gt(n,e),s=new Gt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new st([])),r=new Gt(n,e),s=new Gt(n,e+1);let a=ze();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Gt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Gt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new rL(a,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new Gt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?zy:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),s=new Gt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);a.push(u)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Be);return n.forEach((s=>{const a=new Gt(s,0),l=new Gt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const l=new Gt(new ve(a),0);let u=new Bt(Be);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(u=u.add(d.Yr)),!0)}),l),te.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(s=>{const a=new Gt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Gt(n,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.ri=e,this.docs=(function(){return new yt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Tn.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=li();const l=n.path,u=new ve(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||vj(yj(g),r)<=0||(s.has(g.key)||_f(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ie(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qL(this)}getSize(e){return te.resolve(this.size)}}class qL extends VL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.persistence=e,this.si=new ha((n=>qy(n)),Hy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Zy,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),te.waitFor(a).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.ui={},this.overlays={},this.ci=new yf(0),this.li=!1,this.li=!0,this.hi=new zL,this.referenceDelegate=e(this),this.Pi=new HL(this),this.indexManager=new PL,this.remoteDocumentCache=(function(s){return new WL(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new RL(n),this.Ii=new UL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $L(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new KL(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class KL extends xj{constructor(e){super(),this.currentSequenceNumber=e}}class e0{constructor(e){this.persistence=e,this.Ri=new Zy,this.Vi=null}static mi(e){return new e0(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=ve.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.pi=new ha((r=>bj(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=ML(this,n)}static mi(e,n){return new qh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?te.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,ke.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ze(),s=ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new t0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sk()?8:_j(In())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new GL;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Qa()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Qa()<=Ue.DEBUG&&he("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Qa()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(n))):te.resolve())}ys(e,n){if(H_(n))return te.resolve(null);let r=Is(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=$h(n,null,"F"),r=Is(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=ze(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,u);return this.Cs(n,f,l,d.readTime)?this.ys(e,$h(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,s){return H_(n)||s.isEqual(ke.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?te.resolve(null):(Qa()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ya(n)),this.vs(e,l,n,gj(s,Zc)).next((u=>u)))}))}Ds(e,n){let r=new Bt(AS(e));return n.forEach(((s,a)=>{_f(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Qa()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(e,n,Xi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="LocalStore",YL=3e8;class XL{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new yt(Be),this.xs=new ha((a=>qy(a)),Hy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JL(t,e,n,r){return new XL(t,e,n,r)}async function tI(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let d=ze();for(const f of s){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function ZL(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,g){const v=f.batch,_=v.keys();let T=te.resolve();return _.forEach((k=>{T=T.next((()=>g.getEntry(d,k))).next((A=>{const I=f.docVersions.get(k);Je(I!==null,48541),A.version.compareTo(I)<0&&(v.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),g.addEntry(A)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=ze();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function nI(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function eM(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const _=s.get(v);if(!_)return;u.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,v))));let T=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(dn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),s=s.insert(v,T),(function(A,I,j){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=YL?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(_,T,g)&&u.push(n.Pi.updateTargetData(a,T))}));let d=li(),f=ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(tM(a,l,e.documentUpdates).next((g=>{d=g.ks,f=g.qs}))),!r.isEqual(ke.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return te.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.Ms=s,a)))}function tM(t,e,n){let r=ze(),s=ze();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=li();return n.forEach(((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):he(n0,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function nM(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function rM(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,te.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new qi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Dg(t,e,n){const r=Ae(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Sl(l))throw l;he(n0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function i1(t,e,n){const r=Ae(t);let s=ke.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,g){const v=Ae(d),_=v.xs.get(g);return _!==void 0?te.resolve(v.Ms.get(_)):v.Pi.getTargetData(f,g)})(r,l,Is(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:ke.min(),n?a:ze()))).next((u=>(sM(r,$j(e),u),{documents:u,Qs:a})))))}function sM(t,e,n){let r=t.Os.get(e)||ke.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class o1{constructor(){this.activeTargetIds=Qj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iM{constructor(){this.Mo=new o1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="ConnectivityMonitor";class l1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(a1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(a1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function jg(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",aM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Uh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=jg(),u=this.zo(e,n.toUriEncodedString());he(Lm,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,a);const{host:f}=new URL(u),g=io(f);return this.Jo(e,u,d,r,g).then((v=>(he(Lm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw dl(Lm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=aM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class uM extends lM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=jg();return new Promise(((u,d)=>{const f=new tS;f.setWithCredentials(!0),f.listenOnce(nS.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case yh.NO_ERROR:const v=f.getResponseJson();he(En,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case yh.TIMEOUT:he(En,`RPC '${e}' ${l} timed out`),d(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const _=f.getStatus();if(he(En,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const k=T?.error;if(k&&k.status&&k.message){const A=(function(j){const N=j.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(N)>=0?N:Z.UNKNOWN})(k.status);d(new ue(A,k.message))}else d(new ue(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{he(En,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);he(En,`RPC '${e}' ${l} sending request:`,s),f.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=jg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=iS(),u=sS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");he(En,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=l.createWebChannel(g,d);this.I_(v);let _=!1,T=!1;const k=new cM({Yo:I=>{T?he(En,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(_||(he(En,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),he(En,`RPC '${e}' stream ${s} sending:`,I),v.send(I))},Zo:()=>v.close()}),A=(I,j,N)=>{I.listen(j,(F=>{try{N(F)}catch(W){setTimeout((()=>{throw W}),0)}}))};return A(v,Ac.EventType.OPEN,(()=>{T||(he(En,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),A(v,Ac.EventType.CLOSE,(()=>{T||(T=!0,he(En,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(v))})),A(v,Ac.EventType.ERROR,(I=>{T||(T=!0,dl(En,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),k.a_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),A(v,Ac.EventType.MESSAGE,(I=>{if(!T){const j=I.data[0];Je(!!j,16349);const N=j,F=N?.error||N[0]?.error;if(F){he(En,`RPC '${e}' stream ${s} received error:`,F);const W=F.status;let G=(function(C){const D=kt[C];if(D!==void 0)return zS(D)})(W),q=F.message;G===void 0&&(G=Z.INTERNAL,q="Unknown error status: "+W+" with message "+F.message),T=!0,k.a_(new ue(G,q)),v.close()}else he(En,`RPC '${e}' stream ${s} received:`,j),k.u_(j)}})),A(u,rS.STAT_EVENT,(I=>{I.stat===Eg.PROXY?he(En,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Eg.NOPROXY&&he(En,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){return new pL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="PersistentStream";class sI{constructor(e,n,r,s,a,l,u,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ue(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(c1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(c1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dM extends sI{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yL(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Cs(l.readTime):ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ng(this.serializer),n.addTarget=(function(a,l){let u;const d=l.target;if(u=Cg(d)?{documents:xL(a,d)}:{query:QS(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=qS(a,l.resumeToken);const f=Ag(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(ke.min())>0){u.readTime=Wh(a,l.snapshotVersion.toTimestamp());const f=Ag(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=bL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ng(this.serializer),n.removeTarget=e,this.q_(n)}}class hM extends sI{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wL(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ng(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>vL(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{}class pM extends fM{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Pg(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(Z.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Pg(n,r),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(Z.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ai(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class gM{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{fa(this)&&(he(oa,"Restarting streams for network reachability change."),await(async function(d){const f=Ae(d);f.Ea.add(4),await Au(f),f.Ra.set("Unknown"),f.Ea.delete(4),await If(f)})(this))}))})),this.Ra=new mM(r,s)}}async function If(t){if(fa(t))for(const e of t.da)await e(!0)}async function Au(t){for(const e of t.da)await e(!1)}function iI(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),o0(n)?i0(n):Cl(n).O_()&&s0(n,e))}function r0(t,e){const n=Ae(t),r=Cl(n);n.Ia.delete(e),r.O_()&&oI(n,e),n.Ia.size===0&&(r.O_()?r.L_():fa(n)&&n.Ra.set("Unknown"))}function s0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).Y_(e)}function oI(t,e){t.Va.Ue(e),Cl(t).Z_(e)}function i0(t){t.Va=new uL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.Ra.ua()}function o0(t){return fa(t)&&!Cl(t).x_()&&t.Ia.size>0}function fa(t){return Ae(t).Ea.size===0}function aI(t){t.Va=void 0}async function yM(t){t.Ra.set("Online")}async function vM(t){t.Ia.forEach(((e,n)=>{s0(t,e)}))}async function wM(t,e){aI(t),o0(t)?(t.Ra.ha(e),i0(t)):t.Ra.set("Unknown")}async function xM(t,e,n){if(t.Ra.set("Online"),e instanceof WS&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(r){he(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hh(t,r)}else if(e instanceof _h?t.Va.Ze(e):e instanceof $S?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const r=await nI(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(dn.EMPTY_BYTE_STRING,g.snapshotVersion)),oI(a,d);const v=new qi(g.target,d,f,g.sequenceNumber);s0(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){he(oa,"Failed to raise snapshot:",r),await Hh(t,r)}}async function Hh(t,e,n){if(!Sl(e))throw e;t.Ea.add(1),await Au(t),t.Ra.set("Offline"),n||(n=()=>nI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(oa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await If(t)}))}function lI(t,e){return e().catch((n=>Hh(t,n,e)))}async function Cf(t){const e=Ae(t),n=to(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zy;for(;_M(e);)try{const s=await nM(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,EM(e,s)}catch(s){await Hh(e,s)}cI(e)&&uI(e)}function _M(t){return fa(t)&&t.Ta.length<10}function EM(t,e){t.Ta.push(e);const n=to(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cI(t){return fa(t)&&!to(t).x_()&&t.Ta.length>0}function uI(t){to(t).start()}async function bM(t){to(t).ra()}async function TM(t){const e=to(t);for(const n of t.Ta)e.ea(n.mutations)}async function SM(t,e,n){const r=t.Ta.shift(),s=Yy.from(r,e,n);await lI(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Cf(t)}async function IM(t,e){e&&to(t).X_&&await(async function(r,s){if((function(l){return aL(l)&&l!==Z.ABORTED})(s.code)){const a=r.Ta.shift();to(r).B_(),await lI(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Cf(r)}})(t,e),cI(t)&&uI(t)}async function u1(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),he(oa,"RemoteStore received new credentials");const r=fa(n);n.Ea.add(3),await Au(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await If(n)}async function CM(t,e){const n=Ae(t);e?(n.Ea.delete(2),await If(n)):e||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function Cl(t){return t.ma||(t.ma=(function(n,r,s){const a=Ae(n);return a.sa(),new dM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:yM.bind(null,t),t_:vM.bind(null,t),r_:wM.bind(null,t),H_:xM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),o0(t)?i0(t):t.Ra.set("Unknown")):(await t.ma.stop(),aI(t))}))),t.ma}function to(t){return t.fa||(t.fa=(function(n,r,s){const a=Ae(n);return a.sa(),new hM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bM.bind(null,t),r_:IM.bind(null,t),ta:TM.bind(null,t),na:SM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cf(t)):(await t.fa.stop(),t.Ta.length>0&&(he(oa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,u=new a0(e,n,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(t,e){if(ai("AsyncQueue",`${e}: ${t}`),Sl(t))return new ue(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Pc(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.ga=new yt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gl{constructor(e,n,r,s,a,l,u,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new gl(e,n,al.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class AM{constructor(){this.queries=h1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ae(n),a=s.queries;s.queries=h1(),a.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function h1(){return new ha((t=>RS(t)),xf)}async function dI(t,e){const n=Ae(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new RM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=l0(l,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&c0(n)}async function hI(t,e){const n=Ae(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PM(t,e){const n=Ae(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&c0(n)}function kM(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function c0(t){t.Ca.forEach((e=>{e.next()}))}var Lg,f1;(f1=Lg||(Lg={})).Ma="default",f1.Cache="cache";class fI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.key=e}}class mI{constructor(e){this.key=e}}class NM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=AS(e),this.tu=new al(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new d1,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const _=s.get(g),T=_f(this.query,v)?v:null,k=!!_&&this.mutatedKeys.has(_.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;_&&T?_.data.isEqual(T.data)?k!==A&&(r.track({type:3,doc:T}),I=!0):this.su(_,T)||(r.track({type:2,doc:T}),I=!0,(d&&this.eu(T,d)>0||f&&this.eu(T,f)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),I=!0):_&&!T&&(r.track({type:1,doc:_}),I=!0,(d||f)&&(u=!0)),I&&(T?(l=l.add(T),a=A?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(T,k){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:I})}};return A(T)-A(k)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new gl(this.query,e.tu,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new mI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new pI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const u0="SyncEngine";class DM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jM{constructor(e){this.key=e,this.hu=!1}}class LM{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ha((u=>RS(u)),xf),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ve.comparator),this.Au=new Map,this.Ru=new Zy,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MM(t,e,n=!0){const r=_I(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await gI(r,e,n,!0),s}async function VM(t,e){const n=_I(t);await gI(n,e,!0,!1)}async function gI(t,e,n,r){const s=await rM(t.localStore,Is(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await OM(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&iI(t.remoteStore,s),u}async function OM(t,e,n,r,s){t.pu=(v,_,T)=>(async function(A,I,j,N){let F=I.view.ru(j);F.Cs&&(F=await i1(A.localStore,I.query,!1).then((({documents:R})=>I.view.ru(R,F))));const W=N&&N.targetChanges.get(I.targetId),G=N&&N.targetMismatches.get(I.targetId)!=null,q=I.view.applyChanges(F,A.isPrimaryClient,W,G);return m1(A,I.targetId,q.au),q.snapshot})(t,v,_,T);const a=await i1(t.localStore,e,!0),l=new NM(e,a.Qs),u=l.ru(a.documents),d=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=l.applyChanges(u,t.isPrimaryClient,d);m1(t,n,f.au);const g=new DM(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function FM(t,e,n){const r=Ae(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!xf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&r0(r.remoteStore,s.targetId),Mg(r,s.targetId)})).catch(Tl)):(Mg(r,s.targetId),await Dg(r.localStore,s.targetId,!0))}async function UM(t,e){const n=Ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),r0(n.remoteStore,r.targetId))}async function BM(t,e,n){const r=GM(t);try{const s=await(function(l,u){const d=Ae(l),f=Xe.now(),g=u.reduce(((T,k)=>T.add(k.key)),ze());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let k=li(),A=ze();return d.Ns.getEntries(T,g).next((I=>{k=I,k.forEach(((j,N)=>{N.isValidDocument()||(A=A.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,k))).next((I=>{v=I;const j=[];for(const N of u){const F=tL(N,v.get(N.key).overlayedDocument);F!=null&&j.push(new ho(N.key,F,wS(F.value.mapValue),Tr.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,j,u)})).next((I=>{_=I;const j=I.applyToLocalDocumentSet(v,A);return d.documentOverlayCache.saveOverlays(T,I.batchId,j)}))})).then((()=>({batchId:_.batchId,changes:kS(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new yt(Be)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(r,s.batchId,n),await Pu(r,s.changes),await Cf(r.remoteStore)}catch(s){const a=l0(s,"Failed to persist write");n.reject(a)}}async function yI(t,e){const n=Ae(t);try{const r=await eM(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(Je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Je(l.hu,14607):s.removedDocuments.size>0&&(Je(l.hu,42227),l.hu=!1))})),await Pu(n,r,e)}catch(r){await Tl(r)}}function p1(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const d=Ae(l);d.onlineState=u;let f=!1;d.queries.forEach(((g,v)=>{for(const _ of v.Sa)_.va(u)&&(f=!0)})),f&&c0(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zM(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new yt(ve.comparator);l=l.insert(a,Tn.newNoDocument(a,ke.min()));const u=ze().add(a),d=new Tf(ke.min(),new Map,new yt(Be),l,u);await yI(r,d),r.du=r.du.remove(a),r.Au.delete(e),d0(r)}else await Dg(r.localStore,e,!1).then((()=>Mg(r,e,n))).catch(Tl)}async function $M(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await ZL(n.localStore,e);wI(n,r,null),vI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,s)}catch(s){await Tl(s)}}async function WM(t,e,n){const r=Ae(t);try{const s=await(function(l,u){const d=Ae(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,u).next((v=>(Je(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(f,v)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);wI(r,e,n),vI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,s)}catch(s){await Tl(s)}}function vI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function wI(t,e,n){const r=Ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Mg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||xI(t,r)}))}function xI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(r0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),d0(t))}function m1(t,e,n){for(const r of n)r instanceof pI?(t.Ru.addReference(r.key,e),qM(t,r)):r instanceof mI?(he(u0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||xI(t,r.key)):Ie(19791,{wu:r})}function qM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(u0,"New document in limbo: "+n),t.Eu.add(r),d0(t))}function d0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(st.fromString(e)),r=t.fu.next();t.Au.set(r,new jM(n)),t.du=t.du.insert(n,r),iI(t.remoteStore,new qi(Is(Ky(n.path)),r,"TargetPurposeLimboResolution",yf.ce))}}async function Pu(t,e,n){const r=Ae(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){s.push(f);const g=t0.As(d.targetId,f);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,f){const g=Ae(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(f,(_=>te.forEach(_.Es,(T=>g.persistence.referenceDelegate.addReference(v,_.targetId,T))).next((()=>te.forEach(_.ds,(T=>g.persistence.referenceDelegate.removeReference(v,_.targetId,T)))))))))}catch(v){if(!Sl(v))throw v;he(n0,"Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const T=g.Ms.get(_),k=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(_,A)}}})(r.localStore,a))}async function HM(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){he(u0,"User change. New user:",e.toKey());const r=await tI(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((d=>{d.reject(new ue(Z.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Ls)}}function KM(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let s=ze();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function _I(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zM.bind(null,e),e.Pu.H_=PM.bind(null,e.eventManager),e.Pu.yu=kM.bind(null,e.eventManager),e}function GM(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$M.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WM.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JL(this.persistence,new QL,e.initialUser,this.serializer)}Cu(e){return new eI(e0.mi,this.serializer)}Du(e){return new iM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class QM extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof qh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new eI((r=>qh.mi(r,n)),this.serializer)}}class Vg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HM.bind(null,this.syncEngine),await CM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AM})()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),r=(function(a){return new uM(a)})(e.databaseInfo);return(function(a,l,u,d){return new pM(a,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,u){return new gM(r,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>p1(this.syncEngine,n,0)),(function(){return l1.v()?new l1:new oM})())}createSyncEngine(e,n){return(function(s,a,l,u,d,f,g){const v=new LM(s,a,l,u,d,f);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);he(oa,"RemoteStore shutting down."),r.Ea.add(5),await Au(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vg.provider={build:()=>new Vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class YM{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=By.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{he(no,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(no,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vm(t,e){t.asyncQueue.verifyOperationInProgress(),he(no,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await tI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function g1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XM(t);he(no,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>u1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>u1(e.remoteStore,s))),t._onlineComponents=e}async function XM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(no,"Using user provided OfflineComponentProvider");try{await Vm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await Vm(t,new Kh)}}else he(no,"Using default OfflineComponentProvider"),await Vm(t,new QM(void 0));return t._offlineComponents}async function h0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(no,"Using user provided OnlineComponentProvider"),await g1(t,t._uninitializedComponentsProvider._online)):(he(no,"Using default OnlineComponentProvider"),await g1(t,new Vg))),t._onlineComponents}function JM(t){return h0(t).then((e=>e.syncEngine))}function ZM(t){return h0(t).then((e=>e.datastore))}async function bI(t){const e=await h0(t),n=e.eventManager;return n.onListen=MM.bind(null,e.syncEngine),n.onUnlisten=FM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UM.bind(null,e.syncEngine),n}function e6(t,e,n={}){const r=new Ss;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,f){const g=new EI({next:_=>{g.Nu(),l.enqueueAndForget((()=>hI(a,v)));const T=_.docs.has(u);!T&&_.fromCache?f.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?f.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new fI(Ky(u.path),g,{includeMetadataChanges:!0,qa:!0});return dI(a,v)})(await bI(t),t.asyncQueue,e,n,r))),r.promise}function t6(t,e,n={}){const r=new Ss;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,f){const g=new EI({next:_=>{g.Nu(),l.enqueueAndForget((()=>hI(a,v))),_.fromCache&&d.source==="server"?f.reject(new ue(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new fI(u,g,{includeMetadataChanges:!0,qa:!0});return dI(a,v)})(await bI(t),t.asyncQueue,e,n,r))),r.promise}function n6(t,e,n){const r=new Ss;return t.asyncQueue.enqueueAndForget((async()=>{try{const s=await ZM(t);r.resolve((async function(l,u,d){const f=Ae(l),{request:g,gt:v,parent:_}=_L(f.serializer,zj(u),d);f.connection.$o||delete g.parent;const T=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,_,g,1)).filter((A=>!!A.result));Je(T.length===1,64727);const k=T[0].result?.aggregateFields;return Object.keys(k).reduce(((A,I)=>(A[v[I]]=k[I],A)),{})})(s,e,n))}catch(s){r.reject(s)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="firestore.googleapis.com",v1=!0;class w1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SI,this.ssl=v1}else this.host=e.host,this.ssl=e.ssl??v1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NL)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ij;switch(r.type){case"firstParty":return new cj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=y1.get(n);r&&(he("ComponentProvider","Removing Datastore"),y1.delete(n),r.terminate())})(this),Promise.resolve()}}function r6(t,e,n,r={}){t=Ar(t,Rf);const s=io(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(_y(`https://${u}`),Ey("Firestore",!0)),a.host!==SI&&a.host!==u&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:s,emulatorOptions:r};if(!Yi(d,l)&&(t._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=bn.MOCK_USER;else{f=Bb(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new bn(v)}t._authCredentials=new oj(new aS(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Iu(n,Rt._jsonSchema))return new Rt(e,r||null,new ve(st.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:jt("string",Rt._jsonSchemaVersion),referencePath:jt("string")};class Qi extends fo{constructor(e,n,r){super(e,n,Ky(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ve(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function hn(t,e,...n){if(t=ct(t),lS("collection","path",e),t instanceof Rf){const r=st.fromString(e,...n);return N_(r),new Qi(t,null,r)}{if(!(t instanceof Rt||t instanceof Qi))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return N_(r),new Qi(t.firestore,null,r)}}function Lt(t,e,...n){if(t=ct(t),arguments.length===1&&(e=By.newId()),lS("doc","path",e),t instanceof Rf){const r=st.fromString(e,...n);return k_(r),new Rt(t,null,new ve(r))}{if(!(t instanceof Rt||t instanceof Qi))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return k_(r),new Rt(t.firestore,t instanceof Qi?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="AsyncQueue";class _1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rI(this,"async_queue_retry"),this._c=()=>{const r=Mm();r&&he(x1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sl(e))throw e;he(x1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ai("INTERNAL UNHANDLED ERROR: ",E1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=a0.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ie(47125,{Pc:E1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function E1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class po extends Rf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new _1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _1(e),this._firestoreClient=void 0,await e}}}function s6(t,e){const n=typeof t=="object"?t:uf(),r=typeof t=="string"?t:Uh,s=oo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Ob("firestore");a&&r6(s,...a)}return s}function Af(t){if(t._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i6(t),t._firestoreClient}function i6(t){const e=t._freezeSettings(),n=(function(s,a,l,u){return new Cj(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,TI(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class a6{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Er(dn.fromBase64String(e))}catch(n){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Er(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,Er._jsonSchema))return Er.fromBase64String(e.bytes)}}Er._jsonSchemaVersion="firestore/bytes/1.0",Er._jsonSchema={type:jt("string",Er._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:jt("string",Rs._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,As._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new As(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:jt("string",As._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=/^__.*__$/;class c6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class II{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:t})}}class f0{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new f0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CI(this.Ac)&&l6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sf(e)}Cc(e,n,r,s=!1){return new f0({Ac:e,methodName:n,Dc:r,path:cn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kf(t){const e=t._freezeSettings(),n=Sf(t._databaseId);return new u6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RI(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);g0("Data must be an object, but it was:",l,r);const u=AI(r,l);let d,f;if(a.merge)d=new ar(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const _=Og(e,v,n);if(!l.contains(_))throw new ue(Z.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);kI(g,_)||g.push(_)}d=new ar(g),f=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,f=l.fieldTransforms;return new c6(new Hn(u),d,f)}class Nf extends ku{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class p0 extends ku{_toFieldTransform(e){return new FS(e.path,new su)}isEqual(e){return e instanceof p0}}class m0 extends ku{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new au(e.serializer,jS(e.serializer,this.Fc));return new FS(e.path,n)}isEqual(e){return e instanceof m0&&this.Fc===e.Fc}}function d6(t,e,n,r){const s=t.Cc(1,e,n);g0("Data must be an object, but it was:",s,r);const a=[],l=Hn.empty();uo(r,((d,f)=>{const g=y0(e,d,n);f=ct(f);const v=s.yc(g);if(f instanceof Nf)a.push(g);else{const _=Nu(f,v);_!=null&&(a.push(g),l.set(g,_))}}));const u=new ar(a);return new II(l,u,s.fieldTransforms)}function h6(t,e,n,r,s,a){const l=t.Cc(1,e,n),u=[Og(e,r,n)],d=[s];if(a.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)u.push(Og(e,a[_])),d.push(a[_+1]);const f=[],g=Hn.empty();for(let _=u.length-1;_>=0;--_)if(!kI(f,u[_])){const T=u[_];let k=d[_];k=ct(k);const A=l.yc(T);if(k instanceof Nf)f.push(T);else{const I=Nu(k,A);I!=null&&(f.push(T),g.set(T,I))}}const v=new ar(f);return new II(g,v,l.fieldTransforms)}function f6(t,e,n,r=!1){return Nu(n,t.Cc(r?4:3,e))}function Nu(t,e){if(PI(t=ct(t)))return g0("Unsupported field value:",e,t),AI(t,e);if(t instanceof ku)return(function(r,s){if(!CI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const u of r){let d=Nu(u,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xe.fromDate(r);return{timestampValue:Wh(s.serializer,a)}}if(r instanceof Xe){const a=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wh(s.serializer,a)}}if(r instanceof Rs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Er)return{bytesValue:qS(s.serializer,r._byteString)};if(r instanceof Rt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Jy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof As)return(function(l,u){return{mapValue:{fields:{[yS]:{stringValue:vS},[Bh]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Gy(u.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${gf(r)}`)})(t,e)}function AI(t,e){const n={};return dS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,((r,s)=>{const a=Nu(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function PI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Rs||t instanceof Er||t instanceof Rt||t instanceof ku||t instanceof As)}function g0(t,e,n){if(!PI(n)||!cS(n)){const r=gf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Og(t,e,n){if((e=ct(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return y0(t,e);throw Gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const p6=new RegExp("[~\\*/\\[\\]]");function y0(t,e,n){if(e.search(p6)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pf(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ue(Z.INVALID_ARGUMENT,u+t+d)}function kI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m6 extends NI{data(){return super.data()}}function Df(t,e){return typeof e=="string"?y0(t,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}class w0 extends v0{}function ur(t,e,...n){let r=[];e instanceof v0&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((d=>d instanceof x0)).length,u=a.filter((d=>d instanceof jf)).length;if(l>1||l>0&&u>0)throw new ue(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class jf extends w0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jf(e,n,r)}_apply(e){const n=this._parse(e);return DI(e._query,n),new fo(e.firestore,e.converter,Rg(e._query,n))}_parse(e){const n=kf(e.firestore);return(function(a,l,u,d,f,g,v){let _;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){T1(v,g);const k=[];for(const A of v)k.push(b1(d,a,A));_={arrayValue:{values:k}}}else _=b1(d,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||T1(v,g),_=f6(u,l,v,g==="in"||g==="not-in");return Dt.create(f,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function un(t,e,n){const r=e,s=Df("where",t);return jf._create(s,r,n)}class x0 extends v0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new x0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const d of u)DI(l,d),l=Rg(l,d)})(e._query,n),new fo(e.firestore,e.converter,Rg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _0 extends w0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _0(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(a,l)})(e._query,this._field,this._direction);return new fo(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new Il(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Lf(t,e="asc"){const n=e,r=Df("orderBy",t);return _0._create(r,n)}class E0 extends w0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new E0(e,n,r)}_apply(e){return new fo(e.firestore,e.converter,$h(e._query,this._limit,this._limitType))}}function y6(t){return E0._create("limit",t,"F")}function b1(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ue(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IS(e)&&n.indexOf("/")!==-1)throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ve.isDocumentKey(r))throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U_(t,new ve(r))}if(n instanceof Rt)return U_(t,n._key);throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(n)}.`)}function T1(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DI(t,e){const n=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v6{convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uo(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Bh].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new As(n)}convertGeoPoint(e){return new Rs(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Je(JS(r),9688,{name:e});const s=new tu(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return s.isEqual(n)||ai(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function w6(){return new o6("count")}class Nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xo extends NI{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:jt("string",Xo._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Eh extends Xo{data(e={}){return super.data(e)}}class ll{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Eh(this._firestore,this._userDataWriter,r.key,r,new Nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const d=new Eh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Nc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new Eh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Nc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:x6(u.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=By.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){t=Ar(t,Rt);const e=Ar(t.firestore,po);return e6(Af(e),t._key).then((n=>_6(e,t,n)))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:jt("string",ll._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class b0 extends v6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Er(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Pr(t){t=Ar(t,fo);const e=Ar(t.firestore,po),n=Af(e),r=new b0(e);return g6(t._query),t6(n,t._query).then((s=>new ll(e,r,t,s)))}function LI(t,e,n){t=Ar(t,Rt);const r=Ar(t.firestore,po),s=jI(t.converter,e,n);return Mf(r,[RI(kf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Tr.none())])}function Du(t,e,n,...r){t=Ar(t,Rt);const s=Ar(t.firestore,po),a=kf(s);let l;return l=typeof(e=ct(e))=="string"||e instanceof Pf?h6(a,"updateDoc",t._key,e,n,r):d6(a,"updateDoc",t._key,e),Mf(s,[l.toMutation(t._key,Tr.exists(!0))])}function T0(t){return Mf(Ar(t.firestore,po),[new Qy(t._key,Tr.none())])}function pa(t,e){const n=Ar(t.firestore,po),r=Lt(t),s=jI(t.converter,e);return Mf(n,[RI(kf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then((()=>r))}function Mf(t,e){return(function(r,s){const a=new Ss;return r.asyncQueue.enqueueAndForget((async()=>BM(await JM(r),s,a))),a.promise})(Af(t),e)}function _6(t,e,n){const r=n.docs.get(e._key),s=new b0(t);return new Xo(t,s,e._key,r,new Nc(n.hasPendingWrites,n.fromCache),e.converter)}function S1(t){return E6(t,{count:w6()})}function E6(t,e){const n=Ar(t.firestore,po),r=Af(n),s=Sj(e,((a,l)=>new iL(l,a.aggregateType,a._internalFieldPath)));return n6(r,t._query,s).then((a=>(function(u,d,f){const g=new b0(u);return new a6(d,g,f)})(n,t,a)))}function Qh(){return new p0("serverTimestamp")}function b6(t){return new m0("increment",t)}(function(e,n=!0){(function(s){bl=s})(da),Gr(new Cr("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new po(new aj(r.getProvider("auth-internal")),new uj(l,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(f.options.projectId,g)})(l,s),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Gn(C_,R_,e),Gn(C_,R_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firebasestorage.googleapis.com",VI="storageBucket",T6=120*1e3,S6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends kr{constructor(e,n,r=0){super(Om(e),`Firebase Storage: ${n} (${Om(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Om(t){return"storage/"+t}function S0(){const t="An unknown error occurred, please check the error payload for server response.";return new Et(_t.UNKNOWN,t)}function I6(t){return new Et(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function C6(t){return new Et(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function R6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(_t.UNAUTHENTICATED,t)}function A6(){return new Et(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function P6(t){return new Et(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function k6(){return new Et(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function N6(){return new Et(_t.CANCELED,"User canceled the upload/download.")}function D6(t){return new Et(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function j6(t){return new Et(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function L6(){return new Et(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VI+"' property when initializing the app?")}function M6(){return new Et(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V6(){return new Et(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function O6(t){return new Et(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fg(t){return new Et(_t.INVALID_ARGUMENT,t)}function OI(){return new Et(_t.APP_DELETED,"The Firebase app was deleted.")}function F6(t){return new Et(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uc(t,e){return new Et(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bc(t){throw new Et(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=lr.makeFromUrl(e,n)}catch{return new lr(e,"")}if(r.path==="")return r;throw j6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function f(W){W.path_=decodeURIComponent(W.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${g}/b/${s}/o${_}`,"i"),k={bucket:1,path:3},A=n===MI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",j=new RegExp(`^https?://${A}/${s}/${I}`,"i"),F=[{regex:u,indices:d,postModify:a},{regex:T,indices:k,postModify:f},{regex:j,indices:{bucket:1,path:2},postModify:f}];for(let W=0;W<F.length;W++){const G=F[W],q=G.regex.exec(e);if(q){const R=q[G.indices.bucket];let C=q[G.indices.path];C||(C=""),r=new lr(R,C),G.postModify(r);break}}if(r==null)throw D6(e);return r}}class U6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t,e,n){let r=1,s=null,a=null,l=!1,u=0;function d(){return u===2}let f=!1;function g(...I){f||(f=!0,e.apply(null,I))}function v(I){s=setTimeout(()=>{s=null,t(T,d())},I)}function _(){a&&clearTimeout(a)}function T(I,...j){if(f){_();return}if(I){_(),g.call(null,I,...j);return}if(d()||l){_(),g.call(null,I,...j);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,v(F)}let k=!1;function A(I){k||(k=!0,_(),!f&&(s!==null?(I||(u=2),clearTimeout(s),v(0)):I||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,A(!0)},n),A}function z6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){return t!==void 0}function W6(t){return typeof t=="object"&&!Array.isArray(t)}function I0(t){return typeof t=="string"||t instanceof String}function I1(t){return C0()&&t instanceof Blob}function C0(){return typeof Blob<"u"}function C1(t,e,n,r){if(r<e)throw Fg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function FI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Jo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jo||(Jo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,s,a,l,u,d,f,g,v,_=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,A)=>{this.resolve_=k,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new th(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Jo.NO_ERROR,d=a.getStatus();if(!u||q6(d,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Jo.ABORT;r(!1,new th(!1,null,g));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new th(f,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());$6(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=S0();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?OI():N6();l(d)}else{const d=k6();l(d)}};this.canceled_?n(!1,new th(!1,null,!0)):this.backoffId_=B6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&z6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function K6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function G6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Q6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Y6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function X6(t,e,n,r,s,a,l=!0,u=!1){const d=FI(t.urlParams),f=t.url+d,g=Object.assign({},t.headers);return Q6(g,e),K6(g,n),G6(g,a),Y6(g,r),new H6(f,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Z6(...t){const e=J6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(C0())return new Blob(t);throw new Et(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){if(typeof atob>"u")throw O6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fm{constructor(e,n){this.data=e,this.contentType=n||null}}function nV(t,e){switch(t){case bs.RAW:return new Fm(UI(e));case bs.BASE64:case bs.BASE64URL:return new Fm(BI(t,e));case bs.DATA_URL:return new Fm(sV(e),iV(e))}throw S0()}function UI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rV(t){let e;try{e=decodeURIComponent(t)}catch{throw Uc(bs.DATA_URL,"Malformed data URL.")}return UI(e)}function BI(t,e){switch(t){case bs.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Uc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case bs.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Uc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=tV(e)}catch(s){throw s.message.includes("polyfill")?s:Uc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class zI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Uc(bs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=oV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function sV(t){const e=new zI(t);return e.base64?BI(bs.BASE64,e.rest):rV(e.rest)}function iV(t){return new zI(t).contentType}function oV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){let r=0,s="";I1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(I1(this.data_)){const r=this.data_,s=eV(r,e,n);return s===null?null:new Wi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wi(r,!0)}}static getBlob(...e){if(C0()){const n=e.map(r=>r instanceof Wi?r.data_:r);return new Wi(Z6.apply(null,n))}else{const n=e.map(l=>I0(l)?nV(bs.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[a++]=l[u]}),new Wi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t){let e;try{e=JSON.parse(t)}catch{return null}return W6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function lV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e){return e}class Dn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||cV}}let nh=null;function uV(t){return!I0(t)||t.length<2?t:WI(t)}function qI(){if(nh)return nh;const t=[];t.push(new Dn("bucket")),t.push(new Dn("generation")),t.push(new Dn("metageneration")),t.push(new Dn("name","fullPath",!0));function e(a,l){return uV(l)}const n=new Dn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new Dn("size");return s.xform=r,t.push(s),t.push(new Dn("timeCreated")),t.push(new Dn("updated")),t.push(new Dn("md5Hash",null,!0)),t.push(new Dn("cacheControl",null,!0)),t.push(new Dn("contentDisposition",null,!0)),t.push(new Dn("contentEncoding",null,!0)),t.push(new Dn("contentLanguage",null,!0)),t.push(new Dn("contentType",null,!0)),t.push(new Dn("metadata","customMetadata",!0)),nh=t,nh}function dV(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new lr(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function hV(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return dV(r,t),r}function HI(t,e,n){const r=$I(e);return r===null?null:hV(t,r,n)}function fV(t,e,n,r){const s=$I(e);if(s===null||!I0(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(f=>{const g=t.bucket,v=t.fullPath,_="/b/"+l(g)+"/o/"+l(v),T=R0(_,n,r),k=FI({alt:"media",token:f});return T+k})[0]}function pV(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class KI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){if(!t)throw S0()}function mV(t,e){function n(r,s){const a=HI(t,s,e);return GI(a!==null),a}return n}function gV(t,e){function n(r,s){const a=HI(t,s,e);return GI(a!==null),fV(a,s,t.host,t._protocol)}return n}function QI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=A6():s=R6():n.getStatus()===402?s=C6(t.bucket):n.getStatus()===403?s=P6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function yV(t){const e=QI(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=I6(t.path)),a.serverResponse=s.serverResponse,a}return n}function vV(t,e,n){const r=e.fullServerUrl(),s=R0(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new KI(s,a,gV(t,n),l);return u.errorHandler=yV(e),u}function wV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=wV(null,e)),r}function _V(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let F="";for(let W=0;W<2;W++)F=F+Math.random().toString().slice(2);return F}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const f=xV(e,r,s),g=pV(f,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,_=`\r
--`+d+"--",T=Wi.getBlob(v,r,_);if(T===null)throw M6();const k={name:f.fullPath},A=R0(a,t.host,t._protocol),I="POST",j=t.maxUploadRetryTime,N=new KI(A,I,mV(t,n),j);return N.urlParams=k,N.headers=l,N.body=T.uploadData(),N.errorHandler=QI(e),N}class EV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw bc("cannot .send() more than once");if(io(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bV extends EV{initXhr(){this.xhr_.responseType="text"}}function YI(){return new bV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this._service=e,n instanceof lr?this._location=n:this._location=lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new aa(e,n)}get root(){const e=new lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WI(this._location.path)}get storage(){return this._service}get parent(){const e=aV(this._location.path);if(e===null)return null;const n=new lr(this._location.bucket,e);return new aa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw F6(e)}}function TV(t,e,n){t._throwIfRoot("uploadBytes");const r=_V(t.storage,t._location,qI(),new Wi(e,!0),n);return t.storage.makeRequestWithTokens(r,YI).then(s=>({metadata:s,ref:t}))}function SV(t){t._throwIfRoot("getDownloadURL");const e=vV(t.storage,t._location,qI());return t.storage.makeRequestWithTokens(e,YI).then(n=>{if(n===null)throw V6();return n})}function IV(t,e){const n=lV(t._location.path,e),r=new lr(t._location.bucket,n);return new aa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){return/^[A-Za-z]+:\/\//.test(t)}function RV(t,e){return new aa(t,e)}function XI(t,e){if(t instanceof A0){const n=t;if(n._bucket==null)throw L6();const r=new aa(n,n._bucket);return e!=null?XI(r,e):r}else return e!==void 0?IV(t,e):t}function AV(t,e){if(e&&CV(e)){if(t instanceof A0)return RV(t,e);throw Fg("To use ref(service, url), the first argument must be a Storage instance.")}else return XI(t,e)}function R1(t,e){const n=e?.[VI];return n==null?null:lr.makeFromBucketSpec(n,t)}function PV(t,e,n,r={}){t.host=`${e}:${n}`;const s=io(e);s&&(_y(`https://${t.host}/b`),Ey("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:Bb(a,t.app.options.projectId))}class A0{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=MI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T6,this._maxUploadRetryTime=S6,this._requests=new Set,s!=null?this._bucket=lr.makeFromBucketSpec(s,this._host):this._bucket=R1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,e):this._bucket=R1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new aa(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new U6(OI());{const l=X6(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const A1="@firebase/storage",P1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="storage";function kV(t,e,n){return t=ct(t),TV(t,e,n)}function NV(t){return t=ct(t),SV(t)}function DV(t,e){return t=ct(t),AV(t,e)}function jV(t=uf(),e){t=ct(t);const r=oo(t,JI).getImmediate({identifier:e}),s=Ob("storage");return s&&LV(r,...s),r}function LV(t,e,n,r={}){PV(t,e,n,r)}function MV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new A0(n,r,s,e,da)}function VV(){Gr(new Cr(JI,MV,"PUBLIC").setMultipleInstances(!0)),Gn(A1,P1,""),Gn(A1,P1,"esm2020")}VV();const OV={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},Vf=Gb(OV);zD(Vf);const Ye=rj(Vf),$e=s6(Vf),FV=jV(Vf),ZI=new Zs,P0=b.createContext({});function k0(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const N0=typeof window<"u",eC=N0?b.useLayoutEffect:b.useEffect,Of=b.createContext(null);function D0(t,e){t.indexOf(e)===-1&&t.push(e)}function j0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ci=(t,e,n)=>n>e?e:n<t?t:n;let L0=()=>{};const ui={},tC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function nC(t){return typeof t=="object"&&t!==null}const rC=t=>/^0[^.\s]+$/u.test(t);function M0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sr=t=>t,UV=(t,e)=>n=>e(t(n)),ju=(...t)=>t.reduce(UV),lu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class V0{constructor(){this.subscriptions=[]}add(e){return D0(this.subscriptions,e),()=>j0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ps=t=>t*1e3,br=t=>t/1e3;function sC(t,e){return e?t*(1e3/e):0}const iC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BV=1e-7,zV=12;function $V(t,e,n,r,s){let a,l,u=0;do l=e+(n-e)/2,a=iC(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>BV&&++u<zV);return l}function Lu(t,e,n,r){if(t===e&&n===r)return Sr;const s=a=>$V(a,0,1,t,n);return a=>a===0||a===1?a:iC(s(a),e,r)}const oC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aC=t=>e=>1-t(1-e),lC=Lu(.33,1.53,.69,.99),O0=aC(lC),cC=oC(O0),uC=t=>(t*=2)<1?.5*O0(t):.5*(2-Math.pow(2,-10*(t-1))),F0=t=>1-Math.sin(Math.acos(t)),dC=aC(F0),hC=oC(F0),WV=Lu(.42,0,1,1),qV=Lu(0,0,.58,1),fC=Lu(.42,0,.58,1),HV=t=>Array.isArray(t)&&typeof t[0]!="number",pC=t=>Array.isArray(t)&&typeof t[0]=="number",KV={linear:Sr,easeIn:WV,easeInOut:fC,easeOut:qV,circIn:F0,circInOut:hC,circOut:dC,backIn:O0,backInOut:cC,backOut:lC,anticipate:uC},GV=t=>typeof t=="string",k1=t=>{if(pC(t)){L0(t.length===4);const[e,n,r,s]=t;return Lu(e,n,r,s)}else if(GV(t))return KV[t];return t},rh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function QV(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(f.schedule(g),t()),g(u)}const f={schedule:(g,v=!1,_=!1)=>{const k=_&&s?n:r;return v&&l.add(g),k.has(g)||k.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,a&&(a=!1,f.process(g))}};return f}const YV=40;function mC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=rh.reduce((F,W)=>(F[W]=QV(a),F),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:g,update:v,preRender:_,render:T,postRender:k}=l,A=()=>{const F=ui.useManualTiming?s.timestamp:performance.now();n=!1,ui.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,YV),1)),s.timestamp=F,s.isProcessing=!0,u.process(s),d.process(s),f.process(s),g.process(s),v.process(s),_.process(s),T.process(s),k.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(A))},I=()=>{n=!0,r=!0,s.isProcessing||t(A)};return{schedule:rh.reduce((F,W)=>{const G=l[W];return F[W]=(q,R=!1,C=!1)=>(n||I(),G.schedule(q,R,C)),F},{}),cancel:F=>{for(let W=0;W<rh.length;W++)l[rh[W]].cancel(F)},state:s,steps:l}}const{schedule:ht,cancel:ro,state:sn,steps:Um}=mC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sr,!0);let bh;function XV(){bh=void 0}const Kn={now:()=>(bh===void 0&&Kn.set(sn.isProcessing||ui.useManualTiming?sn.timestamp:performance.now()),bh),set:t=>{bh=t,queueMicrotask(XV)}},gC=t=>e=>typeof e=="string"&&e.startsWith(t),U0=gC("--"),JV=gC("var(--"),B0=t=>JV(t)?ZV.test(t.split("/*")[0].trim()):!1,ZV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cu={...Rl,transform:t=>ci(0,1,t)},sh={...Rl,default:1},Bc=t=>Math.round(t*1e5)/1e5,z0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eO(t){return t==null}const tO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$0=(t,e)=>n=>!!(typeof n=="string"&&tO.test(n)&&n.startsWith(t)||e&&!eO(n)&&Object.prototype.hasOwnProperty.call(n,e)),yC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,u]=r.match(z0);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},nO=t=>ci(0,255,t),Bm={...Rl,transform:t=>Math.round(nO(t))},Qo={test:$0("rgb","red"),parse:yC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bm.transform(t)+", "+Bm.transform(e)+", "+Bm.transform(n)+", "+Bc(cu.transform(r))+")"};function rO(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ug={test:$0("#"),parse:rO,transform:Qo.transform},Mu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oi=Mu("deg"),ks=Mu("%"),Ce=Mu("px"),sO=Mu("vh"),iO=Mu("vw"),N1={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},Ja={test:$0("hsl","hue"),parse:yC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ks.transform(Bc(e))+", "+ks.transform(Bc(n))+", "+Bc(cu.transform(r))+")"},Nt={test:t=>Qo.test(t)||Ug.test(t)||Ja.test(t),parse:t=>Qo.test(t)?Qo.parse(t):Ja.test(t)?Ja.parse(t):Ug.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qo.transform(t):Ja.transform(t),getAnimatableNone:t=>{const e=Nt.parse(t);return e.alpha=0,Nt.transform(e)}},oO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aO(t){return isNaN(t)&&typeof t=="string"&&(t.match(z0)?.length||0)+(t.match(oO)?.length||0)>0}const vC="number",wC="color",lO="var",cO="var(",D1="${}",uO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(uO,d=>(Nt.test(d)?(r.color.push(a),s.push(wC),n.push(Nt.parse(d))):d.startsWith(cO)?(r.var.push(a),s.push(lO),n.push(d)):(r.number.push(a),s.push(vC),n.push(parseFloat(d))),++a,D1)).split(D1);return{values:n,split:u,indexes:r,types:s}}function xC(t){return uu(t).values}function _C(t){const{split:e,types:n}=uu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===vC?a+=Bc(s[l]):u===wC?a+=Nt.transform(s[l]):a+=s[l]}return a}}const dO=t=>typeof t=="number"?0:Nt.test(t)?Nt.getAnimatableNone(t):t;function hO(t){const e=xC(t);return _C(t)(e.map(dO))}const so={test:aO,parse:xC,createTransformer:_C,getAnimatableNone:hO};function zm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;s=zm(d,u,t+1/3),a=zm(d,u,t),l=zm(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Yh(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,$m=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},pO=[Ug,Qo,Ja],mO=t=>pO.find(e=>e.test(t));function j1(t){const e=mO(t);if(!e)return!1;let n=e.parse(t);return e===Ja&&(n=fO(n)),n}const L1=(t,e)=>{const n=j1(t),r=j1(e);if(!n||!r)return Yh(t,e);const s={...n};return a=>(s.red=$m(n.red,r.red,a),s.green=$m(n.green,r.green,a),s.blue=$m(n.blue,r.blue,a),s.alpha=gt(n.alpha,r.alpha,a),Qo.transform(s))},Bg=new Set(["none","hidden"]);function gO(t,e){return Bg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yO(t,e){return n=>gt(t,e,n)}function W0(t){return typeof t=="number"?yO:typeof t=="string"?B0(t)?Yh:Nt.test(t)?L1:xO:Array.isArray(t)?EC:typeof t=="object"?Nt.test(t)?L1:vO:Yh}function EC(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>W0(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function vO(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=W0(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function wO(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],u=t.values[l]??0;n[s]=u,r[a]++}return n}const xO=(t,e)=>{const n=so.createTransformer(e),r=uu(t),s=uu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Bg.has(t)&&!s.values.length||Bg.has(e)&&!r.values.length?gO(t,e):ju(EC(wO(r,s),s.values),n):Yh(t,e)};function bC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):W0(t)(t,e)}const _O=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>ro(e),now:()=>sn.isProcessing?sn.timestamp:Kn.now()}},TC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Xh=2e4;function q0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xh;)e+=n,r=t.next(e);return e>=Xh?1/0:e}function EO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(q0(r),Xh);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:br(s)}}const bO=5;function SC(t,e,n){const r=Math.max(e-bO,0);return sC(n-t(r),e-r)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wm=.001;function TO({duration:t=xt.duration,bounce:e=xt.bounce,velocity:n=xt.velocity,mass:r=xt.mass}){let s,a,l=1-e;l=ci(xt.minDamping,xt.maxDamping,l),t=ci(xt.minDuration,xt.maxDuration,br(t)),l<1?(s=f=>{const g=f*l,v=g*t,_=g-n,T=zg(f,l),k=Math.exp(-v);return Wm-_/T*k},a=f=>{const v=f*l*t,_=v*n+n,T=Math.pow(l,2)*Math.pow(f,2)*t,k=Math.exp(-v),A=zg(Math.pow(f,2),l);return(-s(f)+Wm>0?-1:1)*((_-T)*k)/A}):(s=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-Wm+g*v},a=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const u=5/t,d=IO(s,a,u);if(t=Ps(t),isNaN(d))return{stiffness:xt.stiffness,damping:xt.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const SO=12;function IO(t,e,n){let r=n;for(let s=1;s<SO;s++)r=r-t(r)/e(r);return r}function zg(t,e){return t*Math.sqrt(1-e*e)}const CO=["duration","bounce"],RO=["stiffness","damping","mass"];function M1(t,e){return e.some(n=>t[n]!==void 0)}function AO(t){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...t};if(!M1(t,RO)&&M1(t,CO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*ci(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:xt.mass,stiffness:s,damping:a}}else{const n=TO(t);e={...e,...n,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function Jh(t=xt.visualDuration,e=xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:d,damping:f,mass:g,duration:v,velocity:_,isResolvedFromDuration:T}=AO({...n,velocity:-br(n.velocity||0)}),k=_||0,A=f/(2*Math.sqrt(d*g)),I=l-a,j=br(Math.sqrt(d/g)),N=Math.abs(I)<5;r||(r=N?xt.restSpeed.granular:xt.restSpeed.default),s||(s=N?xt.restDelta.granular:xt.restDelta.default);let F;if(A<1){const G=zg(j,A);F=q=>{const R=Math.exp(-A*j*q);return l-R*((k+A*j*I)/G*Math.sin(G*q)+I*Math.cos(G*q))}}else if(A===1)F=G=>l-Math.exp(-j*G)*(I+(k+j*I)*G);else{const G=j*Math.sqrt(A*A-1);F=q=>{const R=Math.exp(-A*j*q),C=Math.min(G*q,300);return l-R*((k+A*j*I)*Math.sinh(C)+G*I*Math.cosh(C))/G}}const W={calculatedDuration:T&&v||null,next:G=>{const q=F(G);if(T)u.done=G>=v;else{let R=G===0?k:0;A<1&&(R=G===0?Ps(k):SC(F,G,q));const C=Math.abs(R)<=r,D=Math.abs(l-q)<=s;u.done=C&&D}return u.value=u.done?l:q,u},toString:()=>{const G=Math.min(q0(W),Xh),q=TC(R=>W.next(G*R).value,G,30);return G+"ms "+q},toTransition:()=>{}};return W}Jh.applyToOptions=t=>{const e=EO(t,100,Jh);return t.ease=e.ease,t.duration=Ps(e.duration),t.type="keyframes",t};function $g({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},T=C=>u!==void 0&&C<u||d!==void 0&&C>d,k=C=>u===void 0?d:d===void 0||Math.abs(u-C)<Math.abs(d-C)?u:d;let A=n*e;const I=v+A,j=l===void 0?I:l(I);j!==I&&(A=j-v);const N=C=>-A*Math.exp(-C/r),F=C=>j+N(C),W=C=>{const D=N(C),L=F(C);_.done=Math.abs(D)<=f,_.value=_.done?j:L};let G,q;const R=C=>{T(_.value)&&(G=C,q=Jh({keyframes:[_.value,k(_.value)],velocity:SC(F,C,_.value),damping:s,stiffness:a,restDelta:f,restSpeed:g}))};return R(0),{calculatedDuration:null,next:C=>{let D=!1;return!q&&G===void 0&&(D=!0,W(C),R(C)),G!==void 0&&C>=G?q.next(C-G):(!D&&W(C),_)}}}function PO(t,e,n){const r=[],s=n||ui.mix||bC,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Sr:e;u=ju(d,u)}r.push(u)}return r}function kO(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(L0(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=PO(e,r,s),d=u.length,f=g=>{if(l&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=lu(t[v],t[v+1],g);return u[v](_)};return n?g=>f(ci(t[0],t[a-1],g)):f}function NO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=lu(0,e,r);t.push(gt(n,1,s))}}function DO(t){const e=[0];return NO(e,t.length-1),e}function jO(t,e){return t.map(n=>n*e)}function LO(t,e){return t.map(()=>e||fC).splice(0,t.length-1)}function zc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=HV(r)?r.map(k1):k1(r),a={done:!1,value:e[0]},l=jO(n&&n.length===e.length?n:DO(e),t),u=kO(l,e,{ease:Array.isArray(s)?s:LO(e,s)});return{calculatedDuration:t,next:d=>(a.value=u(d),a.done=d>=t,a)}}const MO=t=>t!==null;function H0(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(MO),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const VO={decay:$g,inertia:$g,tween:zc,keyframes:zc,spring:Jh};function IC(t){typeof t.type=="string"&&(t.type=VO[t.type])}class K0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const OO=t=>t/100;class G0 extends K0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Kn.now()&&this.tick(Kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;IC(e);const{type:n=zc,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const d=n||zc;d!==zc&&typeof u[0]!="number"&&(this.mixKeyframes=ju(OO,bC(u[0],u[1])),u=[0,100]);const f=d({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=q0(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:T,type:k,onUpdate:A,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-f*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?j<0:j>s;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,W=r;if(v){const C=Math.min(this.currentTime,s)/u;let D=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&D--,D=Math.min(D,v+1),!!(D%2)&&(_==="reverse"?(L=1-L,T&&(L-=T/u)):_==="mirror"&&(W=l)),F=ci(0,1,L)*u}const G=N?{done:!1,value:g[0]}:W.next(F);a&&(G.value=a(G.value));let{done:q}=G;!N&&d!==null&&(q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return R&&k!==$g&&(G.value=H0(g,this.options,I,this.speed)),A&&A(G.value),R&&this.finish(),G}then(e,n){return this.finished.then(e,n)}get duration(){return br(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+br(e)}get time(){return br(this.currentTime)}set time(e){e=Ps(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Kn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=br(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=_O,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function FO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yo=t=>t*180/Math.PI,Wg=t=>{const e=Yo(Math.atan2(t[1],t[0]));return qg(e)},UO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Wg,rotateZ:Wg,skewX:t=>Yo(Math.atan(t[1])),skewY:t=>Yo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qg=t=>(t=t%360,t<0&&(t+=360),t),V1=Wg,O1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),F1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),BO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:O1,scaleY:F1,scale:t=>(O1(t)+F1(t))/2,rotateX:t=>qg(Yo(Math.atan2(t[6],t[5]))),rotateY:t=>qg(Yo(Math.atan2(-t[2],t[0]))),rotateZ:V1,rotate:V1,skewX:t=>Yo(Math.atan(t[4])),skewY:t=>Yo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hg(t){return t.includes("scale")?1:0}function Kg(t,e){if(!t||t==="none")return Hg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=BO,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=UO,s=u}if(!s)return Hg(e);const a=r[e],l=s[1].split(",").map($O);return typeof a=="function"?a(l):l[a]}const zO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Kg(n,e)};function $O(t){return parseFloat(t.trim())}const Al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pl=new Set(Al),U1=t=>t===Rl||t===Ce,WO=new Set(["x","y","z"]),qO=Al.filter(t=>!WO.has(t));function HO(t){const e=[];return qO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Zo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kg(e,"x"),y:(t,{transform:e})=>Kg(e,"y")};Zo.translateX=Zo.x;Zo.translateY=Zo.y;const ea=new Set;let Gg=!1,Qg=!1,Yg=!1;function CC(){if(Qg){const t=Array.from(ea).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=HO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qg=!1,Gg=!1,ea.forEach(t=>t.complete(Yg)),ea.clear()}function RC(){ea.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qg=!0)})}function KO(){Yg=!0,RC(),CC(),Yg=!1}class Q0{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ea.add(this),Gg||(Gg=!0,ht.read(RC),ht.resolveKeyframes(CC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}FO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ea.delete(this)}cancel(){this.state==="scheduled"&&(ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GO=t=>t.startsWith("--");function QO(t,e,n){GO(e)?t.style.setProperty(e,n):t.style[e]=n}const YO=M0(()=>window.ScrollTimeline!==void 0),XO={};function JO(t,e){const n=M0(t);return()=>XO[e]??n()}const AC=JO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,B1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dc([0,.65,.55,1]),circOut:Dc([.55,0,1,.45]),backIn:Dc([.31,.01,.66,-.59]),backOut:Dc([.33,1.53,.69,.99])};function PC(t,e){if(t)return typeof t=="function"?AC()?TC(t,e):"ease-out":pC(t)?Dc(t):Array.isArray(t)?t.map(n=>PC(n,e)||B1.easeOut):B1[t]}function ZO(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const g={[e]:n};d&&(g.offset=d);const v=PC(u,s);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return f&&(_.pseudoElement=f),t.animate(g,_)}function kC(t){return typeof t=="function"&&"applyToOptions"in t}function e3({type:t,...e}){return kC(t)&&AC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class t3 extends K0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,L0(typeof e.type!="string");const f=e3(e);this.animation=ZO(n,r,s,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=H0(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):QO(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return br(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+br(e)}get time(){return br(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ps(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&YO()?(this.animation.timeline=e,Sr):n(this)}}const NC={anticipate:uC,backInOut:cC,circInOut:hC};function n3(t){return t in NC}function r3(t){typeof t.ease=="string"&&n3(t.ease)&&(t.ease=NC[t.ease])}const z1=10;class s3 extends t3{constructor(e){r3(e),IC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new G0({...l,autoplay:!1}),d=Ps(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-z1).value,u.sample(d).value,z1),u.stop()}}const $1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(so.test(t)||t==="0")&&!t.startsWith("url("));function i3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function o3(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=$1(s,e),u=$1(a,e);return!l||!u?!1:i3(t)||(n==="spring"||kC(n))&&r}function Xg(t){t.duration=0,t.type="keyframes"}const a3=new Set(["opacity","clipPath","filter","transform"]),l3=M0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c3(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return l3()&&n&&a3.has(n)&&(n!=="transform"||!f)&&!d&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const u3=40;class d3 extends K0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Kn.now();const _={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:f,element:g,...v},T=g?.KeyframeResolver||Q0;this.keyframeResolver=new T(u,(k,A,I)=>this.onKeyframesResolved(k,A,_,!I),d,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:g}=r;this.resolvedAt=Kn.now(),o3(e,a,l,u)||((ui.instantAnimations||!d)&&g?.(H0(e,r,n)),e[0]=e[e.length-1],Xg(r),r.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>u3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!f&&c3(_)?new s3({..._,element:_.motionValue.owner.current}):new G0(_);T.finished.then(()=>this.notifyFinished()).catch(Sr),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),KO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const h3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f3(t){const e=h3.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function DC(t,e,n=1){const[r,s]=f3(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return tC(l)?parseFloat(l):l}return B0(s)?DC(s,e,n+1):s}function Y0(t,e){return t?.[e]??t?.default??t}const jC=new Set(["width","height","top","left","right","bottom",...Al]),p3={test:t=>t==="auto",parse:t=>t},LC=t=>e=>e.test(t),MC=[Rl,Ce,ks,Oi,iO,sO,p3],W1=t=>MC.find(LC(t));function m3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rC(t):!0}const g3=new Set(["brightness","contrast","saturate","opacity"]);function y3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(z0)||[];if(!r)return t;const s=n.replace(r,"");let a=g3.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const v3=/\b([a-z-]*)\(.*?\)/gu,Jg={...so,getAnimatableNone:t=>{const e=t.match(v3);return e?e.map(y3).join(" "):t}},q1={...Rl,transform:Math.round},w3={rotate:Oi,rotateX:Oi,rotateY:Oi,rotateZ:Oi,scale:sh,scaleX:sh,scaleY:sh,scaleZ:sh,skew:Oi,skewX:Oi,skewY:Oi,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:cu,originX:N1,originY:N1,originZ:Ce},X0={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...w3,zIndex:q1,fillOpacity:cu,strokeOpacity:cu,numOctaves:q1},x3={...X0,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Jg,WebkitFilter:Jg},VC=t=>x3[t];function OC(t,e){let n=VC(t);return n!==Jg&&(n=so),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _3=new Set(["auto","none","0"]);function E3(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!_3.has(a)&&uu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=OC(n,s)}class b3 extends Q0{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),B0(f))){const g=DC(f,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!jC.has(r)||e.length!==2)return;const[s,a]=e,l=W1(s),u=W1(a);if(l!==u)if(U1(l)&&U1(u))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else Zo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||m3(e[s]))&&r.push(s);r.length&&E3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Zo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function T3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const FC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function UC(t){return nC(t)&&"offsetHeight"in t}const H1=30,S3=t=>!isNaN(parseFloat(t));class I3{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Kn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=S3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new V0);const r=this.events[e].add(n);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>H1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,H1);return sC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(t,e){return new I3(t,e)}const{schedule:J0}=mC(queueMicrotask,!1),qr={x:!1,y:!1};function BC(){return qr.x||qr.y}function C3(t){return t==="x"||t==="y"?qr[t]?null:(qr[t]=!0,()=>{qr[t]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}function zC(t,e){const n=T3(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function K1(t){return!(t.pointerType==="touch"||BC())}function R3(t,e,n={}){const[r,s,a]=zC(t,n),l=u=>{if(!K1(u))return;const{target:d}=u,f=e(d,u);if(typeof f!="function"||!d)return;const g=v=>{K1(v)&&(f(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const $C=(t,e)=>e?t===e?!0:$C(t,e.parentElement):!1,Z0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,A3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P3(t){return A3.has(t.tagName)||t.tabIndex!==-1}const Th=new WeakSet;function G1(t){return e=>{e.key==="Enter"&&t(e)}}function qm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const k3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=G1(()=>{if(Th.has(n))return;qm(n,"down");const s=G1(()=>{qm(n,"up")}),a=()=>qm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Q1(t){return Z0(t)&&!BC()}function N3(t,e,n={}){const[r,s,a]=zC(t,n),l=u=>{const d=u.currentTarget;if(!Q1(u))return;Th.add(d);const f=e(d,u),g=(T,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Th.has(d)&&Th.delete(d),Q1(T)&&typeof f=="function"&&f(T,{success:k})},v=T=>{g(T,d===window||d===document||n.useGlobalTarget||$C(d,T.target))},_=T=>{g(T,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",_,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),UC(u)&&(u.addEventListener("focus",f=>k3(f,s)),!P3(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function WC(t){return nC(t)&&"ownerSVGElement"in t}function D3(t){return WC(t)&&t.tagName==="svg"}const Sn=t=>!!(t&&t.getVelocity),j3=[...MC,Nt,so],L3=t=>j3.find(LC(t)),ev=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Y1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function M3(...t){return e=>{let n=!1;const r=t.map(s=>{const a=Y1(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Y1(t[s],null)}}}}function V3(...t){return b.useCallback(M3(...t),t)}class O3 extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=UC(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function F3({children:t,isPresent:e,anchorX:n,root:r}){const s=b.useId(),a=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(ev),d=V3(a,t?.ref);return b.useInsertionEffect(()=>{const{width:f,height:g,top:v,left:_,right:T}=l.current;if(e||!a.current||!f||!g)return;const k=n==="left"?`left: ${_}`:`right: ${T}`;a.current.dataset.motionPopId=s;const A=document.createElement("style");u&&(A.nonce=u);const I=r??document.head;return I.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${k}px !important;
            top: ${v}px !important;
          }
        `),()=>{I.contains(A)&&I.removeChild(A)}},[e]),m.jsx(O3,{isPresent:e,childRef:a,sizeRef:l,children:b.cloneElement(t,{ref:d})})}const U3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,root:d})=>{const f=k0(B3),g=b.useId();let v=!0,_=b.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:T=>{f.set(T,!0);for(const k of f.values())if(!k)return;r&&r()},register:T=>(f.set(T,!1),()=>f.delete(T))}),[n,f,r]);return a&&v&&(_={..._}),b.useMemo(()=>{f.forEach((T,k)=>f.set(k,!1))},[n]),b.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=m.jsx(F3,{isPresent:n,anchorX:u,root:d,children:t})),m.jsx(Of.Provider,{value:_,children:t})};function B3(){return new Map}function qC(t=!0){const e=b.useContext(Of);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=b.useId();b.useEffect(()=>{if(t)return s(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const ih=t=>t.key||"";function X1(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const la=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[f,g]=qC(l),v=b.useMemo(()=>X1(t),[t]),_=l&&!f?[]:v.map(ih),T=b.useRef(!0),k=b.useRef(v),A=k0(()=>new Map),[I,j]=b.useState(v),[N,F]=b.useState(v);eC(()=>{T.current=!1,k.current=v;for(let q=0;q<N.length;q++){const R=ih(N[q]);_.includes(R)?A.delete(R):A.get(R)!==!0&&A.set(R,!1)}},[N,_.length,_.join("-")]);const W=[];if(v!==I){let q=[...v];for(let R=0;R<N.length;R++){const C=N[R],D=ih(C);_.includes(D)||(q.splice(R,0,C),W.push(C))}return a==="wait"&&W.length&&(q=W),F(X1(q)),j(v),null}const{forceRender:G}=b.useContext(P0);return m.jsx(m.Fragment,{children:N.map(q=>{const R=ih(q),C=l&&!f?!1:v===N||_.includes(R),D=()=>{if(A.has(R))A.set(R,!0);else return;let L=!0;A.forEach(O=>{O||(L=!1)}),L&&(G?.(),F(k.current),l&&g?.(),r&&r())};return m.jsx(U3,{isPresent:C,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:d,onExitComplete:C?void 0:D,anchorX:u,children:q},R)})})},HC=b.createContext({strict:!1}),J1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vl={};for(const t in J1)vl[t]={isEnabled:e=>J1[t].some(n=>!!e[n])};function z3(t){for(const e in t)vl[e]={...vl[e],...t[e]}}const $3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$3.has(t)}let KC=t=>!Zh(t);function W3(t){typeof t=="function"&&(KC=e=>e.startsWith("on")?!Zh(e):t(e))}try{W3(require("@emotion/is-prop-valid").default)}catch{}function q3(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(KC(s)||n===!0&&Zh(s)||!e&&!Zh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Ff=b.createContext({});function Uf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function du(t){return typeof t=="string"||Array.isArray(t)}const tv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nv=["initial",...tv];function Bf(t){return Uf(t.animate)||nv.some(e=>du(t[e]))}function GC(t){return!!(Bf(t)||t.variants)}function H3(t,e){if(Bf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||du(n)?n:void 0,animate:du(r)?r:void 0}}return t.inherit!==!1?e:{}}function K3(t){const{initial:e,animate:n}=H3(t,b.useContext(Ff));return b.useMemo(()=>({initial:e,animate:n}),[Z1(e),Z1(n)])}function Z1(t){return Array.isArray(t)?t.join(" "):t}const hu={};function G3(t){for(const e in t)hu[e]=t[e],U0(e)&&(hu[e].isCSSVariable=!0)}function QC(t,{layout:e,layoutId:n}){return Pl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hu[t]||t==="opacity")}const Q3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y3=Al.length;function X3(t,e,n){let r="",s=!0;for(let a=0;a<Y3;a++){const l=Al[a],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const f=FC(u,X0[l]);if(!d){s=!1;const g=Q3[l]||l;r+=`${g}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function rv(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const d in e){const f=e[d];if(Pl.has(d)){l=!0;continue}else if(U0(d)){s[d]=f;continue}else{const g=FC(f,X0[d]);d.startsWith("origin")?(u=!0,a[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=X3(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${f} ${g}`}}const sv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YC(t,e,n){for(const r in e)!Sn(e[r])&&!QC(r,n)&&(t[r]=e[r])}function J3({transformTemplate:t},e){return b.useMemo(()=>{const n=sv();return rv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Z3(t,e){const n=t.style||{},r={};return YC(r,n,t),Object.assign(r,J3(t,e)),r}function eF(t,e){const n={},r=Z3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const tF={offset:"stroke-dashoffset",array:"stroke-dasharray"},nF={offset:"strokeDashoffset",array:"strokeDasharray"};function rF(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?tF:nF;t[a.offset]=Ce.transform(-r);const l=Ce.transform(e),u=Ce.transform(n);t[a.array]=`${l} ${u}`}function XC(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,f,g){if(rv(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&rF(v,s,a,l,!1)}const JC=()=>({...sv(),attrs:{}}),ZC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sF(t,e,n,r){const s=b.useMemo(()=>{const a=JC();return XC(a,e,ZC(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};YC(a,t.style,t),s.style={...a,...s.style}}return s}const iF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iv(t){return typeof t!="string"||t.includes("-")?!1:!!(iF.indexOf(t)>-1||/[A-Z]/u.test(t))}function oF(t,e,n,{latestValues:r},s,a=!1){const u=(iv(t)?sF:eF)(e,r,s,t),d=q3(e,typeof t=="string",a),f=t!==b.Fragment?{...d,...u,ref:n}:{},{children:g}=e,v=b.useMemo(()=>Sn(g)?g.get():g,[g]);return b.createElement(t,{...f,children:v})}function eE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ov(t,e,n,r){if(typeof e=="function"){const[s,a]=eE(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=eE(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function Sh(t){return Sn(t)?t.get():t}function aF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:lF(n,r,s,t),renderState:e()}}function lF(t,e,n,r){const s={},a=r(t,{});for(const _ in a)s[_]=Sh(a[_]);let{initial:l,animate:u}=t;const d=Bf(t),f=GC(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!Uf(v)){const _=Array.isArray(v)?v:[v];for(let T=0;T<_.length;T++){const k=ov(t,_[T]);if(k){const{transitionEnd:A,transition:I,...j}=k;for(const N in j){let F=j[N];if(Array.isArray(F)){const W=g?F.length-1:0;F=F[W]}F!==null&&(s[N]=F)}for(const N in A)s[N]=A[N]}}}return s}const e2=t=>(e,n)=>{const r=b.useContext(Ff),s=b.useContext(Of),a=()=>aF(t,e,r,s);return n?a():k0(a)};function av(t,e,n){const{style:r}=t,s={};for(const a in r)(Sn(r[a])||e.style&&Sn(e.style[a])||QC(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const cF=e2({scrapeMotionValuesFromProps:av,createRenderState:sv});function t2(t,e,n){const r=av(t,e,n);for(const s in t)if(Sn(t[s])||Sn(e[s])){const a=Al.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const uF=e2({scrapeMotionValuesFromProps:t2,createRenderState:JC}),dF=Symbol.for("motionComponentSymbol");function Za(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hF(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Za(n)&&(n.current=r))},[e])}const lv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fF="framerAppearId",n2="data-"+lv(fF),r2=b.createContext({});function pF(t,e,n,r,s){const{visualElement:a}=b.useContext(Ff),l=b.useContext(HC),u=b.useContext(Of),d=b.useContext(ev).reducedMotion,f=b.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,v=b.useContext(r2);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&mF(f.current,n,s,v);const _=b.useRef(!1);b.useInsertionEffect(()=>{g&&_.current&&g.update(n,u)});const T=n[n2],k=b.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return eC(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),k.current=!1),g.enteringChildren=void 0)}),g}function mF(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:s2(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&Za(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:f})}function s2(t){if(t)return t.options.allowProjection!==!1?t.projection:s2(t.parent)}function Hm(t,{forwardMotionProps:e=!1}={},n,r){n&&z3(n);const s=iv(t)?uF:cF;function a(u,d){let f;const g={...b.useContext(ev),...u,layoutId:gF(u)},{isStatic:v}=g,_=K3(u),T=s(u,v);if(!v&&N0){yF();const k=vF(g);f=k.MeasureLayout,_.visualElement=pF(t,T,g,r,k.ProjectionNode)}return m.jsxs(Ff.Provider,{value:_,children:[f&&_.visualElement?m.jsx(f,{visualElement:_.visualElement,...g}):null,oF(t,u,hF(T,_.visualElement,d),T,v,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[dF]=t,l}function gF({layoutId:t}){const e=b.useContext(P0).id;return e&&t!==void 0?e+"-"+t:t}function yF(t,e){b.useContext(HC).strict}function vF(t){const{drag:e,layout:n}=vl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function wF(t,e){if(typeof Proxy>"u")return Hm;const n=new Map,r=(a,l)=>Hm(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Hm(l,void 0,t,e)),n.get(l))})}function i2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _F(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Km(t){return t===void 0||t===1}function Zg({scale:t,scaleX:e,scaleY:n}){return!Km(t)||!Km(e)||!Km(n)}function qo(t){return Zg(t)||o2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function o2(t){return tE(t.x)||tE(t.y)}function tE(t){return t&&t!=="0%"}function ef(t,e,n){const r=t-n,s=e*r;return n+s}function nE(t,e,n,r,s){return s!==void 0&&(t=ef(t,s,r)),ef(t,n,r)+e}function ey(t,e=0,n=1,r,s){t.min=nE(t.min,e,n,r,s),t.max=nE(t.max,e,n,r,s)}function a2(t,{x:e,y:n}){ey(t.x,e.translate,e.scale,e.originPoint),ey(t.y,n.translate,n.scale,n.originPoint)}const rE=.999999999999,sE=1.0000000000001;function EF(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&tl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,a2(t,l)),r&&qo(a.latestValues)&&tl(t,a.latestValues))}e.x<sE&&e.x>rE&&(e.x=1),e.y<sE&&e.y>rE&&(e.y=1)}function el(t,e){t.min=t.min+e,t.max=t.max+e}function iE(t,e,n,r,s=.5){const a=gt(t.min,t.max,s);ey(t,e,n,a,r)}function tl(t,e){iE(t.x,e.x,e.scaleX,e.scale,e.originX),iE(t.y,e.y,e.scaleY,e.scale,e.originY)}function l2(t,e){return i2(_F(t.getBoundingClientRect(),e))}function bF(t,e,n){const r=l2(t,n),{scroll:s}=e;return s&&(el(r.x,s.offset.x),el(r.y,s.offset.y)),r}const oE=()=>({translate:0,scale:1,origin:0,originPoint:0}),nl=()=>({x:oE(),y:oE()}),aE=()=>({min:0,max:0}),It=()=>({x:aE(),y:aE()}),ty={current:null},c2={current:!1};function TF(){if(c2.current=!0,!!N0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ty.current=t.matches;t.addEventListener("change",e),e()}else ty.current=!1}const SF=new WeakMap;function IF(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Sn(s))t.addValue(r,s);else if(Sn(a))t.addValue(r,yl(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,yl(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const lE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Q0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Kn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,ht.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Bf(n),this.isVariantNode=GC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const T=v[_];d[_]!==void 0&&Sn(T)&&T.set(d[_])}}mount(e){this.current=e,SF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),c2.current||TF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ty.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ro(this.notifyUpdate),ro(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vl){const n=vl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lE.length;r++){const s=lE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=IF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=yl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(tC(r)||rC(r))?r=parseFloat(r):!L3(r)&&so.test(n)&&(r=OC(e,n)),this.setBaseTarget(e,Sn(r)?r.get():r)),Sn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=ov(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Sn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new V0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){J0.render(this.render)}}class u2 extends CF{constructor(){super(...arguments),this.KeyframeResolver=b3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function d2(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function RF(t){return window.getComputedStyle(t)}class AF extends u2{constructor(){super(...arguments),this.type="html",this.renderInstance=d2}readValueFromInstance(e,n){if(Pl.has(n))return this.projection?.isProjecting?Hg(n):zO(e,n);{const r=RF(e),s=(U0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return l2(e,n)}build(e,n,r){rv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return av(e,n,r)}}const h2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PF(t,e,n,r){d2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(h2.has(s)?s:lv(s),e.attrs[s])}class kF extends u2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pl.has(n)){const r=VC(n);return r&&r.default||0}return n=h2.has(n)?n:lv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return t2(e,n,r)}build(e,n,r){XC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){PF(e,n,r,s)}mount(e){this.isSVGTag=ZC(e.tagName),super.mount(e)}}const NF=(t,e)=>iv(t)?new kF(e):new AF(e,{allowProjection:t!==b.Fragment});function cl(t,e,n){const r=t.getProps();return ov(r,e,n!==void 0?n:r.custom,t)}const ny=t=>Array.isArray(t);function DF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yl(n))}function jF(t){return ny(t)?t[t.length-1]||0:t}function LF(t,e){const n=cl(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const u=jF(a[l]);DF(t,l,u)}}function MF(t){return!!(Sn(t)&&t.add)}function ry(t,e){const n=t.getValue("willChange");if(MF(n))return n.add(e);if(!n&&ui.WillChange){const r=new ui.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function f2(t){return t.props[n2]}const VF=t=>t!==null;function OF(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(VF),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const FF={type:"spring",stiffness:500,damping:25,restSpeed:10},UF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),BF={type:"keyframes",duration:.8},zF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$F=(t,{keyframes:e})=>e.length>2?BF:Pl.has(t)?t.startsWith("scale")?UF(e[1]):FF:zF;function WF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const cv=(t,e,n,r={},s,a)=>l=>{const u=Y0(r,t)||{},d=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ps(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:_=>{e.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};WF(u)||Object.assign(g,$F(t,g)),g.duration&&(g.duration=Ps(g.duration)),g.repeatDelay&&(g.repeatDelay=Ps(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Xg(g),g.delay===0&&(v=!0)),(ui.instantAnimations||ui.skipAnimations)&&(v=!0,Xg(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const _=OF(g.keyframes,u);if(_!==void 0){ht.update(()=>{g.onUpdate(_),g.onComplete()});return}}return u.isSync?new G0(g):new d3(g)};function qF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function p2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const v=t.getValue(g,t.latestValues[g]??null),_=u[g];if(_===void 0||f&&qF(f,g))continue;const T={delay:n,...Y0(a||{},g)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===k&&!T.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const j=f2(t);if(j){const N=window.MotionHandoffAnimation(j,g,ht);N!==null&&(T.startTime=N,A=!0)}}ry(t,g),v.start(cv(g,v,_,t.shouldReduceMotion&&jC.has(g)?{type:!1}:T,t,A));const I=v.animation;I&&d.push(I)}return l&&Promise.all(d).then(()=>{ht.update(()=>{l&&LF(t,l)})}),d}function m2(t,e,n,r=0,s=1){const a=Array.from(t).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:u-a*r}function sy(t,e,n={}){const r=cl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(p2(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=s;return HF(t,e,d,f,g,v,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,f]=u==="beforeChildren"?[a,l]:[l,a];return d().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function HF(t,e,n=0,r=0,s=0,a=1,l){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(sy(d,e,{...l,delay:n+(typeof r=="function"?0:r)+m2(t.variantChildren,d,r,s,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function KF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>sy(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=sy(t,e,n);else{const s=typeof e=="function"?cl(t,e,n.custom):e;r=Promise.all(p2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function g2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const GF=nv.length;function y2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?y2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<GF;n++){const r=nv[n],s=t.props[r];(du(s)||s===!1)&&(e[r]=s)}return e}const QF=[...tv].reverse(),YF=tv.length;function XF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>KF(t,n,r)))}function JF(t){let e=XF(t),n=cE(),r=!0;const s=d=>(f,g)=>{const v=cl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:T,...k}=v;f={...f,...k,...T}}return f};function a(d){e=d(t)}function l(d){const{props:f}=t,g=y2(t.parent)||{},v=[],_=new Set;let T={},k=1/0;for(let I=0;I<YF;I++){const j=QF[I],N=n[j],F=f[j]!==void 0?f[j]:g[j],W=du(F),G=j===d?N.isActive:null;G===!1&&(k=I);let q=F===g[j]&&F!==f[j]&&W;if(q&&r&&t.manuallyAnimateOnMount&&(q=!1),N.protectedKeys={...T},!N.isActive&&G===null||!F&&!N.prevProp||Uf(F)||typeof F=="boolean")continue;const R=ZF(N.prevProp,F);let C=R||j===d&&N.isActive&&!q&&W||I>k&&W,D=!1;const L=Array.isArray(F)?F:[F];let O=L.reduce(s(j),{});G===!1&&(O={});const{prevResolvedValues:z={}}=N,M={...z,...O},Le=se=>{C=!0,_.has(se)&&(D=!0,_.delete(se)),N.needsAnimating[se]=!0;const ee=t.getValue(se);ee&&(ee.liveStyle=!1)};for(const se in M){const ee=O[se],ce=z[se];if(T.hasOwnProperty(se))continue;let ae=!1;ny(ee)&&ny(ce)?ae=!g2(ee,ce):ae=ee!==ce,ae?ee!=null?Le(se):_.add(se):ee!==void 0&&_.has(se)?Le(se):N.protectedKeys[se]=!0}N.prevProp=F,N.prevResolvedValues=O,N.isActive&&(T={...T,...O}),r&&t.blockInitialAnimation&&(C=!1);const et=q&&R;C&&(!et||D)&&v.push(...L.map(se=>{const ee={type:j};if(typeof se=="string"&&r&&!et&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,ae=cl(ce,se);if(ce.enteringChildren&&ae){const{delayChildren:$}=ae.transition||{};ee.delay=m2(ce.enteringChildren,t,$)}}return{animation:se,options:ee}}))}if(_.size){const I={};if(typeof f.initial!="boolean"){const j=cl(t,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(I.transition=j.transition)}_.forEach(j=>{const N=t.getBaseTarget(j),F=t.getValue(j);F&&(F.liveStyle=!0),I[j]=N??null}),v.push({animation:I})}let A=!!v.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function u(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,f)),n[d].isActive=f;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=cE()}}}function ZF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!g2(e,t):!1}function $o(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cE(){return{animate:$o(!0),whileInView:$o(),whileHover:$o(),whileTap:$o(),whileDrag:$o(),whileFocus:$o(),exit:$o()}}class mo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class e9 extends mo{constructor(e){super(e),e.animationState||(e.animationState=JF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let t9=0;class n9 extends mo{constructor(){super(...arguments),this.id=t9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const r9={animation:{Feature:e9},exit:{Feature:n9}};function fu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vu(t){return{point:{x:t.pageX,y:t.pageY}}}const s9=t=>e=>Z0(e)&&t(e,Vu(e));function $c(t,e,n,r){return fu(t,e,s9(n),r)}const v2=1e-4,i9=1-v2,o9=1+v2,w2=.01,a9=0-w2,l9=0+w2;function jn(t){return t.max-t.min}function c9(t,e,n){return Math.abs(t-e)<=n}function uE(t,e,n,r=.5){t.origin=r,t.originPoint=gt(e.min,e.max,t.origin),t.scale=jn(n)/jn(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=i9&&t.scale<=o9||isNaN(t.scale))&&(t.scale=1),(t.translate>=a9&&t.translate<=l9||isNaN(t.translate))&&(t.translate=0)}function Wc(t,e,n,r){uE(t.x,e.x,n.x,r?r.originX:void 0),uE(t.y,e.y,n.y,r?r.originY:void 0)}function dE(t,e,n){t.min=n.min+e.min,t.max=t.min+jn(e)}function u9(t,e,n){dE(t.x,e.x,n.x),dE(t.y,e.y,n.y)}function hE(t,e,n){t.min=e.min-n.min,t.max=t.min+jn(e)}function qc(t,e,n){hE(t.x,e.x,n.x),hE(t.y,e.y,n.y)}function xr(t){return[t("x"),t("y")]}const x2=({current:t})=>t?t.ownerDocument.defaultView:null,fE=(t,e)=>Math.abs(t-e);function d9(t,e){const n=fE(t.x,e.x),r=fE(t.y,e.y);return Math.sqrt(n**2+r**2)}class _2{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Qm(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,k=d9(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!k)return;const{point:A}=_,{timestamp:I}=sn;this.history.push({...A,timestamp:I});const{onStart:j,onMove:N}=this.handlers;T||(j&&j(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Gm(T,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:k,onSessionEnd:A,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Qm(_.type==="pointercancel"?this.lastMoveEventInfo:Gm(T,this.transformPagePoint),this.history);this.startEvent&&k&&k(_,j),A&&A(_,j)},!Z0(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const u=Vu(e),d=Gm(u,this.transformPagePoint),{point:f}=d,{timestamp:g}=sn;this.history=[{...f,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,Qm(d,this.history)),this.removeListeners=ju($c(this.contextWindow,"pointermove",this.handlePointerMove),$c(this.contextWindow,"pointerup",this.handlePointerUp),$c(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ro(this.updatePoint)}}function Gm(t,e){return e?{point:e(t.point)}:t}function pE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qm({point:t},e){return{point:t,delta:pE(t,E2(e)),offset:pE(t,h9(e)),velocity:f9(e,.1)}}function h9(t){return t[0]}function E2(t){return t[t.length-1]}function f9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=E2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const a=br(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function p9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?gt(n,t,r.max):Math.min(t,n)),t}function mE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function m9(t,{top:e,left:n,bottom:r,right:s}){return{x:mE(t.x,n,s),y:mE(t.y,e,r)}}function gE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function g9(t,e){return{x:gE(t.x,e.x),y:gE(t.y,e.y)}}function y9(t,e){let n=.5;const r=jn(t),s=jn(e);return s>r?n=lu(e.min,e.max-r,t.min):r>s&&(n=lu(t.min,t.max-s,e.min)),ci(0,1,n)}function v9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const iy=.35;function w9(t=iy){return t===!1?t=0:t===!0&&(t=iy),{x:yE(t,"left","right"),y:yE(t,"top","bottom")}}function yE(t,e,n){return{min:vE(t,e),max:vE(t,n)}}function vE(t,e){return typeof t=="number"?t:t[e]||0}const x9=new WeakMap;class _9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vu(v).point)},l=(v,_)=>{const{drag:T,dragPropagation:k,onDragStart:A}=this.getProps();if(T&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C3(T),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xr(j=>{let N=this.getAxisMotionValue(j).get()||0;if(ks.test(N)){const{projection:F}=this.visualElement;if(F&&F.layout){const W=F.layout.layoutBox[j];W&&(N=jn(W)*(parseFloat(N)/100))}}this.originPoint[j]=N}),A&&ht.postRender(()=>A(v,_)),ry(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:T,dragDirectionLock:k,onDirectionLock:A,onDrag:I}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:j}=_;if(k&&this.currentDirection===null){this.currentDirection=E9(j),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",_.point,j),this.updateAxis("y",_.point,j),this.visualElement.render(),I&&I(v,_)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>xr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new _2(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:x2(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&ht.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!oh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=p9(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Za(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=m9(r.layoutBox,e):this.constraints=!1,this.elastic=w9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=v9(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Za(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=bF(r,s.root,this.visualElement.getTransformPagePoint());let l=g9(s.layout.layoutBox,a);if(n){const u=n(xF(l));this.hasMutatedConstraints=!!u,u&&(l=i2(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=xr(g=>{if(!oh(g,n,this.currentDirection))return;let v=d&&d[g]||{};l&&(v={min:0,max:0});const _=s?200:1e6,T=s?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,k)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ry(this.visualElement,e),r.start(cv(e,r,0,n,this.visualElement,!1))}stopAnimation(){xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xr(n=>{const{drag:r}=this.getProps();if(!oh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];a.set(e[n]-gt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Za(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};xr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=y9({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xr(l=>{if(!oh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(gt(d,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;x9.set(this.visualElement,this);const e=this.visualElement.current,n=$c(e,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Za(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ht.read(r);const l=fu(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(xr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=iy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function oh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function E9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class b9 extends mo{constructor(e){super(e),this.removeGroupControls=Sr,this.removeListeners=Sr,this.controls=new _9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const wE=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class T9 extends mo{constructor(){super(...arguments),this.removePointerDownListener=Sr}onPointerDown(e){this.session=new _2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:x2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:wE(e),onStart:wE(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ht.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=$c(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ih={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=xE(t,e.target.x),r=xE(t,e.target.y);return`${n}% ${r}%`}},S9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=so.parse(t);if(s.length>5)return r;const a=so.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const f=gt(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),a(s)}};let Ym=!1;class I9 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;G3(C9),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),Ym&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ih.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,Ym=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ht.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),J0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Ym=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function b2(t){const[e,n]=qC(),r=b.useContext(P0);return m.jsx(I9,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(r2),isPresent:e,safeToRemove:n})}const C9={borderRadius:{...Tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tc,borderTopRightRadius:Tc,borderBottomLeftRadius:Tc,borderBottomRightRadius:Tc,boxShadow:S9};function R9(t,e,n){const r=Sn(t)?t:yl(t);return r.start(cv("",r,e,n)),r.animation}const A9=(t,e)=>t.depth-e.depth;class P9{constructor(){this.children=[],this.isDirty=!1}add(e){D0(this.children,e),this.isDirty=!0}remove(e){j0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A9),this.isDirty=!1,this.children.forEach(e)}}function k9(t,e){const n=Kn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(ro(r),t(a-e))};return ht.setup(r,!0),()=>ro(r)}const T2=["TopLeft","TopRight","BottomLeft","BottomRight"],N9=T2.length,_E=t=>typeof t=="string"?parseFloat(t):t,EE=t=>typeof t=="number"||Ce.test(t);function D9(t,e,n,r,s,a){s?(t.opacity=gt(0,n.opacity??1,j9(r)),t.opacityExit=gt(e.opacity??1,0,L9(r))):a&&(t.opacity=gt(e.opacity??1,n.opacity??1,r));for(let l=0;l<N9;l++){const u=`border${T2[l]}Radius`;let d=bE(e,u),f=bE(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||EE(d)===EE(f)?(t[u]=Math.max(gt(_E(d),_E(f),r),0),(ks.test(f)||ks.test(d))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,r))}function bE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const j9=S2(0,.5,dC),L9=S2(.5,.95,Sr);function S2(t,e,n){return r=>r<t?0:r>e?1:n(lu(t,e,r))}function TE(t,e){t.min=e.min,t.max=e.max}function wr(t,e){TE(t.x,e.x),TE(t.y,e.y)}function SE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function IE(t,e,n,r,s){return t-=e,t=ef(t,1/n,r),s!==void 0&&(t=ef(t,1/s,r)),t}function M9(t,e=0,n=1,r=.5,s,a=t,l=t){if(ks.test(e)&&(e=parseFloat(e),e=gt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=gt(a.min,a.max,r);t===a&&(u-=e),t.min=IE(t.min,e,n,u,s),t.max=IE(t.max,e,n,u,s)}function CE(t,e,[n,r,s],a,l){M9(t,e[n],e[r],e[s],e.scale,a,l)}const V9=["x","scaleX","originX"],O9=["y","scaleY","originY"];function RE(t,e,n,r){CE(t.x,e,V9,n?n.x:void 0,r?r.x:void 0),CE(t.y,e,O9,n?n.y:void 0,r?r.y:void 0)}function AE(t){return t.translate===0&&t.scale===1}function I2(t){return AE(t.x)&&AE(t.y)}function PE(t,e){return t.min===e.min&&t.max===e.max}function F9(t,e){return PE(t.x,e.x)&&PE(t.y,e.y)}function kE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function C2(t,e){return kE(t.x,e.x)&&kE(t.y,e.y)}function NE(t){return jn(t.x)/jn(t.y)}function DE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class U9{constructor(){this.members=[]}add(e){D0(this.members,e),e.scheduleRender()}remove(e){if(j0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B9(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:_,skewX:T,skewY:k}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),k&&(r+=`skewY(${k}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const Xm=["","X","Y","Z"],z9=1e3;let $9=0;function Jm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function R2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=f2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&R2(r)}function A2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=$9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(H9),this.nodes.forEach(Y9),this.nodes.forEach(X9),this.nodes.forEach(K9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new P9)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new V0),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=WC(l)&&!D3(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{v=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,g&&g(),g=k9(_,250),Ih.hasAnimatedSinceResize&&(Ih.hasAnimatedSinceResize=!1,this.nodes.forEach(ME)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||f.getDefaultTransition()||nU,{onLayoutAnimationStart:A,onLayoutAnimationComplete:I}=f.getProps(),j=!this.targetLayout||!C2(this.targetLayout,T),N=!v&&_;if(this.options.layoutRoot||this.resumeFrom||N||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Y0(k,"layout"),onPlay:A,onComplete:I};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,N)}else v||ME(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J9),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&R2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(LE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Q9),this.nodes.forEach(W9),this.nodes.forEach(q9)):this.nodes.forEach(LE),this.clearAllSnapshots();const u=Kn.now();sn.delta=ci(0,1e3/60,u-sn.timestamp),sn.timestamp=u,sn.isProcessing=!0,Um.update.process(sn),Um.preRender.process(sn),Um.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,J0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(G9),this.sharedNodes.forEach(Z9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jn(this.snapshot.measuredBox.x)&&!jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!I2(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||qo(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),rU(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return It();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sU))){const{scroll:f}=this.root;f&&(el(u.x,f.offset.x),el(u.y,f.offset.y))}return u}removeElementScroll(l){const u=It();if(wr(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&wr(u,l),el(u.x,g.offset.x),el(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const d=It();wr(d,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&tl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qo(g.latestValues)&&tl(d,g.latestValues)}return qo(this.latestValues)&&tl(d,this.latestValues),d}removeTransform(l){const u=It();wr(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!qo(f.latestValues))continue;Zg(f.latestValues)&&f.updateSnapshot();const g=It(),v=f.measurePageBox();wr(g,v),RE(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return qo(this.latestValues)&&RE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),qc(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wr(this.target,this.layout.layoutBox),a2(this.target,this.targetDelta)):wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),qc(this.relativeTargetOrigin,this.target,_.target),wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zg(this.parent.latestValues)||o2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;wr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;EF(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=It());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SE(this.prevProjectionDelta.x,this.projectionDelta.x),SE(this.prevProjectionDelta.y,this.projectionDelta.y)),Wc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!DE(this.projectionDelta.x,this.prevProjectionDelta.x)||!DE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nl(),this.projectionDelta=nl(),this.projectionDeltaWithTransform=nl()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},v=nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=It(),T=d?d.source:void 0,k=this.layout?this.layout.source:void 0,A=T!==k,I=this.getStack(),j=!I||I.members.length<=1,N=!!(A&&!j&&this.options.crossfade===!0&&!this.path.some(tU));this.animationProgress=0;let F;this.mixTargetDelta=W=>{const G=W/1e3;VE(v.x,l.x,G),VE(v.y,l.y,G),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eU(this.relativeTarget,this.relativeTargetOrigin,_,G),F&&F9(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=It()),wr(F,this.relativeTarget)),A&&(this.animationValues=g,D9(g,f,this.latestValues,G,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Ih.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yl(0)),this.currentAnimation=R9(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:g}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&P2(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||It();const v=jn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const _=jn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+_}wr(u,d),tl(u,g),Wc(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new U9),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&Jm("z",l,f,this.animationValues);for(let g=0;g<Xm.length;g++)Jm(`rotate${Xm[g]}`,l,f,this.animationValues),Jm(`skew${Xm[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Sh(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Sh(u?.pointerEvents)||""),this.hasProjected&&!qo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=B9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),l.transform=v;const{x:_,y:T}=this.projectionDelta;l.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,f.animationValues?l.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in hu){if(g[k]===void 0)continue;const{correct:A,applyTo:I,isCSSVariable:j}=hu[k],N=v==="none"?g[k]:A(g[k],f);if(I){const F=I.length;for(let W=0;W<F;W++)l[I[W]]=N}else j?this.options.visualElement.renderState.vars[k]=N:l[k]=N}this.options.layoutId&&(l.pointerEvents=f===this?Sh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(jE),this.root.sharedNodes.clear()}}}function W9(t){t.updateLayout()}function q9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?xr(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],_=jn(v);v.min=n[g].min,v.max=v.min+_}):P2(s,e.layoutBox,n)&&xr(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],_=jn(n[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const l=nl();Wc(l,n,e.layoutBox);const u=nl();a?Wc(u,t.applyTransform(r,!0),e.measuredBox):Wc(u,n,e.layoutBox);const d=!I2(l);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const T=It();qc(T,e.layoutBox,v.layoutBox);const k=It();qc(k,n,_.layoutBox),C2(T,k)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function H9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function K9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function G9(t){t.clearSnapshot()}function jE(t){t.clearMeasurements()}function LE(t){t.isLayoutDirty=!1}function Q9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ME(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Y9(t){t.resolveTargetDelta()}function X9(t){t.calcProjection()}function J9(t){t.resetSkewAndRotation()}function Z9(t){t.removeLeadSnapshot()}function VE(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OE(t,e,n,r){t.min=gt(e.min,n.min,r),t.max=gt(e.max,n.max,r)}function eU(t,e,n,r){OE(t.x,e.x,n.x,r),OE(t.y,e.y,n.y,r)}function tU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nU={duration:.45,ease:[.4,0,.1,1]},FE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),UE=FE("applewebkit/")&&!FE("chrome/")?Math.round:Sr;function BE(t){t.min=UE(t.min),t.max=UE(t.max)}function rU(t){BE(t.x),BE(t.y)}function P2(t,e,n){return t==="position"||t==="preserve-aspect"&&!c9(NE(e),NE(n),.2)}function sU(t){return t!==t.root&&t.scroll?.wasRoot}const iU=A2({attachResizeListener:(t,e)=>fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zm={current:void 0},k2=A2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zm.current){const t=new iU({});t.mount(window),t.setOptions({layoutScroll:!0}),Zm.current=t}return Zm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),oU={pan:{Feature:T9},drag:{Feature:b9,ProjectionNode:k2,MeasureLayout:b2}};function zE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&ht.postRender(()=>a(e,Vu(e)))}class aU extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=R3(e,(n,r)=>(zE(this.node,r,"Start"),s=>zE(this.node,s,"End"))))}unmount(){}}class lU extends mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ju(fu(this.node.current,"focus",()=>this.onFocus()),fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $E(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&ht.postRender(()=>a(e,Vu(e)))}class cU extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=N3(e,(n,r)=>($E(this.node,r,"Start"),(s,{success:a})=>$E(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oy=new WeakMap,eg=new WeakMap,uU=t=>{const e=oy.get(t.target);e&&e(t)},dU=t=>{t.forEach(uU)};function hU({root:t,...e}){const n=t||document;eg.has(n)||eg.set(n,{});const r=eg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(dU,{root:t,...e})),r[s]}function fU(t,e,n){const r=hU(e);return oy.set(t,n),r.observe(t),()=>{oy.delete(t),r.unobserve(t)}}const pU={some:0,all:1};class mU extends mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:pU[s]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=f?g:v;_&&_(d)};return fU(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gU(e,n))&&this.startObserver()}unmount(){}}function gU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yU={inView:{Feature:mU},tap:{Feature:cU},focus:{Feature:lU},hover:{Feature:aU}},vU={layout:{ProjectionNode:k2,MeasureLayout:b2}},wU={...r9,...yU,...oU,...vU},Te=wF(wU,NF),N2=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,s]=b.useState(n==="login"),[a,l]=b.useState(""),[u,d]=b.useState(""),[f,g]=b.useState(!1),[v,_]=b.useState(""),[T,k]=b.useState(""),A=async j=>{j.preventDefault(),g(!0),_(""),k("");try{r?(await BT(Ye,a,u),e()):(await UT(Ye,a,u),k("Account created successfully! You can now sign in."),s(!0))}catch(N){N instanceof Error?_(N.message):_("An unexpected error occurred")}finally{g(!1)}},I=async()=>{try{await JT(Ye,ZI),e()}catch(j){j instanceof Error?_(j.message):_("An unexpected error occurred")}};return m.jsx(la,{children:t&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),m.jsx(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),m.jsxs("form",{onSubmit:A,className:"space-y-4",children:[m.jsxs("button",{type:"button",onClick:I,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),m.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),m.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),m.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),m.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[m.jsx("div",{className:"border-t border-gray-200 w-full"}),m.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),m.jsx("input",{type:"email",required:!0,value:a,onChange:j=>l(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:u,onChange:j=>d(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),v&&m.jsx("p",{className:"text-red-500 text-sm text-center",children:v}),T&&m.jsx("p",{className:"text-green-500 text-sm text-center",children:T}),m.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:f?"Processing...":r?"Sign In":"Sign Up"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",m.jsx("button",{onClick:()=>s(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})},D2=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,a]=b.useState(!1),[l,u]=b.useState(null),d=Zr();b.useEffect(()=>{const v=()=>{e(window.scrollY>20)};window.addEventListener("scroll",v);const _=Tu(Ye,T=>{u(T)});return()=>{window.removeEventListener("scroll",v),_()}},[]);const f=async()=>{await K5(Ye),r(!1)},g=[{name:"Roadmaps",path:"/#roadmaps",isHash:!0},{name:"Projects",path:"/#projects",isHash:!0},{name:"Resources",path:"/#resources",isHash:!0},{name:"Students",path:"/students",isHash:!1}];return m.jsxs(m.Fragment,{children:[m.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/80 backdrop-blur-md shadow-sm py-4":"bg-transparent py-6"}`,children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[m.jsxs(on,{to:"/",className:"flex items-center gap-3",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),m.jsx("span",{className:"text-xl font-bold text-[#0f172a] tracking-tight",children:"CollabX"})]}),m.jsx("div",{className:"hidden md:flex items-center gap-8",children:g.map(v=>v.isHash?m.jsx(on,{to:v.path,className:`text-sm font-medium transition-colors ${d.pathname==="/"&&d.hash===v.path.substring(1)?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:v.name},v.name):m.jsx(on,{to:v.path,className:`text-sm font-medium transition-colors ${d.pathname===v.path?"text-[#0066FF]":"text-gray-600 hover:text-[#0066FF]"}`,children:v.name},v.name))}),m.jsx("div",{className:"hidden md:flex items-center gap-4",children:l?m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(on,{to:"/profile",className:"flex items-center gap-2",children:m.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold",children:l.email?.[0].toUpperCase()})}),m.jsx("button",{onClick:f,className:"text-sm font-medium text-gray-600 hover:text-red-500 transition-colors",children:"Sign Out"})]}):m.jsxs(m.Fragment,{children:[m.jsx(on,{to:"/login",className:"text-sm font-medium text-gray-600 hover:text-[#0066FF] transition-colors",children:"Log in"}),m.jsx("button",{onClick:()=>a(!0),className:"px-5 py-2.5 rounded-full bg-[#0f172a] text-white text-sm font-medium hover:bg-[#1e293b] transition-all shadow-lg shadow-gray-200/50",children:"Join Now"})]})}),m.jsx("button",{className:"md:hidden p-2 text-gray-600",onClick:()=>r(!n),children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),n&&m.jsxs("div",{className:"md:hidden absolute top-full left-0 w-full bg-white border-t border-gray-100 shadow-xl p-4 flex flex-col gap-4",children:[g.map(v=>v.isHash?m.jsx(on,{to:v.path,className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:v.name},v.name):m.jsx(on,{to:v.path,className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:v.name},v.name)),m.jsx("div",{className:"border-t border-gray-100 pt-4 flex flex-col gap-3",children:l?m.jsxs(m.Fragment,{children:[m.jsx(on,{to:"/profile",className:"text-gray-600 font-medium py-2",onClick:()=>r(!1),children:"Profile"}),m.jsx("button",{onClick:f,className:"text-left text-red-500 font-medium py-2",children:"Sign Out"})]}):m.jsxs(m.Fragment,{children:[m.jsx(on,{to:"/login",className:"text-center w-full py-3 rounded-xl border border-gray-200 text-gray-700 font-medium",onClick:()=>r(!1),children:"Log in"}),m.jsx("button",{onClick:()=>{r(!1),a(!0)},className:"w-full py-3 rounded-xl bg-[#0066FF] text-white font-medium shadow-lg shadow-blue-500/30",children:"Join Now"})]})})]})]}),m.jsx(N2,{isOpen:s,onClose:()=>a(!1)})]})},xU=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return m.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:m.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[m.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:m.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),m.jsxs(Te.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",m.jsx("br",{}),m.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),m.jsx(Te.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),m.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:m.jsxs("div",{className:"relative flex items-center",children:[m.jsx("div",{className:"absolute left-4 text-gray-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),m.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),m.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),m.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[m.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),m.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),m.jsxs(Te.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[m.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),m.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>m.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},_U=()=>{const t=Ls(),[e,n]=b.useState([]),[r,s]=b.useState(null),[a,l]=b.useState(!1),[u,d]=b.useState(!1),[f,g]=b.useState(""),[v,_]=b.useState({title:"",description:"",category:"General",link:""});b.useEffect(()=>{const N=Tu(Ye,async F=>{if(s(F),F)try{const W=await Ds(Lt($e,"users",F.uid));W.exists()&&l(W.data().role==="admin"||W.data().isAdmin===!0)}catch(W){console.error("Error checking admin status:",W),l(!1)}else l(!1)});return T(),()=>N()},[]);const T=async()=>{try{const N=hn($e,"roadmaps"),F=ur(N,Lf("created_at","desc")),G=(await Pr(F)).docs.map(q=>({id:q.id,...q.data()}));n(G)}catch(N){console.error("Error fetching roadmaps:",N)}},k=async N=>{if(N.preventDefault(),!!r)try{await pa(hn($e,"roadmaps"),{...v,is_official:!0,created_at:Xe.now().toDate().toISOString()}),d(!1),_({title:"",description:"",category:"General",link:""}),T()}catch(F){console.error("Error adding roadmap:",F),alert("Failed to add roadmap.")}},A=async(N,F)=>{if(F.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this roadmap?"))try{await T0(Lt($e,"roadmaps",N)),T()}catch(W){console.error("Error deleting roadmap:",W),alert("Failed to delete roadmap.")}},I=N=>{N.link&&(N.link.startsWith("http")||N.link.startsWith("https"))?window.open(N.link,"_blank"):(t(`/roadmap/${N.id}`),window.scrollTo(0,0))},j=e.filter(N=>N.title.toLowerCase().includes(f.toLowerCase())||N.description.toLowerCase().includes(f.toLowerCase()));return m.jsxs("section",{id:"roadmaps",className:"py-24 bg-gray-50",children:[m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Find Learning Roadmaps"}),m.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto",children:"Browse through our extensive library of free educational content, notes, and exam preparation materials."}),m.jsxs("div",{className:"max-w-2xl mx-auto mt-8 relative",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),m.jsx("input",{type:"text",placeholder:"Search roadmaps...",value:f,onChange:N=>g(N.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none bg-white"})]}),a&&m.jsx("div",{className:"mt-8 flex justify-center",children:m.jsx("button",{onClick:()=>d(!0),className:"bg-[#0066FF] text-white px-6 py-2 rounded-lg shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-colors",children:"+ Add Roadmap"})})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:j.length===0?m.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No roadmaps found."}):j.map((N,F)=>m.jsxs(Te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:F*.1},onClick:()=>I(N),className:"bg-white rounded-2xl p-8 border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group relative",children:[a&&m.jsx("button",{onClick:W=>A(N.id,W),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",title:"Delete Roadmap",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})}),m.jsx("div",{className:"flex justify-between items-start mb-6",children:m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-[#0066FF]",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})}),m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-3 group-hover:text-[#0066FF] transition-colors",children:N.title}),m.jsx("p",{className:"text-gray-500 leading-relaxed text-sm",children:N.description})]},N.id))})]}),u&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Roadmap"}),m.jsxs("form",{onSubmit:k,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),m.jsx("input",{type:"text",required:!0,value:v.title,onChange:N=>_({...v,title:N.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{required:!0,value:v.description,onChange:N=>_({...v,description:N.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none",rows:3})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link (Optional)"}),m.jsx("input",{type:"text",placeholder:"https://...",value:v.link,onChange:N=>_({...v,link:N.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),m.jsxs("div",{className:"flex gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 font-medium hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg bg-[#0066FF] text-white font-medium hover:bg-blue-600",children:"Add Roadmap"})]})]})]})})]})},EU=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,s]=b.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"}),[a,l]=b.useState(!1),[u,d]=b.useState(""),[f,g]=b.useState(!1);b.useEffect(()=>{if(t&&Ye.currentUser){const _=Ye.currentUser;_.email&&s(T=>({...T,author:_.email.split("@")[0]}))}},[t]);const v=async _=>{_.preventDefault(),l(!0),d("");try{await pa(hn($e,"projects"),{title:r.title,description:r.description,github_url:r.githubUrl,live_url:r.liveUrl,tags:r.tags.split(",").map(T=>T.trim()),author:r.author,author_avatar:Ye.currentUser?.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.author}`,language:r.language,stars:0,likes:0,comments:0,category:"Web Dev",created_at:Xe.now().toDate().toISOString(),user_id:Ye.currentUser?.uid}),g(!0),n&&n(),setTimeout(()=>{e(),g(!1),s({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"})},2e3)}catch(T){console.error("Error submitting project:",T),d("Failed to submit project. Please try again.")}finally{l(!1)}};return m.jsx(la,{children:t&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),m.jsx(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:m.jsxs("div",{className:"p-6 md:p-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),f?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-5xl mb-4",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),m.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):m.jsxs("form",{onSubmit:v,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),m.jsx("input",{type:"text",required:!0,value:r.title,onChange:_=>s({...r,title:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{required:!0,value:r.description,onChange:_=>s({...r,description:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),m.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:_=>s({...r,githubUrl:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),m.jsx("input",{type:"url",value:r.liveUrl,onChange:_=>s({...r,liveUrl:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name"}),m.jsx("input",{type:"text",required:!0,value:r.author,onChange:_=>s({...r,author:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your Name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Language"}),m.jsxs("select",{value:r.language,onChange:_=>s({...r,language:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{children:"JavaScript"}),m.jsx("option",{children:"TypeScript"}),m.jsx("option",{children:"Python"}),m.jsx("option",{children:"Java"}),m.jsx("option",{children:"C++"}),m.jsx("option",{children:"Rust"}),m.jsx("option",{children:"Go"}),m.jsx("option",{children:"Swift"}),m.jsx("option",{children:"Other"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated)"}),m.jsx("input",{type:"text",value:r.tags,onChange:_=>s({...r,tags:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, ai, machine-learning"})]}),u&&m.jsx("p",{className:"text-red-500 text-sm",children:u}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Submitting...":"Submit Project"})]})]})]})})]})})},bU=()=>{const[t,e]=b.useState("All"),[n,r]=b.useState(""),[s,a]=b.useState([]),[l,u]=b.useState(!0),[d,f]=b.useState(null),[g,v]=b.useState(!1),[_,T]=b.useState(!1),[k,A]=b.useState(""),[I,j]=b.useState(!1);b.useEffect(()=>{N();const R=Tu(Ye,C=>{f(C)});return()=>R()},[]);const N=async()=>{try{const R=hn($e,"projects"),C=ur(R,Lf("created_at","desc")),L=(await Pr(C)).docs.map(O=>({id:O.id,...O.data()}));a(L)}catch(R){console.error("Error fetching projects:",R)}finally{u(!1)}},F=async R=>{if(R.preventDefault(),!!k)try{await pa(hn($e,"newsletter_subscribers"),{email:k,created_at:Xe.now()}),j(!0),A(""),setTimeout(()=>j(!1),3e3)}catch(C){console.error("Error subscribing:",C)}},W=()=>{d?T(!0):v(!0)},G=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],q=s.filter(R=>{const C=t==="All"||R.category===t,D=R.title.toLowerCase().includes(n.toLowerCase())||R.description.toLowerCase().includes(n.toLowerCase())||R.tags.some(L=>L.toLowerCase().includes(n.toLowerCase()));return C&&D});return m.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),m.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),m.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[m.jsxs("div",{children:[m.jsx(Te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:m.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),m.jsx(Te.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),m.jsx(Te.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),m.jsxs(Te.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:R=>r(R.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),m.jsxs("button",{onClick:W,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[m.jsxs("div",{className:"lg:w-3/4",children:[m.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:G.map(R=>m.jsx("button",{onClick:()=>e(R),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===R?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:R},R))}),l?m.jsx("div",{className:"flex justify-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q.map(R=>m.jsxs(Te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[m.jsxs("div",{className:"relative h-48 overflow-hidden",children:[m.jsx("img",{src:R.image_url,alt:R.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),m.jsx("div",{className:"absolute top-4 left-4",children:m.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:R.category})})]}),m.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("img",{src:R.author_avatar,alt:R.author,className:"w-8 h-8 rounded-full border border-gray-100"}),m.jsx("span",{className:"text-sm font-medium text-gray-600",children:R.author}),m.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(R.created_at).toLocaleDateString()]})]}),m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:R.title}),m.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:R.description}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:R.tags.map(C=>m.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",C]},C))}),m.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),R.likes]}),m.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),R.comments]})]}),m.jsxs("a",{href:R.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},R.id))}),!l&&q.length===0&&m.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),m.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),m.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[m.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),m.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>m.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[m.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:m.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${R}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),m.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},R))}),m.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),m.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),m.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),m.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),m.jsxs("form",{onSubmit:F,className:"relative z-10",children:[m.jsx("input",{type:"email",placeholder:"Your email",value:k,onChange:R=>A(R.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),m.jsx("button",{type:"submit",disabled:I,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:I?"Subscribed!":"Subscribe"})]})]})]})]})]}),m.jsx(N2,{isOpen:g,onClose:()=>v(!1)}),m.jsx(EU,{isOpen:_,onClose:()=>T(!1),onSuccess:N})]})},TU=()=>{const t=Ls(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState(!1),[u,d]=b.useState(!1),[f,g]=b.useState({title:"",description:"",icon:"",color:"badge-blue",link:""});b.useEffect(()=>{v();const I=Tu(Ye,async j=>{if(j)try{const N=await Ds(Lt($e,"users",j.uid));N.exists()&&l(N.data().role==="admin"||N.data().isAdmin===!0)}catch(N){console.error("Error checking admin status:",N),l(!1)}else l(!1)});return()=>I()},[]);const v=async()=>{try{const I=hn($e,"resources"),j=ur(I),F=(await Pr(j)).docs.map(W=>({id:W.id,...W.data()}));F.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(F)}catch(I){console.error("Error fetching resources:",I)}finally{s(!1)}},_=async I=>{if(I.preventDefault(),!(!f.title||!f.description))try{await pa(hn($e,"resources"),f),d(!1),g({title:"",description:"",icon:"",color:"badge-blue",link:""}),v()}catch(j){console.error("Error adding resource:",j)}},T=async(I,j)=>{if(j.stopPropagation(),!!window.confirm("Are you sure you want to delete this resource?"))try{await T0(Lt($e,"resources",I)),v()}catch(N){console.error("Error deleting resource:",N)}},k={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},A={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return m.jsxs("section",{id:"resources",className:"section-padding relative z-10 min-h-[80vh] flex flex-col justify-center bg-gray-50",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),m.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),m.jsxs("div",{className:"container-custom relative z-10",children:[m.jsxs(Te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-6 drop-shadow-sm",children:"Student Resources"}),m.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Curated study materials and exam preparation guides to help you excel in your academic journey."})]}),a&&m.jsx("div",{className:"mb-8 flex justify-center",children:m.jsx("button",{onClick:()=>d(!u),className:"bg-[#0066FF] text-white px-6 py-2 rounded-full font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30",children:u?"Cancel":"+ Add Resource"})}),u&&m.jsx(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"max-w-md mx-auto mb-12 bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Title",value:f.title,onChange:I=>g({...f,title:I.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),m.jsx("textarea",{placeholder:"Description",value:f.description,onChange:I=>g({...f,description:I.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("input",{type:"text",placeholder:"Icon (emoji)",value:f.icon,onChange:I=>g({...f,icon:I.target.value}),className:"w-1/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none"}),m.jsxs("select",{value:f.color,onChange:I=>g({...f,color:I.target.value}),className:"w-2/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",children:[m.jsx("option",{value:"badge-blue",children:"Blue"}),m.jsx("option",{value:"badge-yellow",children:"Yellow"}),m.jsx("option",{value:"badge-green",children:"Green"}),m.jsx("option",{value:"badge-purple",children:"Purple"}),m.jsx("option",{value:"badge-red",children:"Red"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-[#0066FF] text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"Save Resource"})]})}),r?m.jsx("div",{className:"flex justify-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):m.jsx(Te.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",variants:k,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map(I=>m.jsxs(Te.div,{className:"bg-white rounded-2xl p-8 cursor-pointer group border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 relative",variants:A,whileHover:{scale:1.03},onClick:()=>t(`/resource/${I.id}`),children:[a&&m.jsx("button",{onClick:j=>T(I.id,j),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),m.jsx("div",{className:"mb-6 flex justify-center",children:m.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300",children:I.icon})}),m.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-4 text-center group-hover:text-[#0066FF] transition-colors",children:I.title}),m.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-center font-light flex-1",children:I.description}),m.jsx("div",{className:"mt-auto text-center",children:m.jsxs("span",{className:"text-[#0066FF] font-medium group-hover:underline underline-offset-4 flex items-center justify-center gap-2",children:["View Materials ",m.jsx("span",{children:""})]})})]},I.id))})]})]})},WE=20,j2=async(t,e)=>{const n=Ye.currentUser;if(!n)throw new Error("User not authenticated");if(n.uid===t)throw new Error("Cannot connect with yourself");const r=new Date().toISOString().split("T")[0],s=Lt($e,"userActivity",`${n.uid}_${r}`),a=await Ds(s);if(a.exists()&&a.data().connectionRequestsSent>=WE)throw new Error(`Daily limit of ${WE} requests reached.`);const l=Lt($e,"blocks",`${t}_${n.uid}`);if((await Ds(l)).exists())throw new Error("This user has blocked you.");const d=hn($e,"connections"),f=ur(d,un("requesterId","==",n.uid),un("recipientId","==",t));if(!(await Pr(f)).empty)throw new Error("Connection request already exists.");await pa(d,{requesterId:n.uid,recipientId:t,status:"pending",note:e?e.substring(0,300):"",createdAt:Qh(),updatedAt:Qh()}),await LI(s,{userId:n.uid,date:r,connectionRequestsSent:b6(1)},{merge:!0})},SU=async t=>{const e=Lt($e,"connections",t);await Du(e,{status:"accepted",updatedAt:Qh()})},IU=async t=>{const e=Lt($e,"connections",t);await Du(e,{status:"ignored",updatedAt:Qh()})},CU=async t=>{const e=Ye.currentUser;if(!e)return"none";const n=hn($e,"connections"),r=ur(n,un("requesterId","==",e.uid),un("recipientId","==",t)),s=await Pr(r);if(!s.empty)return s.docs[0].data().status==="accepted"?"connected":"pending";const a=ur(n,un("requesterId","==",t),un("recipientId","==",e.uid)),l=await Pr(a);return l.empty?"none":l.docs[0].data().status==="accepted"?"connected":"received"},RU=async()=>{const t=Ye.currentUser;if(!t)return[];const e=hn($e,"connections"),n=ur(e,un("recipientId","==",t.uid),un("status","==","pending"),Lf("createdAt","desc"));return(await Pr(n)).docs.map(s=>({id:s.id,...s.data()}))},qE=async t=>{const e=hn($e,"connections"),n=ur(e,un("requesterId","==",t),un("status","==","accepted")),r=ur(e,un("recipientId","==",t),un("status","==","accepted")),[s,a]=await Promise.all([S1(n),S1(r)]);return s.data().count+a.data().count},L2=({student:t,onClick:e})=>{const[n,r]=b.useState("none"),[s,a]=b.useState(!1),l=Ye.currentUser;b.useEffect(()=>{(async()=>{if(l&&l.uid!==t.uid)try{const v=await CU(t.uid);r(v)}catch(v){console.error("Error fetching status:",v)}})()},[t.uid,l]);const u=async g=>{if(g.stopPropagation(),!!l){a(!0);try{await j2(t.uid),r("pending")}catch(v){const _=v;console.error("Error connecting:",_),alert(_.message)}finally{a(!1)}}},d=()=>{if(s)return"...";switch(n){case"pending":return"Pending";case"received":return"Accept";case"connected":return"Connected";default:return"Connect"}},f=n==="pending"||n==="connected"||t.uid===l?.uid;return m.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col items-center text-center",onClick:e,children:[m.jsx("div",{className:"w-full h-20 bg-gradient-to-r from-[#0066FF]/10 to-[#5865F2]/10 relative",children:m.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:m.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-white",children:m.jsx("img",{src:t.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,alt:t.name,className:"w-full h-full object-cover"})})})}),m.jsxs("div",{className:"pt-12 pb-5 px-4 flex flex-col items-center flex-grow w-full",children:[m.jsx("h3",{className:"font-bold text-[#0f172a] text-lg line-clamp-1",children:t.name}),m.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 h-8 mb-1 px-2",children:t.headline||t.role}),m.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] mb-3 uppercase tracking-wider font-bold",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),t.institution||"University"]}),t.mutualConnectionsCount!==void 0&&t.mutualConnectionsCount>0&&m.jsxs("div",{className:"text-[10px] text-gray-400 mb-4 flex items-center gap-1",children:[m.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(g=>m.jsx("div",{className:"w-4 h-4 rounded-full border border-white bg-gray-200 overflow-hidden",children:m.jsx("img",{src:`https://i.pravatar.cc/150?u=${t.uid}${g}`,alt:"",className:"w-full h-full"})},g))}),m.jsxs("span",{children:[t.mutualConnectionsCount," mutual connections"]})]}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-5 h-10 overflow-hidden items-start w-full",children:[t.skills?.slice(0,3).map((g,v)=>m.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-400 text-[9px] font-bold rounded-md border border-gray-100 uppercase",children:g},v)),t.skills?.length>3&&m.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[9px] font-bold",children:["+",t.skills.length-3]})]}),m.jsxs("div",{className:"flex gap-2 w-full mt-auto",children:[m.jsx("button",{onClick:u,disabled:f||s,className:`flex-1 py-1.5 rounded-full font-bold text-xs transition-colors border ${n==="connected"?"bg-gray-100 text-gray-500 border-transparent cursor-not-allowed":n==="pending"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":"border-[#0066FF] text-[#0066FF] hover:bg-[#0066FF] hover:text-white"}`,children:d()}),m.jsx("button",{className:"flex-1 py-1.5 rounded-full border border-gray-200 text-gray-600 font-bold text-xs hover:bg-gray-50 transition-colors",children:"View Profile"})]})]})]})},AU=()=>{const t=Ls(),[e,n]=b.useState([]);return b.useEffect(()=>{(async()=>{try{const s=hn($e,"users"),a=ur(s,y6(8)),u=(await Pr(a)).docs.map(d=>{const f=d.data();return{uid:d.id,...f,name:f.name||f.full_name||"Anonymous",avatar:f.avatar||f.avatar_url||"",institution:f.institution||f.university||"University",skills:f.skills||[]}});n(u)}catch(s){console.error("Error fetching profiles:",s)}})()},[]),m.jsx("section",{id:"community",className:"py-24 bg-white",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[m.jsxs("div",{className:"max-w-2xl",children:[m.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),m.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),m.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.length===0?m.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):e.map(r=>m.jsx(L2,{student:r,onClick:()=>t(`/profile/${r.uid}`)},r.uid))})]})})},PU=async(t,e)=>{try{return(await pa(hn($e,"projects"),{...e,userId:t,createdAt:Xe.now()})).id}catch(n){throw console.error("Error adding project:",n),n}},kU=async(t,e)=>{try{const n=Lt($e,"projects",t);await Du(n,{...e,updatedAt:Xe.now()})}catch(n){throw console.error("Error updating project:",n),n}},NU=async t=>{try{await T0(Lt($e,"projects",t))}catch(e){throw console.error("Error deleting project:",e),e}},HE=async t=>{try{const e=ur(hn($e,"projects"),un("userId","==",t),Lf("createdAt","desc"));return(await Pr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching user projects:",e),e}};var ay=function(t,e){return ay=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ay(t,e)};function DU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ay(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Kt=function(){return Kt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kt.apply(this,arguments)};var tg,KE;function jU(){if(KE)return tg;KE=1;var t=!1,e,n,r,s,a,l,u,d,f,g,v,_,T,k,A;function I(){if(!t){t=!0;var N=navigator.userAgent,F=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(N),W=/(Mac OS X)|(Windows)|(Linux)/.exec(N);if(_=/\b(iPhone|iP[ao]d)/.exec(N),T=/\b(iP[ao]d)/.exec(N),g=/Android/i.exec(N),k=/FBAN\/\w+;/i.exec(N),A=/Mobile/i.exec(N),v=!!/Win64/.exec(N),F){e=F[1]?parseFloat(F[1]):F[5]?parseFloat(F[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var G=/(?:Trident\/(\d+.\d+))/.exec(N);l=G?parseFloat(G[1])+4:e,n=F[2]?parseFloat(F[2]):NaN,r=F[3]?parseFloat(F[3]):NaN,s=F[4]?parseFloat(F[4]):NaN,s?(F=/(?:Chrome\/(\d+\.\d+))/.exec(N),a=F&&F[1]?parseFloat(F[1]):NaN):a=NaN}else e=n=r=a=s=NaN;if(W){if(W[1]){var q=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(N);u=q?parseFloat(q[1].replace("_",".")):!0}else u=!1;d=!!W[2],f=!!W[3]}else u=d=f=!1}}var j={ie:function(){return I()||e},ieCompatibilityMode:function(){return I()||l>e},ie64:function(){return j.ie()&&v},firefox:function(){return I()||n},opera:function(){return I()||r},webkit:function(){return I()||s},safari:function(){return j.webkit()},chrome:function(){return I()||a},windows:function(){return I()||d},osx:function(){return I()||u},linux:function(){return I()||f},iphone:function(){return I()||_},mobile:function(){return I()||_||T||g||A},nativeApp:function(){return I()||k},android:function(){return I()||g},ipad:function(){return I()||T}};return tg=j,tg}var ng,GE;function LU(){if(GE)return ng;GE=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return ng=e,ng}var rg,QE;function MU(){if(QE)return rg;QE=1;var t=LU(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!t.canUseDOM||s&&!("addEventListener"in document))return!1;var a="on"+r,l=a in document;if(!l){var u=document.createElement("div");u.setAttribute(a,"return;"),l=typeof u[a]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return rg=n,rg}var sg,YE;function VU(){if(YE)return sg;YE=1;var t=jU(),e=MU(),n=10,r=40,s=800;function a(l){var u=0,d=0,f=0,g=0;return"detail"in l&&(d=l.detail),"wheelDelta"in l&&(d=-l.wheelDelta/120),"wheelDeltaY"in l&&(d=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(u=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(u=d,d=0),f=u*n,g=d*n,"deltaY"in l&&(g=l.deltaY),"deltaX"in l&&(f=l.deltaX),(f||g)&&l.deltaMode&&(l.deltaMode==1?(f*=r,g*=r):(f*=s,g*=s)),f&&!u&&(u=f<1?-1:1),g&&!d&&(d=g<1?-1:1),{spinX:u,spinY:d,pixelX:f,pixelY:g}}return a.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},sg=a,sg}var ig,XE;function OU(){return XE||(XE=1,ig=VU()),ig}var FU=OU();const UU=yb(FU);function BU(t,e,n,r,s,a){a===void 0&&(a=0);var l=wl(t,e,a),u=l.width,d=l.height,f=Math.min(u,n),g=Math.min(d,r);return f>g*s?{width:g*s,height:g}:{width:f,height:f/s}}function zU(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Sc(t,e,n,r,s){s===void 0&&(s=0);var a=wl(e.width,e.height,s),l=a.width,u=a.height;return{x:JE(t.x,l,n.width,r),y:JE(t.y,u,n.height,r)}}function JE(t,e,n,r){var s=e*r/2-n/2;return zf(t,-s,s)}function ZE(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function eb(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function $U(t,e,n,r,s,a,l){a===void 0&&(a=0),l===void 0&&(l=!0);var u=l?WU:qU,d=wl(e.width,e.height,a),f=wl(e.naturalWidth,e.naturalHeight,a),g={x:u(100,((d.width-n.width/s)/2-t.x/s)/d.width*100),y:u(100,((d.height-n.height/s)/2-t.y/s)/d.height*100),width:u(100,n.width/d.width*100/s),height:u(100,n.height/d.height*100/s)},v=Math.round(u(f.width,g.width*f.width/100)),_=Math.round(u(f.height,g.height*f.height/100)),T=f.width>=f.height*r,k=T?{width:Math.round(_*r),height:_}:{width:v,height:Math.round(v/r)},A=Kt(Kt({},k),{x:Math.round(u(f.width-k.width,g.x*f.width/100)),y:Math.round(u(f.height-k.height,g.y*f.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:A}}function WU(t,e){return Math.min(t,Math.max(0,e))}function qU(t,e){return e}function HU(t,e,n,r,s,a){var l=wl(e.width,e.height,n),u=zf(r.width/l.width*(100/t.width),s,a),d={x:u*l.width/2-r.width/2-l.width*u*(t.x/100),y:u*l.height/2-r.height/2-l.height*u*(t.y/100)};return{crop:d,zoom:u}}function KU(t,e,n){var r=zU(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function GU(t,e,n,r,s,a){n===void 0&&(n=0);var l=wl(e.naturalWidth,e.naturalHeight,n),u=zf(KU(t,e,r),s,a),d=r.height>r.width?r.height/t.height:r.width/t.width,f={x:((l.width-t.width)/2-t.x)*d,y:((l.height-t.height)/2-t.y)*d};return{crop:f,zoom:u}}function tb(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function QU(t){return t*Math.PI/180}function wl(t,e,n){var r=QU(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function zf(t,e,n){return Math.min(Math.max(t,e),n)}function ah(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var YU=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,XU=1,JU=3,ZU=1,e7=(function(t){DU(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=b.createRef(),n.imageRef=b.createRef(),n.videoRef=b.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=HU(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=s.crop,l=s.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}else if(n.props.initialCroppedAreaPixels){var u=GU(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=u.crop,l=u.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}},n.computeSizes=function(){var r,s,a,l,u,d,f=n.imageRef.current||n.videoRef.current;if(f&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,v=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,_=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,T=f.offsetWidth<v||f.offsetHeight<_,k=v/_,A=void 0;if(T)switch(n.state.mediaObjectFit){default:case"contain":A=g>k?{width:n.containerRect.height*k,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/k};break;case"horizontal-cover":A={width:n.containerRect.width,height:n.containerRect.width/k};break;case"vertical-cover":A={width:n.containerRect.height*k,height:n.containerRect.height};break}else A={width:f.offsetWidth,height:f.offsetHeight};n.mediaSize=Kt(Kt({},A),{naturalWidth:v,naturalHeight:_}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var I=n.props.cropSize?n.props.cropSize:BU(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((u=n.state.cropSize)===null||u===void 0?void 0:u.height)!==I.height||((d=n.state.cropSize)===null||d===void 0?void 0:d.width)!==I.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(I),n.setState({cropSize:I},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(I),I}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),a=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(a,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var l=n.gestureRotationStart+r.rotation;n.props.onRotationChange(l)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,a,l=r.x,u=r.y;n.dragStartPosition={x:l,y:u},n.dragStartCrop=Kt({},n.props.crop),(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s)},n.onDrag=function(r){var s=r.x,a=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||a===void 0)){var l=s-n.dragStartPosition.x,u=a-n.dragStartPosition.y,d={x:n.dragStartCrop.x+l,y:n.dragStartCrop.y+u},f=n.props.restrictPosition?Sc(d,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):d;n.props.onCropChange(f)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),a=UU(r).pixelY,l=n.props.zoom-a*n.props.zoomSpeed/200;n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var u,d;return(d=(u=n.props).onInteractionStart)===null||d===void 0?void 0:d.call(u)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var u,d;return(d=(u=n.props).onInteractionEnd)===null||d===void 0?void 0:d.call(u)})},250)}},n.getPointOnContainer=function(r,s){var a=r.x,l=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(a-s.x),y:n.containerRect.height/2-(l-s.y)}},n.getPointOnMedia=function(r){var s=r.x,a=r.y,l=n.props,u=l.crop,d=l.zoom;return{x:(s+u.x)/d,y:(a+u.y)/d}},n.setNewZoom=function(r,s,a){var l=a===void 0?{}:a,u=l.shouldUpdatePosition,d=u===void 0?!0:u;if(!(!n.state.cropSize||!n.props.onZoomChange)){var f=zf(r,n.props.minZoom,n.props.maxZoom);if(d){var g=n.getPointOnContainer(s,n.containerPosition),v=n.getPointOnMedia(g),_={x:v.x*f-g.x,y:v.y*f-g.y},T=n.props.restrictPosition?Sc(_,n.mediaSize,n.state.cropSize,f,n.props.rotation):_;n.props.onCropChange(T)}n.props.onZoomChange(f)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Sc(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return $U(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,a),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.recomputeCropPosition=function(){var r,s;if(n.state.cropSize){var a=n.props.crop;if(n.isInitialized&&(!((r=n.previousCropSize)===null||r===void 0)&&r.width)&&(!((s=n.previousCropSize)===null||s===void 0)&&s.height)){var l=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(l){var u=n.state.cropSize.width/n.previousCropSize.width,d=n.state.cropSize.height/n.previousCropSize.height;a={x:n.props.crop.x*u,y:n.props.crop.y*d}}}var f=n.props.restrictPosition?Sc(a,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):a;n.previousCropSize=n.state.cropSize,n.props.onCropChange(f),n.emitCropData()}},n.onKeyDown=function(r){var s,a,l=n.props,u=l.crop,d=l.onCropChange,f=l.keyboardStep,g=l.zoom,v=l.rotation,_=f;if(n.state.cropSize){r.shiftKey&&(_*=.2);var T=Kt({},u);switch(r.key){case"ArrowUp":T.y-=_,r.preventDefault();break;case"ArrowDown":T.y+=_,r.preventDefault();break;case"ArrowLeft":T.x-=_,r.preventDefault();break;case"ArrowRight":T.x+=_,r.preventDefault();break;default:return}n.props.restrictPosition&&(T=Sc(T,n.mediaSize,n.state.cropSize,g,v)),r.repeat||(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s),d(T)}},n.onKeyUp=function(r){var s,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(a=(s=n.props).onInteractionEnd)===null||a===void 0||a.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=YU,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,a,l,u,d,f,g,v;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((a=n.cropSize)===null||a===void 0?void 0:a.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((u=n.crop)===null||u===void 0?void 0:u.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((f=n.crop)===null||f===void 0?void 0:f.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var _=this.getObjectFit();_!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:_},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,a;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,d=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,f=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,g=d/f;return g<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=ZE(r,s),this.lastPinchRotation=eb(r,s),this.onDragStart(tb(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),a=e.getTouchPoint(n.touches[1]),l=tb(s,a);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=ZE(s,a),d=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(d,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var f=eb(s,a),g=r.props.rotation+(f-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=f})}},e.prototype.render=function(){var n=this,r,s=this.props,a=s.image,l=s.video,u=s.mediaProps,d=s.cropperProps,f=s.transform,g=s.crop,v=g.x,_=g.y,T=s.rotation,k=s.zoom,A=s.cropShape,I=s.showGrid,j=s.roundCropAreaPixels,N=s.style,F=N.containerStyle,W=N.cropAreaStyle,G=N.mediaStyle,q=s.classes,R=q.containerClassName,C=q.cropAreaClassName,D=q.mediaClassName,L=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(z){return n.containerRef=z},"data-testid":"container",style:F,className:ah("reactEasyCrop_Container",R)},a?b.createElement("img",Kt({alt:"",className:ah("reactEasyCrop_Image",L==="contain"&&"reactEasyCrop_Contain",L==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",L==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",D)},u,{src:a,ref:this.imageRef,style:Kt(Kt({},G),{transform:f||"translate(".concat(v,"px, ").concat(_,"px) rotate(").concat(T,"deg) scale(").concat(k,")")}),onLoad:this.onMediaLoad})):l&&b.createElement("video",Kt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ah("reactEasyCrop_Video",L==="contain"&&"reactEasyCrop_Contain",L==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",L==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",D)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Kt(Kt({},G),{transform:f||"translate(".concat(v,"px, ").concat(_,"px) rotate(").concat(T,"deg) scale(").concat(k,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(O){return b.createElement("source",Kt({key:O.src},O))})),this.state.cropSize&&b.createElement("div",Kt({ref:this.cropperRef,style:Kt(Kt({},W),{width:j?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:j?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ah("reactEasyCrop_CropArea",A==="round"&&"reactEasyCrop_CropAreaRound",I&&"reactEasyCrop_CropAreaGrid",C)},d)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:JU,minZoom:XU,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:ZU},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e})(b.Component);const t7=({userId:t,currentAvatar:e,onUploadComplete:n})=>{const[r,s]=b.useState(null),[a,l]=b.useState({x:0,y:0}),[u,d]=b.useState(1),[f,g]=b.useState(null),[v,_]=b.useState(!1),[T,k]=b.useState(!1),A=b.useCallback((W,G)=>{g(G)},[]),I=async W=>{if(W.target.files&&W.target.files.length>0){const G=W.target.files[0],q=new FileReader;q.addEventListener("load",()=>{s(q.result),k(!0)}),q.readAsDataURL(G)}},j=W=>new Promise((G,q)=>{const R=new Image;R.addEventListener("load",()=>G(R)),R.addEventListener("error",C=>q(C)),R.setAttribute("crossOrigin","anonymous"),R.src=W}),N=async(W,G)=>{const q=await j(W),R=document.createElement("canvas"),C=R.getContext("2d");if(!C)throw new Error("No 2d context");return R.width=G.width,R.height=G.height,C.drawImage(q,G.x,G.y,G.width,G.height,0,0,G.width,G.height),new Promise((D,L)=>{R.toBlob(O=>{if(!O){L(new Error("Canvas is empty"));return}D(O)},"image/jpeg")})},F=async()=>{if(!(!r||!f)){_(!0),console.log("Starting upload process...");try{console.log("Cropping image...");const W=await N(r,f);console.log("Image cropped successfully");const G=`avatars/${t}_${Date.now()}.jpg`,q=DV(FV,G);console.log("Uploading to Storage:",G);const R=await kV(q,W);console.log("Upload complete");const C=await NV(R.ref);console.log("Download URL obtained:",C),console.log("Updating Firestore..."),await Du(Lt($e,"users",t),{avatar:C}),console.log("Firestore updated"),n(C),k(!1),s(null)}catch(W){console.error("Detailed upload error:",W),alert("Failed to save image. Please check your internet connection or try again.")}finally{_(!1)}}};return m.jsxs("div",{className:"relative group",children:[m.jsxs("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:[m.jsx("img",{src:e||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t}`,alt:"Avatar",className:"w-full h-full object-cover"}),m.jsxs("label",{className:"absolute inset-0 bg-black/20 md:bg-black/0 md:group-hover:bg-black/40 flex items-center justify-center transition-all cursor-pointer",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"}),m.jsx("div",{className:"md:opacity-0 md:group-hover:opacity-100 transition-opacity flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-white",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})})]})]}),m.jsx("div",{className:"absolute bottom-2 right-2 p-3 bg-[#0066FF] text-white rounded-full shadow-lg border-2 border-white pointer-events-none md:pointer-events-auto",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})}),m.jsx(la,{children:T&&r&&m.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[m.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70"}),m.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg bg-white rounded-3xl overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Crop Profile Picture"}),m.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),m.jsx("div",{className:"relative h-96 bg-gray-900",children:m.jsx(e7,{image:r,crop:a,zoom:u,aspect:1,onCropChange:l,onCropComplete:A,onZoomChange:d})}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Zoom"}),m.jsx("input",{type:"range",value:u,min:1,max:3,step:.1,onChange:W=>d(Number(W.target.value)),className:"flex-grow accent-[#0066FF]"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),m.jsx("button",{onClick:F,disabled:v,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:v?"Processing...":"Save Picture"})]})]})]})]})})]})};function n7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const $f=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kl(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function uv(t){return"nodeType"in t}function Qn(t){var e,n;return t?kl(t)?t:uv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function dv(t){const{Document:e}=Qn(t);return t instanceof e}function Ou(t){return kl(t)?!1:t instanceof Qn(t).HTMLElement}function M2(t){return t instanceof Qn(t).SVGElement}function Nl(t){return t?kl(t)?t.document:uv(t)?dv(t)?t:Ou(t)||M2(t)?t.ownerDocument:document:document:document}const js=$f?b.useLayoutEffect:b.useEffect;function hv(t){const e=b.useRef(t);return js(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function r7(){const t=b.useRef(null),e=b.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function pu(t,e){e===void 0&&(e=[t]);const n=b.useRef(t);return js(()=>{n.current!==t&&(n.current=t)},e),n}function Fu(t,e){const n=b.useRef();return b.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function tf(t){const e=hv(t),n=b.useRef(null),r=b.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function ly(t){const e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}let og={};function Uu(t,e){return b.useMemo(()=>{if(e)return e;const n=og[t]==null?0:og[t]+1;return og[t]=n,t+"-"+n},[t,e])}function V2(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const u=Object.entries(l);for(const[d,f]of u){const g=a[d];g!=null&&(a[d]=g+t*f)}return a},{...e})}}const ul=V2(1),mu=V2(-1);function s7(t){return"clientX"in t&&"clientY"in t}function fv(t){if(!t)return!1;const{KeyboardEvent:e}=Qn(t.target);return e&&t instanceof e}function i7(t){if(!t)return!1;const{TouchEvent:e}=Qn(t.target);return e&&t instanceof e}function cy(t){if(i7(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return s7(t)?{x:t.clientX,y:t.clientY}:null}const gu=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[gu.Translate.toString(t),gu.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),nb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function o7(t){return t.matches(nb)?t:t.querySelector(nb)}const a7={display:"none"};function l7(t){let{id:e,value:n}=t;return ln.createElement("div",{id:e,style:a7},n)}function c7(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ln.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function u7(){const[t,e]=b.useState("");return{announce:b.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const O2=b.createContext(null);function d7(t){const e=b.useContext(O2);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function h7(){const[t]=b.useState(()=>new Set),e=b.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[b.useCallback(r=>{let{type:s,event:a}=r;t.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,a)})},[t]),e]}const f7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},p7={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function m7(t){let{announcements:e=p7,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=f7}=t;const{announce:a,announcement:l}=u7(),u=Uu("DndLiveRegion"),[d,f]=b.useState(!1);if(b.useEffect(()=>{f(!0)},[]),d7(b.useMemo(()=>({onDragStart(v){let{active:_}=v;a(e.onDragStart({active:_}))},onDragMove(v){let{active:_,over:T}=v;e.onDragMove&&a(e.onDragMove({active:_,over:T}))},onDragOver(v){let{active:_,over:T}=v;a(e.onDragOver({active:_,over:T}))},onDragEnd(v){let{active:_,over:T}=v;a(e.onDragEnd({active:_,over:T}))},onDragCancel(v){let{active:_,over:T}=v;a(e.onDragCancel({active:_,over:T}))}}),[a,e])),!d)return null;const g=ln.createElement(ln.Fragment,null,ln.createElement(l7,{id:r,value:s.draggable}),ln.createElement(c7,{id:u,announcement:l}));return n?Ic.createPortal(g,n):g}var Ut;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ut||(Ut={}));function nf(){}function rb(t,e){return b.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function g7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Yr=Object.freeze({x:0,y:0});function F2(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function U2(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function y7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function sb(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function B2(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function ib(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const v7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=ib(e,e.left,e.top),a=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const f=F2(ib(d),s);a.push({id:u,data:{droppableContainer:l,value:f}})}}return a.sort(U2)},w7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=sb(e),a=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const f=sb(d),g=s.reduce((_,T,k)=>_+F2(f[k],T),0),v=Number((g/4).toFixed(4));a.push({id:u,data:{droppableContainer:l,value:v}})}}return a.sort(U2)};function x7(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),l=s-r,u=a-n;if(r<s&&n<a){const d=e.width*e.height,f=t.width*t.height,g=l*u,v=g/(d+f-g);return Number(v.toFixed(4))}return 0}const _7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const d=x7(u,e);d>0&&s.push({id:l,data:{droppableContainer:a,value:d}})}}return s.sort(y7)};function E7(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function z2(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Yr}function b7(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,u)=>({...l,top:l.top+t*u.y,bottom:l.bottom+t*u.y,left:l.left+t*u.x,right:l.right+t*u.x}),{...n})}}const T7=b7(1);function S7(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function I7(t,e,n){const r=S7(e);if(!r)return t;const{scaleX:s,scaleY:a,x:l,y:u}=r,d=t.left-l-(1-s)*parseFloat(n),f=t.top-u-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?t.width/s:t.width,v=a?t.height/a:t.height;return{width:g,height:v,top:f,right:d+g,bottom:f+v,left:d}}const C7={ignoreTransform:!1};function Dl(t,e){e===void 0&&(e=C7);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:g}=Qn(t).getComputedStyle(t);f&&(n=I7(n,f,g))}const{top:r,left:s,width:a,height:l,bottom:u,right:d}=n;return{top:r,left:s,width:a,height:l,bottom:u,right:d}}function ob(t){return Dl(t,{ignoreTransform:!0})}function R7(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function A7(t,e){return e===void 0&&(e=Qn(t).getComputedStyle(t)),e.position==="fixed"}function P7(t,e){e===void 0&&(e=Qn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=e[s];return typeof a=="string"?n.test(a):!1})}function Wf(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(dv(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Ou(s)||M2(s)||n.includes(s))return n;const a=Qn(t).getComputedStyle(s);return s!==t&&P7(s,a)&&n.push(s),A7(s,a)?n:r(s.parentNode)}return t?r(t):n}function $2(t){const[e]=Wf(t,1);return e??null}function ag(t){return!$f||!t?null:kl(t)?t:uv(t)?dv(t)||t===Nl(t).scrollingElement?window:Ou(t)?t:null:null}function W2(t){return kl(t)?t.scrollX:t.scrollLeft}function q2(t){return kl(t)?t.scrollY:t.scrollTop}function uy(t){return{x:W2(t),y:q2(t)}}var Qt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Qt||(Qt={}));function H2(t){return!$f||!t?!1:t===document.scrollingElement}function K2(t){const e={x:0,y:0},n=H2(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,u=t.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:u,maxScroll:r,minScroll:e}}const k7={x:.2,y:.2};function N7(t,e,n,r,s){let{top:a,left:l,right:u,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=k7);const{isTop:f,isBottom:g,isLeft:v,isRight:_}=K2(t),T={x:0,y:0},k={x:0,y:0},A={height:e.height*s.y,width:e.width*s.x};return!f&&a<=e.top+A.height?(T.y=Qt.Backward,k.y=r*Math.abs((e.top+A.height-a)/A.height)):!g&&d>=e.bottom-A.height&&(T.y=Qt.Forward,k.y=r*Math.abs((e.bottom-A.height-d)/A.height)),!_&&u>=e.right-A.width?(T.x=Qt.Forward,k.x=r*Math.abs((e.right-A.width-u)/A.width)):!v&&l<=e.left+A.width&&(T.x=Qt.Backward,k.x=r*Math.abs((e.left+A.width-l)/A.width)),{direction:T,speed:k}}function D7(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function G2(t){return t.reduce((e,n)=>ul(e,uy(n)),Yr)}function j7(t){return t.reduce((e,n)=>e+W2(n),0)}function L7(t){return t.reduce((e,n)=>e+q2(n),0)}function M7(t,e){if(e===void 0&&(e=Dl),!t)return;const{top:n,left:r,bottom:s,right:a}=e(t);$2(t)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const V7=[["x",["left","right"],j7],["y",["top","bottom"],L7]];class pv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Wf(n),s=G2(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,l,u]of V7)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=u(r),g=s[a]-f;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function O7(t){const{EventTarget:e}=Qn(t);return t instanceof e?t:Nl(t)}function lg(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var _r;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(_r||(_r={}));function ab(t){t.preventDefault()}function F7(t){t.stopPropagation()}var qe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(qe||(qe={}));const Q2={start:[qe.Space,qe.Enter],cancel:[qe.Esc],end:[qe.Space,qe.Enter,qe.Tab]},U7=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case qe.Right:return{...n,x:n.x+25};case qe.Left:return{...n,x:n.x-25};case qe.Down:return{...n,y:n.y+25};case qe.Up:return{...n,y:n.y-25}}};class mv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Hc(Nl(n)),this.windowListeners=new Hc(Qn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(_r.Resize,this.handleCancel),this.windowListeners.add(_r.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(_r.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&M7(r),n(Yr)}handleKeyDown(e){if(fv(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=Q2,coordinateGetter:l=U7,scrollBehavior:u="smooth"}=s,{code:d}=e;if(a.end.includes(d)){this.handleEnd(e);return}if(a.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:f}=r.current,g=f?{x:f.left,y:f.top}:Yr;this.referenceCoordinates||(this.referenceCoordinates=g);const v=l(e,{active:n,context:r.current,currentCoordinates:g});if(v){const _=mu(v,g),T={x:0,y:0},{scrollableAncestors:k}=r.current;for(const A of k){const I=e.code,{isTop:j,isRight:N,isLeft:F,isBottom:W,maxScroll:G,minScroll:q}=K2(A),R=D7(A),C={x:Math.min(I===qe.Right?R.right-R.width/2:R.right,Math.max(I===qe.Right?R.left:R.left+R.width/2,v.x)),y:Math.min(I===qe.Down?R.bottom-R.height/2:R.bottom,Math.max(I===qe.Down?R.top:R.top+R.height/2,v.y))},D=I===qe.Right&&!N||I===qe.Left&&!F,L=I===qe.Down&&!W||I===qe.Up&&!j;if(D&&C.x!==v.x){const O=A.scrollLeft+_.x,z=I===qe.Right&&O<=G.x||I===qe.Left&&O>=q.x;if(z&&!_.y){A.scrollTo({left:O,behavior:u});return}z?T.x=A.scrollLeft-O:T.x=I===qe.Right?A.scrollLeft-G.x:A.scrollLeft-q.x,T.x&&A.scrollBy({left:-T.x,behavior:u});break}else if(L&&C.y!==v.y){const O=A.scrollTop+_.y,z=I===qe.Down&&O<=G.y||I===qe.Up&&O>=q.y;if(z&&!_.x){A.scrollTo({top:O,behavior:u});return}z?T.y=A.scrollTop-O:T.y=I===qe.Down?A.scrollTop-G.y:A.scrollTop-q.y,T.y&&A.scrollBy({top:-T.y,behavior:u});break}}this.handleMove(e,ul(mu(v,this.referenceCoordinates),T))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}mv.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Q2,onActivation:s}=e,{active:a}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const u=a.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function lb(t){return!!(t&&"distance"in t)}function cb(t){return!!(t&&"delay"in t)}class gv{constructor(e,n,r){var s;r===void 0&&(r=O7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:l}=a;this.props=e,this.events=n,this.document=Nl(l),this.documentListeners=new Hc(this.document),this.listeners=new Hc(r),this.windowListeners=new Hc(Qn(l)),this.initialCoordinates=(s=cy(a))!=null?s:Yr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(_r.Resize,this.handleCancel),this.windowListeners.add(_r.DragStart,ab),this.windowListeners.add(_r.VisibilityChange,this.handleCancel),this.windowListeners.add(_r.ContextMenu,ab),this.documentListeners.add(_r.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(cb(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(lb(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(_r.Click,F7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(_r.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:u}}=a;if(!s)return;const d=(n=cy(e))!=null?n:Yr,f=mu(s,d);if(!r&&u){if(lb(u)){if(u.tolerance!=null&&lg(f,u.tolerance))return this.handleCancel();if(lg(f,u.distance))return this.handleStart()}if(cb(u)&&lg(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===qe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const B7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class yv extends gv{constructor(e){const{event:n}=e,r=Nl(n.target);super(e,B7,r)}}yv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const z7={move:{name:"mousemove"},end:{name:"mouseup"}};var dy;(function(t){t[t.RightClick=2]="RightClick"})(dy||(dy={}));class $7 extends gv{constructor(e){super(e,z7,Nl(e.event.target))}}$7.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===dy.RightClick?!1:(r?.({event:n}),!0)}}];const cg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class W7 extends gv{constructor(e){super(e,cg)}static setup(){return window.addEventListener(cg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(cg.move.name,e)};function e(){}}}W7.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var Kc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Kc||(Kc={}));var rf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(rf||(rf={}));function q7(t){let{acceleration:e,activator:n=Kc.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:u=rf.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:g,delta:v,threshold:_}=t;const T=K7({delta:v,disabled:!a}),[k,A]=r7(),I=b.useRef({x:0,y:0}),j=b.useRef({x:0,y:0}),N=b.useMemo(()=>{switch(n){case Kc.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Kc.DraggableRect:return s}},[n,s,d]),F=b.useRef(null),W=b.useCallback(()=>{const q=F.current;if(!q)return;const R=I.current.x*j.current.x,C=I.current.y*j.current.y;q.scrollBy(R,C)},[]),G=b.useMemo(()=>u===rf.TreeOrder?[...f].reverse():f,[u,f]);b.useEffect(()=>{if(!a||!f.length||!N){A();return}for(const q of G){if(r?.(q)===!1)continue;const R=f.indexOf(q),C=g[R];if(!C)continue;const{direction:D,speed:L}=N7(q,C,N,e,_);for(const O of["x","y"])T[O][D[O]]||(L[O]=0,D[O]=0);if(L.x>0||L.y>0){A(),F.current=q,k(W,l),I.current=L,j.current=D;return}}I.current={x:0,y:0},j.current={x:0,y:0},A()},[e,W,r,A,a,l,JSON.stringify(N),JSON.stringify(T),k,f,G,g,JSON.stringify(_)])}const H7={x:{[Qt.Backward]:!1,[Qt.Forward]:!1},y:{[Qt.Backward]:!1,[Qt.Forward]:!1}};function K7(t){let{delta:e,disabled:n}=t;const r=ly(e);return Fu(s=>{if(n||!r||!s)return H7;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Qt.Backward]:s.x[Qt.Backward]||a.x===-1,[Qt.Forward]:s.x[Qt.Forward]||a.x===1},y:{[Qt.Backward]:s.y[Qt.Backward]||a.y===-1,[Qt.Forward]:s.y[Qt.Forward]||a.y===1}}},[n,e,r])}function G7(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Fu(s=>{var a;return e==null?null:(a=r??s)!=null?a:null},[r,e])}function Q7(t,e){return b.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...a]},[]),[t,e])}var yu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(yu||(yu={}));var hy;(function(t){t.Optimized="optimized"})(hy||(hy={}));const ub=new Map;function Y7(t,e){let{dragging:n,dependencies:r,config:s}=e;const[a,l]=b.useState(null),{frequency:u,measure:d,strategy:f}=s,g=b.useRef(t),v=I(),_=pu(v),T=b.useCallback(function(j){j===void 0&&(j=[]),!_.current&&l(N=>N===null?j:N.concat(j.filter(F=>!N.includes(F))))},[_]),k=b.useRef(null),A=Fu(j=>{if(v&&!n)return ub;if(!j||j===ub||g.current!==t||a!=null){const N=new Map;for(let F of t){if(!F)continue;if(a&&a.length>0&&!a.includes(F.id)&&F.rect.current){N.set(F.id,F.rect.current);continue}const W=F.node.current,G=W?new pv(d(W),W):null;F.rect.current=G,G&&N.set(F.id,G)}return N}return j},[t,a,n,v,d]);return b.useEffect(()=>{g.current=t},[t]),b.useEffect(()=>{v||T()},[n,v]),b.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),b.useEffect(()=>{v||typeof u!="number"||k.current!==null||(k.current=setTimeout(()=>{T(),k.current=null},u))},[u,v,T,...r]),{droppableRects:A,measureDroppableContainers:T,measuringScheduled:a!=null};function I(){switch(f){case yu.Always:return!1;case yu.BeforeDragging:return n;default:return!n}}}function Y2(t,e){return Fu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function X7(t,e){return Y2(t,e)}function J7(t){let{callback:e,disabled:n}=t;const r=hv(e),s=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return b.useEffect(()=>()=>s?.disconnect(),[s]),s}function qf(t){let{callback:e,disabled:n}=t;const r=hv(e),s=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return b.useEffect(()=>()=>s?.disconnect(),[s]),s}function Z7(t){return new pv(Dl(t),t)}function db(t,e,n){e===void 0&&(e=Z7);const[r,s]=b.useState(null);function a(){s(d=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=d??n)!=null?f:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const l=J7({callback(d){if(t)for(const f of d){const{type:g,target:v}=f;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){a();break}}}}),u=qf({callback:a});return js(()=>{a(),t?(u?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[t]),r}function e8(t){const e=Y2(t);return z2(t,e)}const hb=[];function t8(t){const e=b.useRef(t),n=Fu(r=>t?r&&r!==hb&&t&&e.current&&t.parentNode===e.current.parentNode?r:Wf(t):hb,[t]);return b.useEffect(()=>{e.current=t},[t]),n}function n8(t){const[e,n]=b.useState(null),r=b.useRef(t),s=b.useCallback(a=>{const l=ag(a.target);l&&n(u=>u?(u.set(l,uy(l)),new Map(u)):null)},[]);return b.useEffect(()=>{const a=r.current;if(t!==a){l(a);const u=t.map(d=>{const f=ag(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,uy(f)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=t}return()=>{l(t),l(a)};function l(u){u.forEach(d=>{const f=ag(d);f?.removeEventListener("scroll",s)})}},[s,t]),b.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,l)=>ul(a,l),Yr):G2(t):Yr,[t,e])}function fb(t,e){e===void 0&&(e=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},e),b.useEffect(()=>{const r=t!==Yr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?mu(t,n.current):Yr}function r8(t){b.useEffect(()=>{if(!$f)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function s8(t,e){return b.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=l=>{a(l,e)},n},{}),[t,e])}function X2(t){return b.useMemo(()=>t?R7(t):null,[t])}const pb=[];function i8(t,e){e===void 0&&(e=Dl);const[n]=t,r=X2(n?Qn(n):null),[s,a]=b.useState(pb);function l(){a(()=>t.length?t.map(d=>H2(d)?r:new pv(e(d),d)):pb)}const u=qf({callback:l});return js(()=>{u?.disconnect(),l(),t.forEach(d=>u?.observe(d))},[t]),s}function o8(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ou(e)?e:t}function a8(t){let{measure:e}=t;const[n,r]=b.useState(null),s=b.useCallback(f=>{for(const{target:g}of f)if(Ou(g)){r(v=>{const _=e(g);return v?{...v,width:_.width,height:_.height}:_});break}},[e]),a=qf({callback:s}),l=b.useCallback(f=>{const g=o8(f);a?.disconnect(),g&&a?.observe(g),r(g?e(g):null)},[e,a]),[u,d]=tf(l);return b.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const l8=[{sensor:yv,options:{}},{sensor:mv,options:{}}],c8={current:{}},Ch={draggable:{measure:ob},droppable:{measure:ob,strategy:yu.WhileDragging,frequency:hy.Optimized},dragOverlay:{measure:Dl}};class Gc extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const u8={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Gc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ch,measureDroppableContainers:nf,windowRect:null,measuringScheduled:!1},d8={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nf,draggableNodes:new Map,over:null,measureDroppableContainers:nf},Hf=b.createContext(d8),J2=b.createContext(u8);function h8(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Gc}}}function f8(t,e){switch(e.type){case Ut.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ut.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ut.DragEnd:case Ut.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ut.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Gc(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Ut.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const l=new Gc(t.droppable.containers);return l.set(n,{...a,disabled:s}),{...t,droppable:{...t.droppable,containers:l}}}case Ut.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new Gc(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function p8(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=b.useContext(Hf),a=ly(r),l=ly(n?.id);return b.useEffect(()=>{if(!e&&!r&&a&&l!=null){if(!fv(a)||document.activeElement===a.target)return;const u=s.get(l);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const g of[d.current,f.current]){if(!g)continue;const v=o7(g);if(v){v.focus();break}}})}},[r,e,s,l,a]),null}function m8(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,a)=>a({transform:s,...r}),n):n}function g8(t){return b.useMemo(()=>({draggable:{...Ch.draggable,...t?.draggable},droppable:{...Ch.droppable,...t?.droppable},dragOverlay:{...Ch.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function y8(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const a=b.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;js(()=>{if(!l&&!u||!e){a.current=!1;return}if(a.current||!r)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const g=n(f),v=z2(g,r);if(l||(v.x=0),u||(v.y=0),a.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const _=$2(f);_&&_.scrollBy({top:v.y,left:v.x})}},[e,l,u,r,n])}const Z2=b.createContext({...Yr,scaleX:1,scaleY:1});var Fi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Fi||(Fi={}));const v8=b.memo(function(e){var n,r,s,a;let{id:l,accessibility:u,autoScroll:d=!0,children:f,sensors:g=l8,collisionDetection:v=_7,measuring:_,modifiers:T,...k}=e;const A=b.useReducer(f8,void 0,h8),[I,j]=A,[N,F]=h7(),[W,G]=b.useState(Fi.Uninitialized),q=W===Fi.Initialized,{draggable:{active:R,nodes:C,translate:D},droppable:{containers:L}}=I,O=R!=null?C.get(R):null,z=b.useRef({initial:null,translated:null}),M=b.useMemo(()=>{var Ve;return R!=null?{id:R,data:(Ve=O?.data)!=null?Ve:c8,rect:z}:null},[R,O]),Le=b.useRef(null),[et,fe]=b.useState(null),[se,ee]=b.useState(null),ce=pu(k,Object.values(k)),ae=Uu("DndDescribedBy",l),$=b.useMemo(()=>L.getEnabled(),[L]),J=g8(_),{droppableRects:we,measureDroppableContainers:xe,measuringScheduled:Ne}=Y7($,{dragging:q,dependencies:[D.x,D.y],config:J.droppable}),be=G7(C,R),Oe=b.useMemo(()=>se?cy(se):null,[se]),Pe=Lr(),Me=X7(be,J.draggable.measure);y8({activeNode:R!=null?C.get(R):null,config:Pe.layoutShiftCompensation,initialRect:Me,measure:J.draggable.measure});const De=db(be,J.draggable.measure,Me),dr=db(be?be.parentElement:null),fn=b.useRef({activatorEvent:null,active:null,activeNode:be,collisionRect:null,collisions:null,droppableRects:we,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:L,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Cn=L.getNodeFor((n=fn.current.over)==null?void 0:n.id),pn=a8({measure:J.dragOverlay.measure}),Nr=(r=pn.nodeRef.current)!=null?r:be,Yn=q?(s=pn.rect)!=null?s:De:null,es=!!(pn.nodeRef.current&&pn.rect),di=e8(es?null:De),ut=X2(Nr?Qn(Nr):null),Ze=t8(q?Cn??be:null),mn=i8(Ze),ts=m8(T,{transform:{x:D.x-di.x,y:D.y-di.y,scaleX:1,scaleY:1},activatorEvent:se,active:M,activeNodeRect:De,containerNodeRect:dr,draggingNodeRect:Yn,over:fn.current.over,overlayNodeRect:pn.rect,scrollableAncestors:Ze,scrollableAncestorRects:mn,windowRect:ut}),hi=Oe?ul(Oe,D):null,go=n8(Ze),ns=fb(go),yo=fb(go,[De]),Xn=ul(ts,ns),Rn=Yn?T7(Yn,ts):null,rs=M&&Rn?v({active:M,collisionRect:Rn,droppableRects:we,droppableContainers:$,pointerCoordinates:hi}):null,ss=B2(rs,"id"),[Yt,vo]=b.useState(null),is=es?ts:ul(ts,yo),fi=E7(is,(a=Yt?.rect)!=null?a:null,De),Ms=b.useRef(null),Mn=b.useCallback((Ve,Mt)=>{let{sensor:vt,options:Xt}=Mt;if(Le.current==null)return;const Jt=C.get(Le.current);if(!Jt)return;const zt=Ve.nativeEvent,bt=new vt({active:Le.current,activeNode:Jt,event:zt,options:Xt,context:fn,onAbort(it){if(!C.get(it))return;const{onDragAbort:Vt}=ce.current,Vn={id:it};Vt?.(Vn),N({type:"onDragAbort",event:Vn})},onPending(it,Zt,Vt,Vn){if(!C.get(it))return;const{onDragPending:gn}=ce.current,Pn={id:it,constraint:Zt,initialCoordinates:Vt,offset:Vn};gn?.(Pn),N({type:"onDragPending",event:Pn})},onStart(it){const Zt=Le.current;if(Zt==null)return;const Vt=C.get(Zt);if(!Vt)return;const{onDragStart:Vn}=ce.current,An={activatorEvent:zt,active:{id:Zt,data:Vt.data,rect:z}};Ic.unstable_batchedUpdates(()=>{Vn?.(An),G(Fi.Initializing),j({type:Ut.DragStart,initialCoordinates:it,active:Zt}),N({type:"onDragStart",event:An}),fe(Ms.current),ee(zt)})},onMove(it){j({type:Ut.DragMove,coordinates:it})},onEnd:Mr(Ut.DragEnd),onCancel:Mr(Ut.DragCancel)});Ms.current=bt;function Mr(it){return async function(){const{active:Vt,collisions:Vn,over:An,scrollAdjustedTranslate:gn}=fn.current;let Pn=null;if(Vt&&gn){const{cancelDrop:$t}=ce.current;Pn={activatorEvent:zt,active:Vt,collisions:Vn,delta:gn,over:An},it===Ut.DragEnd&&typeof $t=="function"&&await Promise.resolve($t(Pn))&&(it=Ut.DragCancel)}Le.current=null,Ic.unstable_batchedUpdates(()=>{j({type:it}),G(Fi.Uninitialized),vo(null),fe(null),ee(null),Ms.current=null;const $t=it===Ut.DragEnd?"onDragEnd":"onDragCancel";if(Pn){const gi=ce.current[$t];gi?.(Pn),N({type:$t,event:Pn})}})}}},[C]),pi=b.useCallback((Ve,Mt)=>(vt,Xt)=>{const Jt=vt.nativeEvent,zt=C.get(Xt);if(Le.current!==null||!zt||Jt.dndKit||Jt.defaultPrevented)return;const bt={active:zt};Ve(vt,Mt.options,bt)===!0&&(Jt.dndKit={capturedBy:Mt.sensor},Le.current=Xt,Mn(vt,Mt))},[C,Mn]),Dr=Q7(g,pi);r8(g),js(()=>{De&&W===Fi.Initializing&&G(Fi.Initialized)},[De,W]),b.useEffect(()=>{const{onDragMove:Ve}=ce.current,{active:Mt,activatorEvent:vt,collisions:Xt,over:Jt}=fn.current;if(!Mt||!vt)return;const zt={active:Mt,activatorEvent:vt,collisions:Xt,delta:{x:Xn.x,y:Xn.y},over:Jt};Ic.unstable_batchedUpdates(()=>{Ve?.(zt),N({type:"onDragMove",event:zt})})},[Xn.x,Xn.y]),b.useEffect(()=>{const{active:Ve,activatorEvent:Mt,collisions:vt,droppableContainers:Xt,scrollAdjustedTranslate:Jt}=fn.current;if(!Ve||Le.current==null||!Mt||!Jt)return;const{onDragOver:zt}=ce.current,bt=Xt.get(ss),Mr=bt&&bt.rect.current?{id:bt.id,rect:bt.rect.current,data:bt.data,disabled:bt.disabled}:null,it={active:Ve,activatorEvent:Mt,collisions:vt,delta:{x:Jt.x,y:Jt.y},over:Mr};Ic.unstable_batchedUpdates(()=>{vo(Mr),zt?.(it),N({type:"onDragOver",event:it})})},[ss]),js(()=>{fn.current={activatorEvent:se,active:M,activeNode:be,collisionRect:Rn,collisions:rs,droppableRects:we,draggableNodes:C,draggingNode:Nr,draggingNodeRect:Yn,droppableContainers:L,over:Yt,scrollableAncestors:Ze,scrollAdjustedTranslate:Xn},z.current={initial:Yn,translated:Rn}},[M,be,rs,Rn,C,Nr,Yn,we,L,Yt,Ze,Xn]),q7({...Pe,delta:D,draggingRect:Rn,pointerCoordinates:hi,scrollableAncestors:Ze,scrollableAncestorRects:mn});const mi=b.useMemo(()=>({active:M,activeNode:be,activeNodeRect:De,activatorEvent:se,collisions:rs,containerNodeRect:dr,dragOverlay:pn,draggableNodes:C,droppableContainers:L,droppableRects:we,over:Yt,measureDroppableContainers:xe,scrollableAncestors:Ze,scrollableAncestorRects:mn,measuringConfiguration:J,measuringScheduled:Ne,windowRect:ut}),[M,be,De,se,rs,dr,pn,C,L,we,Yt,xe,Ze,mn,J,Ne,ut]),jr=b.useMemo(()=>({activatorEvent:se,activators:Dr,active:M,activeNodeRect:De,ariaDescribedById:{draggable:ae},dispatch:j,draggableNodes:C,over:Yt,measureDroppableContainers:xe}),[se,Dr,M,De,j,ae,C,Yt,xe]);return ln.createElement(O2.Provider,{value:F},ln.createElement(Hf.Provider,{value:jr},ln.createElement(J2.Provider,{value:mi},ln.createElement(Z2.Provider,{value:fi},f)),ln.createElement(p8,{disabled:u?.restoreFocus===!1})),ln.createElement(m7,{...u,hiddenTextDescribedById:ae}));function Lr(){const Ve=et?.autoScrollEnabled===!1,Mt=typeof d=="object"?d.enabled===!1:d===!1,vt=q&&!Ve&&!Mt;return typeof d=="object"?{...d,enabled:vt}:{enabled:vt}}}),w8=b.createContext(null),mb="button",x8="Draggable";function _8(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const a=Uu(x8),{activators:l,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:g,draggableNodes:v,over:_}=b.useContext(Hf),{role:T=mb,roleDescription:k="draggable",tabIndex:A=0}=s??{},I=d?.id===e,j=b.useContext(I?Z2:w8),[N,F]=tf(),[W,G]=tf(),q=s8(l,e),R=pu(n);js(()=>(v.set(e,{id:e,key:a,node:N,activatorNode:W,data:R}),()=>{const D=v.get(e);D&&D.key===a&&v.delete(e)}),[v,e]);const C=b.useMemo(()=>({role:T,tabIndex:A,"aria-disabled":r,"aria-pressed":I&&T===mb?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[r,T,A,I,k,g.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:C,isDragging:I,listeners:r?void 0:q,node:N,over:_,setNodeRef:F,setActivatorNodeRef:G,transform:j}}function E8(){return b.useContext(J2)}const b8="Droppable",T8={timeout:25};function S8(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const a=Uu(b8),{active:l,dispatch:u,over:d,measureDroppableContainers:f}=b.useContext(Hf),g=b.useRef({disabled:n}),v=b.useRef(!1),_=b.useRef(null),T=b.useRef(null),{disabled:k,updateMeasurementsFor:A,timeout:I}={...T8,...s},j=pu(A??r),N=b.useCallback(()=>{if(!v.current){v.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{f(Array.isArray(j.current)?j.current:[j.current]),T.current=null},I)},[I]),F=qf({callback:N,disabled:k||!l}),W=b.useCallback((C,D)=>{F&&(D&&(F.unobserve(D),v.current=!1),C&&F.observe(C))},[F]),[G,q]=tf(W),R=pu(e);return b.useEffect(()=>{!F||!G.current||(F.disconnect(),v.current=!1,F.observe(G.current))},[G,F]),b.useEffect(()=>(u({type:Ut.RegisterDroppable,element:{id:r,key:a,disabled:n,node:G,rect:_,data:R}}),()=>u({type:Ut.UnregisterDroppable,key:a,id:r})),[r]),b.useEffect(()=>{n!==g.current.disabled&&(u({type:Ut.SetDroppableDisabled,id:r,key:a,disabled:n}),g.current.disabled=n)},[r,a,n,u]),{active:l,rect:_,isOver:d?.id===r,node:G,over:d,setNodeRef:q}}function vv(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function I8(t,e){return t.reduce((n,r,s)=>{const a=e.get(r);return a&&(n[s]=a),n},Array(t.length))}function lh(t){return t!==null&&t>=0}function C8(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function R8(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const eR=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const a=vv(e,r,n),l=e[s],u=a[s];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},ch={scaleX:1,scaleY:1},A8=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:l}=t;const u=(e=a[n])!=null?e:r;if(!u)return null;if(s===n){const f=a[l];return f?{x:0,y:n<l?f.top+f.height-(u.top+u.height):f.top-u.top,...ch}:null}const d=P8(a,s,n);return s>n&&s<=l?{x:0,y:-u.height-d,...ch}:s<n&&s>=l?{x:0,y:u.height+d,...ch}:{x:0,y:0,...ch}};function P8(t,e,n){const r=t[e],s=t[e-1],a=t[e+1];return r?n<e?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const tR="Sortable",nR=ln.createContext({activeIndex:-1,containerId:tR,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:eR,disabled:{draggable:!1,droppable:!1}});function k8(t){let{children:e,id:n,items:r,strategy:s=eR,disabled:a=!1}=t;const{active:l,dragOverlay:u,droppableRects:d,over:f,measureDroppableContainers:g}=E8(),v=Uu(tR,n),_=u.rect!==null,T=b.useMemo(()=>r.map(q=>typeof q=="object"&&"id"in q?q.id:q),[r]),k=l!=null,A=l?T.indexOf(l.id):-1,I=f?T.indexOf(f.id):-1,j=b.useRef(T),N=!C8(T,j.current),F=I!==-1&&A===-1||N,W=R8(a);js(()=>{N&&k&&g(T)},[N,T,k,g]),b.useEffect(()=>{j.current=T},[T]);const G=b.useMemo(()=>({activeIndex:A,containerId:v,disabled:W,disableTransforms:F,items:T,overIndex:I,useDragOverlay:_,sortedRects:I8(T,d),strategy:s}),[A,v,W.draggable,W.droppable,F,T,I,d,_,s]);return ln.createElement(nR.Provider,{value:G},e)}const N8=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return vv(n,r,s).indexOf(e)},D8=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:a,newIndex:l,previousItems:u,previousContainerId:d,transition:f}=t;return!f||!r||u!==a&&s===l?!1:n?!0:l!==s&&e===d},j8={duration:200,easing:"ease"},rR="transform",L8=gu.Transition.toString({property:rR,duration:0,easing:"linear"}),M8={roleDescription:"sortable"};function V8(t){let{disabled:e,index:n,node:r,rect:s}=t;const[a,l]=b.useState(null),u=b.useRef(n);return js(()=>{if(!e&&n!==u.current&&r.current){const d=s.current;if(d){const f=Dl(r.current,{ignoreTransform:!0}),g={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(g.x||g.y)&&l(g)}}n!==u.current&&(u.current=n)},[e,n,r,s]),b.useEffect(()=>{a&&l(null)},[a]),a}function O8(t){let{animateLayoutChanges:e=D8,attributes:n,disabled:r,data:s,getNewIndex:a=N8,id:l,strategy:u,resizeObserverConfig:d,transition:f=j8}=t;const{items:g,containerId:v,activeIndex:_,disabled:T,disableTransforms:k,sortedRects:A,overIndex:I,useDragOverlay:j,strategy:N}=b.useContext(nR),F=F8(r,T),W=g.indexOf(l),G=b.useMemo(()=>({sortable:{containerId:v,index:W,items:g},...s}),[v,s,W,g]),q=b.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:R,node:C,isOver:D,setNodeRef:L}=S8({id:l,data:G,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:q,...d}}),{active:O,activatorEvent:z,activeNodeRect:M,attributes:Le,setNodeRef:et,listeners:fe,isDragging:se,over:ee,setActivatorNodeRef:ce,transform:ae}=_8({id:l,data:G,attributes:{...M8,...n},disabled:F.draggable}),$=n7(L,et),J=!!O,we=J&&!k&&lh(_)&&lh(I),xe=!j&&se,Ne=xe&&we?ae:null,Oe=we?Ne??(u??N)({rects:A,activeNodeRect:M,activeIndex:_,overIndex:I,index:W}):null,Pe=lh(_)&&lh(I)?a({id:l,items:g,activeIndex:_,overIndex:I}):W,Me=O?.id,De=b.useRef({activeId:Me,items:g,newIndex:Pe,containerId:v}),dr=g!==De.current.items,fn=e({active:O,containerId:v,isDragging:se,isSorting:J,id:l,index:W,items:g,newIndex:De.current.newIndex,previousItems:De.current.items,previousContainerId:De.current.containerId,transition:f,wasDragging:De.current.activeId!=null}),Cn=V8({disabled:!fn,index:W,node:C,rect:R});return b.useEffect(()=>{J&&De.current.newIndex!==Pe&&(De.current.newIndex=Pe),v!==De.current.containerId&&(De.current.containerId=v),g!==De.current.items&&(De.current.items=g)},[J,Pe,v,g]),b.useEffect(()=>{if(Me===De.current.activeId)return;if(Me!=null&&De.current.activeId==null){De.current.activeId=Me;return}const Nr=setTimeout(()=>{De.current.activeId=Me},50);return()=>clearTimeout(Nr)},[Me]),{active:O,activeIndex:_,attributes:Le,data:G,rect:R,index:W,newIndex:Pe,items:g,isOver:D,isSorting:J,isDragging:se,listeners:fe,node:C,overIndex:I,over:ee,setNodeRef:$,setActivatorNodeRef:ce,setDroppableNodeRef:L,setDraggableNodeRef:et,transform:Cn??Oe,transition:pn()};function pn(){if(Cn||dr&&De.current.newIndex===W)return L8;if(!(xe&&!fv(z)||!f)&&(J||fn))return gu.Transition.toString({...f,property:rR})}}function F8(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function sf(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const U8=[qe.Down,qe.Right,qe.Up,qe.Left],B8=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:a,over:l,scrollableAncestors:u}}=e;if(U8.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];a.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const _=s.get(v.id);if(_)switch(t.code){case qe.Down:r.top<_.top&&d.push(v);break;case qe.Up:r.top>_.top&&d.push(v);break;case qe.Left:r.left>_.left&&d.push(v);break;case qe.Right:r.left<_.left&&d.push(v);break}});const f=w7({collisionRect:r,droppableRects:s,droppableContainers:d});let g=B2(f,"id");if(g===l?.id&&f.length>1&&(g=f[1].id),g!=null){const v=a.get(n.id),_=a.get(g),T=_?s.get(_.id):null,k=_?.node.current;if(k&&T&&v&&_){const I=Wf(k).some((q,R)=>u[R]!==q),j=sR(v,_),N=z8(v,_),F=I||!j?{x:0,y:0}:{x:N?r.width-T.width:0,y:N?r.height-T.height:0},W={x:T.left,y:T.top};return F.x&&F.y?W:mu(W,F)}}}};function sR(t,e){return!sf(t)||!sf(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function z8(t,e){return!sf(t)||!sf(e)||!sR(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const $8=({id:t,skill:e,isOwnProfile:n,onRemove:r})=>{const{attributes:s,listeners:a,setNodeRef:l,transform:u,transition:d,isDragging:f}=O8({id:t}),g={transform:gu.Transform.toString(u),transition:d,zIndex:f?50:"auto"};return m.jsxs("div",{ref:l,style:g,className:`flex items-center justify-between gap-3 px-4 py-2 bg-white rounded-xl border border-gray-100 shadow-sm group ${f?"shadow-lg ring-2 ring-blue-100":""}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[n&&m.jsx("button",{...s,...a,className:"cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),m.jsx("span",{className:"text-sm font-bold text-gray-700",children:e})]}),n&&m.jsx("button",{onClick:()=>r(e),className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-500",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})},W8=["React","TypeScript","Next.js","Node.js","Python","Java","UI/UX Design","Figma","Firebase","AWS","Docker","Kubernetes","Go","Rust","Tailwind CSS"],q8=({skills:t,isOwnProfile:e,onUpdate:n})=>{const[r,s]=b.useState(""),[a,l]=b.useState(!1),u=g7(rb(yv),rb(mv,{coordinateGetter:B8})),d=_=>{const{active:T,over:k}=_;if(k&&T.id!==k.id){const A=t.indexOf(T.id),I=t.indexOf(k.id);n(vv(t,A,I))}},f=_=>{const T=_.trim();T&&!t.includes(T)&&n([...t,T]),s(""),l(!1)},g=_=>{n(t.filter(T=>T!==_))},v=W8.filter(_=>_.toLowerCase().includes(r.toLowerCase())&&!t.includes(_));return m.jsxs("div",{className:"space-y-6",children:[m.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-6 uppercase tracking-widest text-center",children:"Tech Stack"}),e&&m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:r,onChange:_=>{s(_.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:_=>{_.key==="Enter"&&f(r)},className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium text-sm",placeholder:"Add a skill (e.g. Docker)..."}),a&&r&&v.length>0&&m.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:v.map(_=>m.jsx("button",{onClick:()=>f(_),className:"w-full text-left px-5 py-3 hover:bg-gray-50 text-sm font-medium text-gray-700 transition-colors",children:_},_))})]}),m.jsx(v8,{sensors:u,collisionDetection:v7,onDragEnd:d,children:m.jsx("div",{className:"grid grid-cols-1 gap-3",children:m.jsx(k8,{items:t,strategy:A8,children:t.map(_=>m.jsx($8,{id:_,skill:_,isOwnProfile:e,onRemove:g},_))})})}),t.length===0&&m.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:m.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"No skills added yet."})})]})},H8=({onActionComplete:t})=>{const[e,n]=b.useState([]),[r,s]=b.useState(!0),a=async()=>{s(!0);try{const d=await RU(),f=await Promise.all(d.map(async g=>{const v=await Ds(Lt($e,"users",g.requesterId));if(v.exists()){const _=v.data();return{...g,requesterName:_.name,requesterAvatar:_.avatar}}return g}));n(f)}catch(d){console.error("Error loading incoming requests:",d)}finally{s(!1)}};b.useEffect(()=>{a()},[]);const l=async d=>{try{await SU(d),n(f=>f.filter(g=>g.id!==d)),t()}catch(f){console.error("Error accepting request:",f)}},u=async d=>{try{await IU(d),n(f=>f.filter(g=>g.id!==d)),t()}catch(f){console.error("Error ignoring request:",f)}};return r||e.length===0?null:m.jsxs(Te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 mb-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsxs("h3",{className:"text-xl font-black text-[#0f172a] flex items-center gap-3",children:[m.jsx("span",{className:"w-1.5 h-6 bg-green-500 rounded-full"}),"Incoming Requests",m.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-600 text-[10px] rounded-md",children:e.length})]})}),m.jsx("div",{className:"space-y-4",children:e.map(d=>m.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50/50 border border-gray-100 flex flex-col md:flex-row gap-4 items-center md:items-center",children:[m.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:m.jsx("img",{src:d.requesterAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${d.requesterId}`,alt:"",className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"flex-grow text-center md:text-left",children:[m.jsx("h4",{className:"font-bold text-gray-900",children:d.requesterName||"Anonymous Student"}),d.note&&m.jsxs("p",{className:"text-sm text-gray-500 italic mt-1 line-clamp-2",children:['"',d.note,'"']})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>u(d.id),className:"px-4 py-2 text-xs font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:"Ignore"}),m.jsx("button",{onClick:()=>l(d.id),className:"px-6 py-2 text-xs font-bold bg-[#0066FF] text-white rounded-xl shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-all",children:"Accept"})]})]},d.id))})]})},gb=()=>{const t=Ls(),{userId:e}=Ib(),[n,r]=b.useState(!0),[s,a]=b.useState(null),[l,u]=b.useState(!1),[d,f]=b.useState(0),[g,v]=b.useState("none"),[_,T]=b.useState(!1),[k,A]=b.useState([]),[I,j]=b.useState(!1),[N,F]=b.useState(null),[W,G]=b.useState(""),[q,R]=b.useState(!1),[C,D]=b.useState(!1),[L,O]=b.useState("");ln.useEffect(()=>{(async()=>{try{const se=Ye.currentUser;if(!se){t("/login");return}const ee=e||se.uid;u(ee===se.uid);const ce=Lt($e,"users",ee),ae=await Ds(ce);if(ae.exists()){const we=ae.data();if(a(we),ee!==se.uid){const xe=hn($e,"connections"),Ne=ur(xe,un("requesterId","==",se.uid),un("recipientId","==",ee)),be=ur(xe,un("requesterId","==",ee),un("recipientId","==",se.uid)),[Oe,Pe]=await Promise.all([Pr(Ne),Pr(be)]);if(Oe.empty){if(!Pe.empty){const Me=Pe.docs[0].data().status;v(Me==="accepted"?"connected":"received")}}else{const Me=Oe.docs[0].data().status;v(Me==="accepted"?"connected":"pending")}}}else e||t("/onboarding");const $=await HE(ee);A($);const J=await qE(ee);f(J)}catch(se){console.error("Error fetching user data:",se)}finally{r(!1)}})()},[t,e]);const z=async()=>{const fe=e||s?.uid;if(!(!Ye.currentUser||!fe)){if(!C){D(!0);return}T(!0);try{await j2(fe,L),v("pending"),D(!1),O("")}catch(se){const ee=se;console.error("Error sending connection request:",ee),alert(ee.message)}finally{T(!1)}}},M=async fe=>{if(fe.preventDefault(),!Ye.currentUser||!N)return;const se=W.split(",").map(ce=>ce.trim()).filter(ce=>ce!=="");if(se.length===0){alert("Please add at least one technology to the Tech Stack.");return}const ee={...N,techStack:se};R(!0);try{N.id?await kU(N.id,ee):await PU(Ye.currentUser.uid,ee);const ce=await HE(s?.uid||Ye.currentUser.uid);A(ce),j(!1),F(null)}catch(ce){console.error("Error saving project:",ce),alert("Failed to save project.")}finally{R(!1)}},Le=async fe=>{if(window.confirm("Are you sure you want to delete this project?"))try{await NU(fe),A(se=>se.filter(ee=>ee.id!==fe))}catch(se){console.error("Error deleting project:",se),alert("Failed to delete project.")}},et=async fe=>{if(!(!Ye.currentUser||!s))try{const se=Lt($e,"users",s.uid||Ye.currentUser.uid);await Du(se,{skills:fe}),a(ee=>ee?{...ee,skills:fe}:null)}catch(se){console.error("Error updating skills:",se),alert("Failed to update skills.")}};return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC]",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0066FF]"}),m.jsx("p",{className:"text-gray-500 font-medium text-sm animate-pulse",children:"Loading..."})]})}):s?m.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[m.jsxs("div",{className:"relative h-44 md:h-80 w-full overflow-hidden",style:{transform:"translateZ(0)"},children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0066FF] via-[#5865F2] to-[#7000FF] opacity-90"}),m.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20",style:{transform:"translateZ(0)"}}),m.jsx(Te.div,{animate:{scale:[1,1.1,1],opacity:[.1,.15,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{willChange:"transform, opacity",backfaceVisibility:"hidden"},className:"absolute top-[-10%] right-[-5%] w-64 h-64 bg-white/10 rounded-full blur-3xl pointer-events-none"}),m.jsx(Te.div,{animate:{y:[0,20,0],opacity:[.2,.25,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{willChange:"transform, opacity",backfaceVisibility:"hidden"},className:"absolute bottom-[-5%] left-[5%] w-48 h-48 bg-blue-400/20 rounded-full blur-2xl pointer-events-none"})]}),m.jsx("div",{className:"container-custom mx-auto px-4 -mt-24 md:-mt-40 relative z-10",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l&&m.jsx(H8,{onActionComplete:async()=>{if(s?.uid){const fe=await qE(s.uid);f(fe)}}}),m.jsx(Te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 overflow-hidden",children:m.jsx("div",{className:"p-8 md:p-10",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-end text-center md:text-left",children:[m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#0066FF] to-[#00E0FF] rounded-full blur-md opacity-20 group-hover:opacity-40 transition-opacity"}),l?m.jsx(t7,{userId:Ye.currentUser?.uid||"",currentAvatar:s.avatar,onUploadComplete:fe=>a(se=>se?{...se,avatar:fe}:null)}):m.jsx("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:m.jsx("img",{src:s.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.name}`,alt:s.name,className:"w-full h-full object-cover"})})]}),m.jsxs("div",{className:"flex-grow",children:[m.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-[#0f172a] tracking-tight",children:s.name}),s.isAdmin&&m.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-[#0066FF] text-[10px] font-black uppercase rounded-md border border-blue-200",children:"Admin"})]}),m.jsx("p",{className:"text-blue-600 font-semibold text-xl mb-4",children:s.role}),m.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-y-3 gap-x-6 text-sm text-gray-500 font-medium",children:[m.jsxs("span",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-lg border border-gray-100",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-[#0066FF]",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),s.institution]}),m.jsxs("div",{className:"flex items-center gap-2 text-[#0066FF] font-bold text-sm bg-blue-50 px-4 py-1.5 rounded-full",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),d," connections"]})]})]}),m.jsx("div",{className:"flex gap-3 w-full md:w-auto mt-6 md:mt-0",children:l?m.jsx("button",{onClick:()=>t("/onboarding"),className:"flex-1 md:flex-none px-8 py-3 bg-[#0066FF] text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-500/20 hover:scale-[1.02] active:scale-[0.98]",children:"Edit Profile"}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:z,disabled:g!=="none"||_,className:`flex-1 md:flex-none px-8 py-3 rounded-2xl font-bold text-sm transition-all shadow-xl ${g==="none"?"bg-[#0066FF] text-white hover:bg-blue-700 shadow-blue-500/20 hover:scale-[1.02]":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:_?"...":g==="pending"?"Pending":g==="connected"?"Connected":g==="received"?"Accept Request":"Connect"}),m.jsx("button",{className:"flex-1 md:flex-none px-6 py-3 border-2 border-gray-100 text-[#0f172a] rounded-2xl font-bold text-sm hover:bg-gray-50 transition-all",children:"Message"})]})})]})})}),m.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[m.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] mb-6 flex items-center gap-3",children:[m.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"About"]}),m.jsx("p",{className:"text-gray-600 leading-relaxed text-lg whitespace-pre-wrap",children:s.bio||"Building Scalable Products that solve modern problems."})]}),m.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[m.jsxs("div",{className:"flex justify-between items-center mb-10",children:[m.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] flex items-center gap-3",children:[m.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"Featured Projects"]}),m.jsxs("div",{className:"flex gap-2",children:[l&&m.jsx("button",{onClick:()=>{F({title:"",description:"",role:"",techStack:[],duration:"",githubUrl:"",liveUrl:""}),G(""),j(!0)},className:"px-4 py-2 bg-blue-50 text-[#0066FF] text-sm font-bold rounded-xl hover:bg-blue-100 transition-all",children:"+ Add Project"}),m.jsx("button",{className:"px-4 py-2 text-sm text-[#0066FF] font-bold hover:bg-blue-50 rounded-xl transition-all border border-transparent hover:border-blue-100",children:"View All"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.length>0?k.map(fe=>m.jsxs("div",{className:"p-6 rounded-2xl border border-gray-100 hover:border-[#0066FF]/30 hover:bg-[#0066FF]/[0.02] transition-all cursor-pointer group flex flex-col h-full relative",children:[l&&m.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:se=>{se.stopPropagation(),F(fe),G(fe.techStack?.join(", ")||""),j(!0)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-blue-600",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})}),m.jsx("button",{onClick:se=>{se.stopPropagation(),Le(fe.id)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-red-600",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]}),m.jsx("h4",{className:"font-bold text-xl text-[#0f172a] group-hover:text-[#0066FF] mb-1 transition-colors",children:fe.title}),m.jsx("p",{className:"text-blue-600 text-xs font-bold mb-3",children:fe.role}),m.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-3 leading-relaxed flex-grow",children:fe.description}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex flex-wrap gap-2",children:fe.techStack?.slice(0,3).map(se=>m.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-600 rounded text-[10px] font-bold border border-gray-100 uppercase",children:se},se))}),m.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:fe.duration})]})]},fe.id)):m.jsxs("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:[m.jsx("p",{className:"text-gray-400 font-medium",children:"No projects added yet."}),l&&m.jsx("p",{className:"text-sm text-blue-500 mt-2 cursor-pointer hover:underline",onClick:()=>j(!0),children:"Add your first project"})]})})]})]}),m.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[m.jsxs(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",style:{willChange:"transform"},children:[m.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-8 uppercase tracking-widest text-center",children:"Social Links"}),m.jsxs("div",{className:"space-y-4",children:[s.socials?.linkedin?m.jsxs("a",{href:s.socials.linkedin.startsWith("http")?s.socials.linkedin:`https://${s.socials.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-4 rounded-2xl bg-white border border-gray-100 hover:border-[#0077b5] hover:bg-blue-50/10 transition-all shadow-sm",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#0077b5]/10 text-[#0077b5] flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),m.jsx("span",{className:"font-bold text-sm text-[#0f172a]",children:"LinkedIn"})]}):m.jsx("div",{className:"p-4 rounded-2xl border-2 border-dashed border-gray-100 flex items-center justify-center text-gray-300 text-xs font-bold uppercase tracking-widest",children:"LinkedNot Found"}),s.socials?.github?m.jsxs("a",{href:s.socials.github.startsWith("http")?s.socials.github:`https://${s.socials.github}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-4 rounded-2xl bg-white border border-gray-100 hover:border-black hover:bg-gray-50 transition-all shadow-sm",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 text-black flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})})}),m.jsx("span",{className:"font-bold text-sm text-[#0f172a]",children:"GitHub"})]}):m.jsx("div",{className:"p-4 rounded-2xl border-2 border-dashed border-gray-100 flex items-center justify-center text-gray-300 text-xs font-bold uppercase tracking-widest",children:"No Commits Yet"}),s.socials?.twitter?m.jsxs("a",{href:s.socials.twitter.startsWith("http")?s.socials.twitter:`https://${s.socials.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-4 rounded-2xl bg-white border border-gray-100 hover:border-[#1DA1F2] hover:bg-[#1DA1F2]/[0.02] transition-all shadow-sm",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1DA1F2]/10 text-[#1DA1F2] flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M22 4.01c-.78.35-1.63.58-2.52.7a4.41 4.41 0 0 0 1.93-2.43 8.78 8.78 0 0 1-2.79 1.07 4.39 4.39 0 0 0-7.49 4c-3.66-.18-6.9-1.94-9.08-4.6a4.39 4.39 0 0 0 1.36 5.85 4.38 4.38 0 0 1-1.99-.55v.06a4.4 4.4 0 0 0 3.51 4.3 4.38 4.38 0 0 1-1.97.07 4.4 4.4 0 0 0 4.1 3.05 8.79 8.79 0 0 1-5.46 1.88c-.35 0-.7-.02-1.05-.06a12.42 12.42 0 0 0 6.72 1.97c8.06 0 12.48-6.68 12.48-12.48 0-.19 0-.38-.01-.57A8.92 8.92 0 0 0 22 4.01z"})})}),m.jsx("span",{className:"font-bold text-sm text-[#0f172a]",children:"Twitter / X"})]}):m.jsx("div",{className:"p-4 rounded-2xl border-2 border-dashed border-gray-100 flex items-center justify-center text-gray-300 text-xs font-bold uppercase tracking-widest",children:"Not on X"})]})]}),m.jsx(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",children:m.jsx(q8,{skills:s.skills||[],isOwnProfile:l,onUpdate:et})}),m.jsxs(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-[#0066FF] rounded-3xl shadow-xl shadow-blue-900/20 p-8 text-white text-center",children:[m.jsx("h3",{className:"font-black text-xl mb-8 uppercase tracking-widest",children:"Network"}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[m.jsx("div",{className:"absolute left-1/2 top-4 bottom-4 w-px bg-white/20 -translate-x-1/2"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-black text-4xl mb-1 tabular-nums",children:s.stats?.followers||0}),m.jsx("p",{className:"text-[10px] text-white/60 font-black uppercase tracking-widest",children:"Founders"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"font-black text-4xl mb-1 tabular-nums",children:s.stats?.projects||0}),m.jsx("p",{className:"text-[10px] text-white/60 font-black uppercase tracking-widest",children:"Collabs"})]})]}),!l&&m.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10",children:[m.jsx("p",{className:"text-xs font-bold text-white/80 mb-4 uppercase tracking-tighter",children:"Mutual Connections"}),m.jsxs("div",{className:"flex justify-center -space-x-3",children:[[1,2,3,4].map(fe=>m.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-[#0066FF] bg-white overflow-hidden shadow-lg relative z-[10-i]",children:m.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=friend${fe+s.uid}`,alt:"",className:"w-full h-full object-cover"})},fe)),m.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-[#0066FF] bg-blue-400 flex items-center justify-center text-[10px] font-black shadow-lg relative z-0",children:["+",Math.floor(Math.random()*20)+5]})]})]})]})]})]})}),m.jsx(la,{children:I&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[m.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>j(!1),className:"absolute inset-0 bg-black/70"}),m.jsxs(Te.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl bg-white rounded-3xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[m.jsx("h3",{className:"text-2xl font-black text-[#0f172a]",children:N?.id?"Edit Project":"Add New Project"}),m.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-200 rounded-xl transition-colors text-gray-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("form",{onSubmit:M,className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Project Title"}),m.jsx("input",{required:!0,type:"text",value:N?.title||"",onChange:fe=>F(se=>({...se,title:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. CollabX Networking Module"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Your Role"}),m.jsx("input",{required:!0,type:"text",value:N?.role||"",onChange:fe=>F(se=>({...se,role:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. Lead Designer"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Duration"}),m.jsx("input",{required:!0,type:"text",value:N?.duration||"",onChange:fe=>F(se=>({...se,duration:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. 3 Months"})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Description"}),m.jsx("textarea",{required:!0,rows:4,value:N?.description||"",onChange:fe=>F(se=>({...se,description:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium resize-none",placeholder:"Tell us about the project goal and your impact..."})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Tech Stack (Comma Separated)"}),m.jsx("input",{required:!0,type:"text",value:W,onChange:fe=>G(fe.target.value),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. React, Firebase, Tailwind"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"GitHub URL"}),m.jsx("input",{required:!0,type:"url",value:N?.githubUrl||"",onChange:fe=>F(se=>({...se,githubUrl:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"https://github.com/..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Live Demo URL"}),m.jsx("input",{required:!0,type:"url",value:N?.liveUrl||"",onChange:fe=>F(se=>({...se,liveUrl:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"https://collabx.app/..."})]})]}),m.jsxs("div",{className:"flex gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-8 py-4 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:q,className:"flex-[2] px-8 py-4 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:q?"Saving...":N?.id?"Update Project":"Add Project"})]})]})]})]})}),m.jsx(la,{children:C&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[m.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>D(!1),className:"absolute inset-0 bg-[#0f172a]/60"}),m.jsxs(Te.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-8 border-b border-gray-100 bg-gray-50/50",children:[m.jsx("h3",{className:"text-xl font-black text-[#0f172a]",children:"Send Connection Request"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"LinkedIn-style personalized note (optional)"})]}),m.jsxs("div",{className:"p-8 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Message (Max 300 chars)"}),m.jsx("textarea",{rows:4,maxLength:300,value:L,onChange:fe=>O(fe.target.value),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium resize-none",placeholder:"Hi! I saw your project and would love to connect..."}),m.jsx("div",{className:"flex justify-end mt-2",children:m.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[L.length,"/300"]})})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:()=>D(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),m.jsx("button",{onClick:z,disabled:_,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:_?"Sending...":"Send Request"})]})]})]})]})})]}):null};function K8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const G8=b.forwardRef(K8);function Q8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Y8=b.forwardRef(Q8);function X8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const J8=b.forwardRef(X8);function Z8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const eB=b.forwardRef(Z8),tB=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=b.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=a=>{const{name:l,value:u,type:d,checked:f}=a.target;n(g=>({...g,[l]:d==="checkbox"?f:u}))},s=a=>{a.preventDefault(),console.log("Form submitted:",e)};return m.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[m.jsx(on,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),m.jsx("span",{children:""}),m.jsx("span",{className:"text-gray-900",children:"Executive Education"}),m.jsx("span",{children:""}),m.jsx("span",{className:"text-gray-400",children:t.title})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[m.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[m.jsx("div",{className:"flex items-center gap-4 mb-4",children:m.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:m.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),m.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),m.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),m.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(eB,{className:"w-6 h-6 text-[#5865F2] mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),m.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Y8,{className:"w-6 h-6 text-[#5865F2] mt-1"}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(G8,{className:"w-6 h-6 text-[#5865F2] mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),m.jsxs(Te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[m.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[m.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((a,l)=>m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:a.value}),m.jsx("p",{className:"text-gray-600 font-medium",children:a.label}),m.jsx("p",{className:"text-xs text-gray-400 mt-2",children:a.source})]},l))]})]}),m.jsxs(Te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),m.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),m.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((a,l)=>m.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[m.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:a.title}),m.jsx(J8,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),m.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),m.jsx("div",{className:"lg:col-span-1",children:m.jsx("div",{className:"sticky top-24",children:m.jsxs(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[m.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),m.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),m.jsxs("form",{onSubmit:s,className:"space-y-4",children:[m.jsx("div",{children:m.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),m.jsx("div",{children:m.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),m.jsx("div",{children:m.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),m.jsxs("div",{className:"space-y-3 pt-2",children:[m.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(a=>({...a,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(a=>({...a,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),m.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},nB=()=>{const{resourceId:t}=Ib(),e=Ls(),n=()=>[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},s=n(),a=r(t||"");return m.jsxs("div",{className:"min-h-screen bg-white",children:[m.jsx(D2,{}),m.jsx("main",{className:"pt-32 pb-20 px-6",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs(Te.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[m.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),m.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:a}),m.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,u)=>m.jsxs(Te.div,{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-purple-100 hover:shadow-xl hover:shadow-purple-500/5 transition-all duration-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:l.type}),m.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),m.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#5865F2] transition-colors",children:l.title}),m.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:l.description}),m.jsxs("a",{href:l.url,className:"inline-flex items-center text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors text-sm",onClick:d=>d.preventDefault(),children:["Access Resource ",m.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]},l.id))})]})})]})},rB=()=>{const t=Ls(),[e,n]=b.useState(!0),[r,s]=b.useState(""),[a,l]=b.useState(""),[u,d]=b.useState(!1),[f,g]=b.useState(""),[v,_]=b.useState(""),T=async()=>{try{const I=(await JT(Ye,ZI)).user,j=Lt($e,"users",I.uid);(await Ds(j)).exists()?t("/"):t("/onboarding")}catch(A){A instanceof Error?g(A.message):g("An unexpected error occurred")}},k=async A=>{A.preventDefault(),d(!0),g(""),_("");try{if(e){const I=await BT(Ye,r,a),j=Lt($e,"users",I.user.uid);(await Ds(j)).exists()?t("/"):t("/onboarding")}else await UT(Ye,r,a),t("/onboarding")}catch(I){I instanceof Error?g(I.message):g("An unexpected error occurred")}finally{d(!1)}};return m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),m.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),m.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),m.jsxs(Te.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:T,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[m.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),m.jsx("span",{children:"Continue with Google"})]}),m.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[m.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),m.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),m.jsxs("form",{onSubmit:k,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),m.jsx("input",{type:"email",required:!0,value:r,onChange:A=>s(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),m.jsx("input",{type:"password",required:!0,value:a,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),m.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),m.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),m.jsxs(la,{children:[f&&m.jsx(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:f}),v&&m.jsx(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:v})]}),m.jsx(Te.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:u,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Processing...":e?"Sign in":"Sign up"})]}),m.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:m.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",m.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},sB=()=>{const t=Ls(),[e,n]=b.useState(!1),[r,s]=b.useState(""),[a,l]=b.useState(""),[u,d]=b.useState(""),[f,g]=b.useState(""),[v,_]=b.useState(""),[T,k]=b.useState([]),[A,I]=b.useState(""),[j,N]=b.useState("");ln.useEffect(()=>{(async()=>{const R=Ye.currentUser;if(R){const C=Lt($e,"users",R.uid),D=await Ds(C);if(D.exists()){const L=D.data();s(L.name||""),l(L.role||""),d(L.institution||""),g(L.bio||""),k(L.skills||[]),I(L.socials?.github||""),N(L.socials?.linkedin||"")}}})()},[]);const F=q=>{q.key==="Enter"&&v.trim()&&(q.preventDefault(),T.length<5&&!T.includes(v.trim())&&(k([...T,v.trim()]),_("")))},W=q=>{k(T.filter(R=>R!==q))},G=async q=>{q.preventDefault(),n(!0);try{const R=Ye.currentUser;if(!R)throw new Error("No user logged in");await LI(Lt($e,"users",R.uid),{name:r,role:a,institution:u,bio:f,skills:T,socials:{github:A,linkedin:j},stats:{projects:0,stars:0,followers:0,following:0},avatar:R.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:R.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(R){console.error("Error saving profile:",R),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return m.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:m.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),m.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),m.jsxs("form",{onSubmit:G,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),m.jsx("input",{type:"text",required:!0,value:r,onChange:q=>s(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),m.jsx("input",{type:"text",required:!0,value:a,onChange:q=>l(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),m.jsx("input",{type:"text",required:!0,value:u,onChange:q=>d(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),m.jsx("textarea",{required:!0,value:f,onChange:q=>g(q.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",m.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:T.map(q=>m.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[q,m.jsx("button",{type:"button",onClick:()=>W(q),className:"hover:text-red-500",children:""})]},q))}),m.jsx("input",{type:"text",value:v,onChange:q=>_(q.target.value),onKeyDown:F,disabled:T.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:T.length>=5?"Max skills reached":"Type skill and press Enter"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),m.jsx("input",{type:"text",value:A,onChange:q=>I(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),m.jsx("input",{type:"text",value:j,onChange:q=>N(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),m.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},iB=({onSearchChange:t,onFilterChange:e,onSortChange:n})=>m.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-8",children:m.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[m.jsx("div",{className:"flex-grow",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Search by name, headline, or skill...",onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF] transition-all text-sm"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})]})}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("select",{onChange:r=>e("institution",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[m.jsx("option",{value:"",children:"University (All)"}),m.jsx("option",{value:"IIT Bombay",children:"IIT Bombay"})]}),m.jsxs("select",{onChange:r=>e("role",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[m.jsx("option",{value:"",children:"Role (All)"}),m.jsx("option",{value:"Frontend",children:"Frontend"}),m.jsx("option",{value:"Backend",children:"Backend"}),m.jsx("option",{value:"Fullstack",children:"Fullstack"}),m.jsx("option",{value:"Designer",children:"Designer"}),m.jsx("option",{value:"Researcher",children:"Researcher"})]}),m.jsxs("select",{onChange:r=>n(r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[m.jsx("option",{value:"recent",children:"Recently Active"}),m.jsx("option",{value:"connections",children:"Most Connections"}),m.jsx("option",{value:"university",children:"Same University"})]})]})]})}),oB=()=>{const t=Ls(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState(""),[u,d]=b.useState({institution:"",role:""}),[f,g]=b.useState("recent"),[v,_]=b.useState(null);b.useEffect(()=>{(async()=>{try{const I=Ye.currentUser;if(I){const F=Lt($e,"users",I.uid),W=await Ds(F);W.exists()&&_(W.data())}const j=await Pr(hn($e,"users")),N=[];j.forEach(F=>{const W=F.data();F.id!==I?.uid&&N.push({...W,uid:F.id})}),n(N)}catch(I){console.error("Error fetching students:",I)}finally{s(!1)}})()},[]);const T=b.useMemo(()=>e.filter(A=>{const I=a.toLowerCase(),j=A.name.toLowerCase().includes(I)||A.role.toLowerCase().includes(I)||A.headline&&A.headline.toLowerCase().includes(I)||A.skills?.some(W=>W.toLowerCase().includes(I)),N=!u.institution||A.institution===u.institution,F=!u.role||A.role.toLowerCase().includes(u.role.toLowerCase());return j&&N&&F}).sort((A,I)=>{if(f==="connections")return(I.connectionCount||0)-(A.connectionCount||0);if(f==="university"&&v?.institution){const j=A.institution===v.institution?1:0;return(I.institution===v.institution?1:0)-j}return 0}),[e,a,u,f,v]),k=()=>m.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm p-4 h-[320px] animate-pulse",children:[m.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 mx-auto mb-4 mt-8"}),m.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mx-auto mb-2"}),m.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2 mx-auto mb-4"}),m.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto mb-6"}),m.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-full"})]});return m.jsx("div",{className:"min-h-screen bg-[#F8FAFC] pt-24 pb-20",children:m.jsxs("div",{className:"container-custom mx-auto px-4",children:[m.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-10",children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[#0f172a] mb-4",children:"Network & Collaborate"}),m.jsx("p",{className:"text-gray-500 text-lg",children:"Connect with ambitious students from top universities and build your community."})]}),m.jsx(iB,{onSearchChange:l,onFilterChange:(A,I)=>d(j=>({...j,[A]:I})),onSortChange:g}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r?Array.from({length:8}).map((A,I)=>m.jsx(k,{},I)):m.jsx(la,{children:T.length>0?T.map(A=>m.jsx(L2,{student:A,onClick:()=>t(`/profile/${A.uid}`)},A.uid)):m.jsxs("div",{className:"col-span-full py-20 text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 text-gray-400",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),m.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No students found"}),m.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or search query."})]})})})]})})},aB=()=>m.jsx("footer",{className:"bg-[#0f172a] text-white py-16 border-t border-gray-800",children:m.jsxs("div",{className:"container-custom mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[m.jsxs("div",{className:"col-span-1 md:col-span-1",children:[m.jsxs(on,{to:"/",className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0066FF] flex items-center justify-center text-white",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})}),m.jsx("span",{className:"text-xl font-bold tracking-tight",children:"CollabX"})]}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Empowering the next generation of builders and learners. Connecting campuses, one project at a time."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Platform"}),m.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[m.jsx("li",{children:m.jsx(on,{to:"/#resources",className:"hover:text-[#0066FF] transition-colors",children:"Resources"})}),m.jsx("li",{children:m.jsx(on,{to:"/#projects",className:"hover:text-[#0066FF] transition-colors",children:"Projects"})}),m.jsx("li",{children:m.jsx(on,{to:"/students",className:"hover:text-[#0066FF] transition-colors",children:"Students"})}),m.jsx("li",{children:m.jsx(on,{to:"/mentorship",className:"hover:text-[#0066FF] transition-colors",children:"Mentorship"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Community"}),m.jsxs("ul",{className:"space-y-4 text-sm text-gray-400",children:[m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Discord Server"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Hackathons"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Events"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-[#0066FF] transition-colors",children:"Blog"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg mb-6",children:"Connect"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("a",{href:"https://x.com/x_collab56418",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})})}),m.jsx("a",{href:"https://www.linkedin.com/company/105358117/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),m.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),m.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),m.jsx("a",{href:"https://github.com/Harshavardhanyedla/collabX",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-gray-400 hover:bg-[#0066FF] hover:text-white transition-all",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})]})]})]}),m.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[m.jsx("span",{children:" 2026 CollabX. All rights reserved."}),m.jsx("span",{className:"hidden md:inline",children:"|"}),m.jsx("span",{children:"Powered by Google Cloud"})]}),m.jsxs("div",{className:"flex gap-6 text-sm text-gray-500",children:[m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),m.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})]})]})]})}),lB=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(""),[l,u]=b.useState("idle"),d=async f=>{f.preventDefault(),u("submitting");try{await pa(hn($e,"feedback"),{name:t,email:n,message:s,created_at:Xe.now()}),u("success"),e(""),r(""),a(""),setTimeout(()=>u("idle"),3e3)}catch(g){console.error("Error submitting feedback:",g),u("error"),setTimeout(()=>u("idle"),3e3)}};return m.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:m.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),m.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),m.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:m.jsxs("form",{onSubmit:d,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),m.jsx("input",{type:"text",id:"name",value:t,onChange:f=>e(f.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),m.jsx("input",{type:"email",id:"email",value:n,onChange:f=>r(f.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),m.jsx("textarea",{id:"message",value:s,onChange:f=>a(f.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),m.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&m.jsx(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&m.jsx(Te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},uh=({children:t})=>{const[e,n]=b.useState(!0),[r,s]=b.useState(!1);return b.useEffect(()=>{const a=Tu(Ye,l=>{s(!!l),n(!1)});return()=>a()},[]),e?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?m.jsx(m.Fragment,{children:t}):m.jsx(aP,{to:"/login"})},cB=()=>{const{pathname:t,hash:e}=Zr();return b.useEffect(()=>{e||window.scrollTo(0,0)},[t,e]),null},uB=()=>{const t=Zr();return ln.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);if(n){const a=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:a,behavior:"smooth"})}},100)}},[t.hash]),m.jsxs("main",{className:"bg-white min-h-screen",children:[m.jsx(xU,{}),m.jsx(_U,{}),m.jsx(bU,{}),m.jsx(TU,{}),m.jsx(AU,{}),m.jsx(lB,{})]})},dB=()=>m.jsxs("div",{className:"min-h-screen bg-white text-[#0f172a] font-sans",children:[m.jsx(cB,{}),m.jsx(D2,{}),m.jsxs(cP,{children:[m.jsx(Js,{path:"/",element:m.jsx(uB,{})}),m.jsx(Js,{path:"/profile",element:m.jsx(uh,{children:m.jsx(gb,{})})}),m.jsx(Js,{path:"/profile/:userId",element:m.jsx(uh,{children:m.jsx(gb,{})})}),m.jsx(Js,{path:"/students",element:m.jsx(uh,{children:m.jsx(oB,{})})}),m.jsx(Js,{path:"/onboarding",element:m.jsx(uh,{children:m.jsx(sB,{})})}),m.jsx(Js,{path:"/roadmap/:roadmapId",element:m.jsx(tB,{})}),m.jsx(Js,{path:"/resource/:resourceId",element:m.jsx(nB,{})}),m.jsx(Js,{path:"/login",element:m.jsx(rB,{})})]}),m.jsx(aB,{})]});vA.createRoot(document.getElementById("root")).render(m.jsx(b.StrictMode,{children:m.jsx(NP,{children:m.jsx(dB,{})})}));
