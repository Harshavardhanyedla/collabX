(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function E2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wm={exports:{}},Tc={},_m={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function bA(){if(Pw)return Ue;Pw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function C(W,J,xe){this.props=W,this.context=J,this.refs=A,this.updater=xe||T}C.prototype.isReactComponent={},C.prototype.setState=function(W,J){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,J,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function L(){}L.prototype=C.prototype;function P(W,J,xe){this.props=W,this.context=J,this.refs=A,this.updater=xe||T}var D=P.prototype=new L;D.constructor=P,k(D,C.prototype),D.isPureReactComponent=!0;var B=Array.isArray,K=Object.prototype.hasOwnProperty,q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(W,J,xe){var _e,Pe={},Te=null,Fe=null;if(J!=null)for(_e in J.ref!==void 0&&(Fe=J.ref),J.key!==void 0&&(Te=""+J.key),J)K.call(J,_e)&&!R.hasOwnProperty(_e)&&(Pe[_e]=J[_e]);var Ne=arguments.length-2;if(Ne===1)Pe.children=xe;else if(1<Ne){for(var Me=Array(Ne),je=0;je<Ne;je++)Me[je]=arguments[je+2];Pe.children=Me}if(W&&W.defaultProps)for(_e in Ne=W.defaultProps,Ne)Pe[_e]===void 0&&(Pe[_e]=Ne[_e]);return{$$typeof:t,type:W,key:Te,ref:Fe,props:Pe,_owner:q.current}}function j(W,J){return{$$typeof:t,type:W.type,key:J,ref:W.ref,props:W.props,_owner:W._owner}}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function F(W){var J={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(xe){return J[xe]})}var $=/\/+/g;function V(W,J){return typeof W=="object"&&W!==null&&W.key!=null?F(""+W.key):J.toString(36)}function Le(W,J,xe,_e,Pe){var Te=typeof W;(Te==="undefined"||Te==="boolean")&&(W=null);var Fe=!1;if(W===null)Fe=!0;else switch(Te){case"string":case"number":Fe=!0;break;case"object":switch(W.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=W,Pe=Pe(Fe),W=_e===""?"."+V(Fe,0):_e,B(Pe)?(xe="",W!=null&&(xe=W.replace($,"$&/")+"/"),Le(Pe,J,xe,"",function(je){return je})):Pe!=null&&(M(Pe)&&(Pe=j(Pe,xe+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace($,"$&/")+"/")+W)),J.push(Pe)),1;if(Fe=0,_e=_e===""?".":_e+":",B(W))for(var Ne=0;Ne<W.length;Ne++){Te=W[Ne];var Me=_e+V(Te,Ne);Fe+=Le(Te,J,xe,Me,Pe)}else if(Me=x(W),typeof Me=="function")for(W=Me.call(W),Ne=0;!(Te=W.next()).done;)Te=Te.value,Me=_e+V(Te,Ne++),Fe+=Le(Te,J,xe,Me,Pe);else if(Te==="object")throw J=String(W),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Fe}function et(W,J,xe){if(W==null)return W;var _e=[],Pe=0;return Le(W,_e,"","",function(Te){return J.call(xe,Te,Pe++)}),_e}function fe(W){if(W._status===-1){var J=W._result;J=J(),J.then(function(xe){(W._status===0||W._status===-1)&&(W._status=1,W._result=xe)},function(xe){(W._status===0||W._status===-1)&&(W._status=2,W._result=xe)}),W._status===-1&&(W._status=0,W._result=J)}if(W._status===1)return W._result.default;throw W._result}var se={current:null},ee={transition:null},ce={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:ee,ReactCurrentOwner:q};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:et,forEach:function(W,J,xe){et(W,function(){J.apply(this,arguments)},xe)},count:function(W){var J=0;return et(W,function(){J++}),J},toArray:function(W){return et(W,function(J){return J})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ue.Component=C,Ue.Fragment=n,Ue.Profiler=s,Ue.PureComponent=P,Ue.StrictMode=r,Ue.Suspense=h,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ue.act=ae,Ue.cloneElement=function(W,J,xe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var _e=k({},W.props),Pe=W.key,Te=W.ref,Fe=W._owner;if(J!=null){if(J.ref!==void 0&&(Te=J.ref,Fe=q.current),J.key!==void 0&&(Pe=""+J.key),W.type&&W.type.defaultProps)var Ne=W.type.defaultProps;for(Me in J)K.call(J,Me)&&!R.hasOwnProperty(Me)&&(_e[Me]=J[Me]===void 0&&Ne!==void 0?Ne[Me]:J[Me])}var Me=arguments.length-2;if(Me===1)_e.children=xe;else if(1<Me){Ne=Array(Me);for(var je=0;je<Me;je++)Ne[je]=arguments[je+2];_e.children=Ne}return{$$typeof:t,type:W.type,key:Pe,ref:Te,props:_e,_owner:Fe}},Ue.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},Ue.createElement=I,Ue.createFactory=function(W){var J=I.bind(null,W);return J.type=W,J},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(W){return{$$typeof:u,render:W}},Ue.isValidElement=M,Ue.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:fe}},Ue.memo=function(W,J){return{$$typeof:p,type:W,compare:J===void 0?null:J}},Ue.startTransition=function(W){var J=ee.transition;ee.transition={};try{W()}finally{ee.transition=J}},Ue.unstable_act=ae,Ue.useCallback=function(W,J){return se.current.useCallback(W,J)},Ue.useContext=function(W){return se.current.useContext(W)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(W){return se.current.useDeferredValue(W)},Ue.useEffect=function(W,J){return se.current.useEffect(W,J)},Ue.useId=function(){return se.current.useId()},Ue.useImperativeHandle=function(W,J,xe){return se.current.useImperativeHandle(W,J,xe)},Ue.useInsertionEffect=function(W,J){return se.current.useInsertionEffect(W,J)},Ue.useLayoutEffect=function(W,J){return se.current.useLayoutEffect(W,J)},Ue.useMemo=function(W,J){return se.current.useMemo(W,J)},Ue.useReducer=function(W,J,xe){return se.current.useReducer(W,J,xe)},Ue.useRef=function(W){return se.current.useRef(W)},Ue.useState=function(W){return se.current.useState(W)},Ue.useSyncExternalStore=function(W,J,xe){return se.current.useSyncExternalStore(W,J,xe)},Ue.useTransition=function(){return se.current.useTransition()},Ue.version="18.3.1",Ue}var jw;function y0(){return jw||(jw=1,_m.exports=bA()),_m.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function EA(){if(Dw)return Tc;Dw=1;var t=y0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var g,v={},x=null,T=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(v[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:u,key:x,ref:T,props:v,_owner:s.current}}return Tc.Fragment=n,Tc.jsx=l,Tc.jsxs=l,Tc}var Lw;function TA(){return Lw||(Lw=1,wm.exports=EA()),wm.exports}var d=TA(),b=y0();const ln=E2(b);var Yd={},bm={exports:{}},Wn={},Em={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function SA(){return Mw||(Mw=1,(function(t){function e(ee,ce){var ae=ee.length;ee.push(ce);e:for(;0<ae;){var W=ae-1>>>1,J=ee[W];if(0<s(J,ce))ee[W]=ce,ee[ae]=J,ae=W;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ce=ee[0],ae=ee.pop();if(ae!==ce){ee[0]=ae;e:for(var W=0,J=ee.length,xe=J>>>1;W<xe;){var _e=2*(W+1)-1,Pe=ee[_e],Te=_e+1,Fe=ee[Te];if(0>s(Pe,ae))Te<J&&0>s(Fe,Pe)?(ee[W]=Fe,ee[Te]=ae,W=Te):(ee[W]=Pe,ee[_e]=ae,W=_e);else if(Te<J&&0>s(Fe,ae))ee[W]=Fe,ee[Te]=ae,W=Te;else break e}}return ce}function s(ee,ce){var ae=ee.sortIndex-ce.sortIndex;return ae!==0?ae:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,v=null,x=3,T=!1,k=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ee){for(var ce=n(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=ee)r(p),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=n(p)}}function B(ee){if(A=!1,D(ee),!k)if(n(h)!==null)k=!0,fe(K);else{var ce=n(p);ce!==null&&se(B,ce.startTime-ee)}}function K(ee,ce){k=!1,A&&(A=!1,L(I),I=-1),T=!0;var ae=x;try{for(D(ce),v=n(h);v!==null&&(!(v.expirationTime>ce)||ee&&!F());){var W=v.callback;if(typeof W=="function"){v.callback=null,x=v.priorityLevel;var J=W(v.expirationTime<=ce);ce=t.unstable_now(),typeof J=="function"?v.callback=J:v===n(h)&&r(h),D(ce)}else r(h);v=n(h)}if(v!==null)var xe=!0;else{var _e=n(p);_e!==null&&se(B,_e.startTime-ce),xe=!1}return xe}finally{v=null,x=ae,T=!1}}var q=!1,R=null,I=-1,j=5,M=-1;function F(){return!(t.unstable_now()-M<j)}function $(){if(R!==null){var ee=t.unstable_now();M=ee;var ce=!0;try{ce=R(!0,ee)}finally{ce?V():(q=!1,R=null)}}else q=!1}var V;if(typeof P=="function")V=function(){P($)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,et=Le.port2;Le.port1.onmessage=$,V=function(){et.postMessage(null)}}else V=function(){C($,0)};function fe(ee){R=ee,q||(q=!0,V())}function se(ee,ce){I=C(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){k||T||(k=!0,fe(K))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var ce=3;break;default:ce=x}var ae=x;x=ce;try{return ee()}finally{x=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ae=x;x=ee;try{return ce()}finally{x=ae}},t.unstable_scheduleCallback=function(ee,ce,ae){var W=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?W+ae:W):ae=W,ee){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,ee={id:g++,callback:ce,priorityLevel:ee,startTime:ae,expirationTime:J,sortIndex:-1},ae>W?(ee.sortIndex=ae,e(p,ee),n(h)===null&&ee===n(p)&&(A?(L(I),I=-1):A=!0,se(B,ae-W))):(ee.sortIndex=J,e(h,ee),k||T||(k=!0,fe(K))),ee},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ee){var ce=x;return function(){var ae=x;x=ce;try{return ee.apply(this,arguments)}finally{x=ae}}}})(Tm)),Tm}var Vw;function CA(){return Vw||(Vw=1,Em.exports=SA()),Em.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function IA(){if(Ow)return Wn;Ow=1;var t=y0(),e=CA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(i){return h.call(v,i)?!0:h.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function T(i,o,c,m){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,c,m){if(o===null||typeof o>"u"||T(i,o,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(i,o,c,m,y,w,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new A(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function P(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(L,P);C[o]=new A(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(L,P);C[o]=new A(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(L,P);C[o]=new A(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function D(i,o,c,m){var y=C.hasOwnProperty(o)?C[o]:null;(y!==null?y.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,c,y,m)&&(c=null),m||y===null?x(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,m=y.attributeNamespace,c===null?i.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,m?i.setAttributeNS(m,o,c):i.setAttribute(o,c))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,W;function J(i){if(W===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+i}var xe=!1;function _e(i,o){if(!i||xe)return"";xe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var m=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){m=X}i.call(o.prototype)}else{try{throw Error()}catch(X){m=X}i()}}catch(X){if(X&&m&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),w=m.stack.split(`
`),S=y.length-1,O=w.length-1;1<=S&&0<=O&&y[S]!==w[O];)O--;for(;1<=S&&0<=O;S--,O--)if(y[S]!==w[O]){if(S!==1||O!==1)do if(S--,O--,0>O||y[S]!==w[O]){var U=`
`+y[S].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=S&&0<=O);break}}}finally{xe=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?J(i):""}function Pe(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=_e(i.type,!1),i;case 11:return i=_e(i.type.render,!1),i;case 1:return i=_e(i.type,!0),i;default:return""}}function Te(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case q:return"Portal";case j:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case Le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case et:return o=i.displayName||null,o!==null?o:Te(i.type)||"Memo";case fe:o=i._payload,i=i._init;try{return Te(i(o))}catch{}}return null}function Fe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ne(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function je(i){var o=Me(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(S){m=""+S,w.call(this,S)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(S){m=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function dr(i){i._valueTracker||(i._valueTracker=je(i))}function hn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return i&&(m=Me(i)?i.checked?"true":"false":i.value),i=m,i!==c?(o.setValue(i),!0):!1}function In(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function fn(i,o){var c=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Dr(i,o){var c=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;c=Ne(o.value!=null?o.value:c),i._wrapperState={initialChecked:m,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Yn(i,o){o=o.checked,o!=null&&D(i,"checked",o,!1)}function ns(i,o){Yn(i,o);var c=Ne(o.value),m=o.type;if(c!=null)m==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ut(i,o.type,c):o.hasOwnProperty("defaultValue")&&ut(i,o.type,Ne(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function hi(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ut(i,o,c){(o!=="number"||In(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ze=Array.isArray;function pn(i,o,c,m){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&m&&(i[c].defaultSelected=!0)}else{for(c=""+Ne(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function rs(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function fi(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Ze(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:Ne(c)}}function yo(i,o){var c=Ne(o.value),m=Ne(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),m!=null&&(i.defaultValue=""+m)}function ss(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function vo(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?vo(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Rn,is=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,m,y){MSApp.execUnsafeLocalFunction(function(){return i(o,c,m,y)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Rn=Rn||document.createElement("div"),Rn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Rn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function os(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xo=["Webkit","ms","Moz","O"];Object.keys(Yt).forEach(function(i){xo.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Yt[o]=Yt[i]})});function as(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Yt.hasOwnProperty(i)&&Yt[i]?(""+o).trim():o+"px"}function pi(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var m=c.indexOf("--")===0,y=as(c,o[c],m);c==="float"&&(c="cssFloat"),m?i.setProperty(c,y):i[c]=y}}var Os=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vn(i,o){if(o){if(Os[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function mi(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lr=null;function gi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mr=null,Vr=null,Ve=null;function Vt(i){if(i=cc(i)){if(typeof Mr!="function")throw Error(n(280));var o=i.stateNode;o&&(o=hd(o),Mr(i.stateNode,i.type,o))}}function vt(i){Vr?Ve?Ve.push(i):Ve=[i]:Vr=i}function Jt(){if(Vr){var i=Vr,o=Ve;if(Ve=Vr=null,Vt(i),o)for(i=0;i<o.length;i++)Vt(o[i])}}function Zt(i,o){return i(o)}function $t(){}var Et=!1;function Or(i,o,c){if(Et)return i(o,c);Et=!0;try{return Zt(i,o,c)}finally{Et=!1,(Vr!==null||Ve!==null)&&($t(),Jt())}}function it(i,o){var c=i.stateNode;if(c===null)return null;var m=hd(c);if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var en=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){en=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{en=!1}function On(i,o,c,m,y,w,S,O,U){var X=Array.prototype.slice.call(arguments,3);try{o.apply(c,X)}catch(re){this.onError(re)}}var An=!1,mn=null,Nn=!1,Wt=null,yi={onError:function(i){An=!0,mn=i}};function qu(i,o,c,m,y,w,S,O,U){An=!1,mn=null,On.apply(yi,arguments)}function Vl(i,o,c,m,y,w,S,O,U){if(qu.apply(this,arguments),An){if(An){var X=mn;An=!1,mn=null}else throw Error(n(198));Nn||(Nn=!0,Wt=X)}}function Fr(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Ol(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Hu(i){if(Fr(i)!==i)throw Error(n(188))}function Gu(i){var o=i.alternate;if(!o){if(o=Fr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,m=o;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Hu(y),i;if(w===m)return Hu(y),o;w=w.sibling}throw Error(n(188))}if(c.return!==m.return)c=y,m=w;else{for(var S=!1,O=y.child;O;){if(O===c){S=!0,c=y,m=w;break}if(O===m){S=!0,m=y,c=w;break}O=O.sibling}if(!S){for(O=w.child;O;){if(O===c){S=!0,c=w,m=y;break}if(O===m){S=!0,m=w,c=y;break}O=O.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function Ku(i){return i=Gu(i),i!==null?wo(i):null}function wo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=wo(i);if(o!==null)return o;i=i.sibling}return null}var Fl=e.unstable_scheduleCallback,ya=e.unstable_cancelCallback,_o=e.unstable_shouldYield,Fs=e.unstable_requestPaint,ot=e.unstable_now,Yf=e.unstable_getCurrentPriorityLevel,va=e.unstable_ImmediatePriority,Ul=e.unstable_UserBlockingPriority,bo=e.unstable_NormalPriority,Bl=e.unstable_LowPriority,xa=e.unstable_IdlePriority,Eo=null,Zn=null;function Qu(i){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Eo,i,void 0,(i.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:To,ls=Math.log,hr=Math.LN2;function To(i){return i>>>=0,i===0?32:31-(ls(i)/hr|0)|0}var cs=64,vi=4194304;function Xe(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Us(i,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,w=i.pingedLanes,S=c&268435455;if(S!==0){var O=S&~y;O!==0?m=Xe(O):(w&=S,w!==0&&(m=Xe(w)))}else S=c&~y,S!==0?m=Xe(S):w!==0&&(m=Xe(w));if(m===0)return 0;if(o!==0&&o!==m&&(o&y)===0&&(y=m&-m,w=o&-o,y>=w||y===16&&(w&4194240)!==0))return o;if((m&4)!==0&&(m|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=m;0<o;)c=31-er(o),y=1<<c,m|=i[c],o&=~y;return m}function So(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(i,o){for(var c=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes;0<w;){var S=31-er(w),O=1<<S,U=y[S];U===-1?((O&c)===0||(O&m)!==0)&&(y[S]=So(O,o)):U<=o&&(i.expiredLanes|=O),w&=~O}}function zl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function $l(){var i=cs;return cs<<=1,(cs&4194240)===0&&(cs=64),i}function Wl(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Io(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-er(o),i[o]=c}function Jf(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-er(c),w=1<<y;o[y]=0,m[y]=-1,i[y]=-1,c&=~w}}function ql(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var m=31-er(c),y=1<<m;y&o|i[m]&o&&(i[m]|=o),c&=~y}}var We=0;function us(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Hl,wa,Gl,Kl,Ql,ds=!1,_a=[],hs=null,fs=null,tn=null,Ro=new Map,Bs=new Map,tr=[],Xu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xi(i,o){switch(i){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Ro.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(o.pointerId)}}function Ur(i,o,c,m,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},o!==null&&(o=cc(o),o!==null&&wa(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function Yu(i,o,c,m,y){switch(o){case"focusin":return hs=Ur(hs,i,o,c,m,y),!0;case"dragenter":return fs=Ur(fs,i,o,c,m,y),!0;case"mouseover":return tn=Ur(tn,i,o,c,m,y),!0;case"pointerover":var w=y.pointerId;return Ro.set(w,Ur(Ro.get(w)||null,i,o,c,m,y)),!0;case"gotpointercapture":return w=y.pointerId,Bs.set(w,Ur(Bs.get(w)||null,i,o,c,m,y)),!0}return!1}function ba(i){var o=Po(i.target);if(o!==null){var c=Fr(o);if(c!==null){if(o=c.tag,o===13){if(o=Ol(c),o!==null){i.blockedOn=o,Ql(i.priority,function(){Gl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nt(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Ea(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);Lr=m,c.target.dispatchEvent(m),Lr=null}else return o=cc(c),o!==null&&wa(o),i.blockedOn=c,!1;o.shift()}return!0}function Ju(i,o,c){nt(i)&&c.delete(o)}function Zf(){ds=!1,hs!==null&&nt(hs)&&(hs=null),fs!==null&&nt(fs)&&(fs=null),tn!==null&&nt(tn)&&(tn=null),Ro.forEach(Ju),Bs.forEach(Ju)}function wi(i,o){i.blockedOn===o&&(i.blockedOn=null,ds||(ds=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zf)))}function _i(i){function o(y){return wi(y,i)}if(0<_a.length){wi(_a[0],i);for(var c=1;c<_a.length;c++){var m=_a[c];m.blockedOn===i&&(m.blockedOn=null)}}for(hs!==null&&wi(hs,i),fs!==null&&wi(fs,i),tn!==null&&wi(tn,i),Ro.forEach(o),Bs.forEach(o),c=0;c<tr.length;c++)m=tr[c],m.blockedOn===i&&(m.blockedOn=null);for(;0<tr.length&&(c=tr[0],c.blockedOn===null);)ba(c),c.blockedOn===null&&tr.shift()}var zs=B.ReactCurrentBatchConfig,$s=!0;function ps(i,o,c,m){var y=We,w=zs.transition;zs.transition=null;try{We=1,Xl(i,o,c,m)}finally{We=y,zs.transition=w}}function Zu(i,o,c,m){var y=We,w=zs.transition;zs.transition=null;try{We=4,Xl(i,o,c,m)}finally{We=y,zs.transition=w}}function Xl(i,o,c,m){if($s){var y=Ea(i,o,c,m);if(y===null)up(i,o,m,ms,c),xi(i,m);else if(Yu(y,i,o,c,m))m.stopPropagation();else if(xi(i,m),o&4&&-1<Xu.indexOf(i)){for(;y!==null;){var w=cc(y);if(w!==null&&Hl(w),w=Ea(i,o,c,m),w===null&&up(i,o,m,ms,c),w===y)break;y=w}y!==null&&m.stopPropagation()}else up(i,o,m,null,c)}}var ms=null;function Ea(i,o,c,m){if(ms=null,i=gi(m),i=Po(i),i!==null)if(o=Fr(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Ol(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ms=i,null}function Ta(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yf()){case va:return 1;case Ul:return 4;case bo:case Bl:return 16;case xa:return 536870912;default:return 16}default:return 16}}var nr=null,Sa=null,Ws=null;function ed(){if(Ws)return Ws;var i,o=Sa,c=o.length,m,y="value"in nr?nr.value:nr.textContent,w=y.length;for(i=0;i<c&&o[i]===y[i];i++);var S=c-i;for(m=1;m<=S&&o[c-m]===y[w-m];m++);return Ws=y.slice(i,1<m?1-m:void 0)}function Ao(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function gs(){return!0}function Yl(){return!1}function gn(i){function o(c,m,y,w,S){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(c=i[O],this[O]=c?c(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?gs:Yl,this.isPropagationStopped=Yl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),o}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=gn(ys),bi=ae({},ys,{view:0,detail:0}),Ca=gn(bi),Ia,Ra,rr,ko=ae({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:De,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==rr&&(rr&&i.type==="mousemove"?(Ia=i.screenX-rr.screenX,Ra=i.screenY-rr.screenY):Ra=Ia=0,rr=i),Ia)},movementY:function(i){return"movementY"in i?i.movementY:Ra}}),Jl=gn(ko),td=ae({},ko,{dataTransfer:0}),nd=gn(td),Aa=ae({},bi,{relatedTarget:0}),nn=gn(Aa),rd=ae({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),sd=gn(rd),Ei=ae({},ys,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=gn(Ei),_=ae({},ys,{data:0}),E=gn(_),N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function le(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Y[i])?!!o[i]:!1}function De(){return le}var Tt=ae({},bi,{key:function(i){if(i.key){var o=N[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ao(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?G[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:De,charCode:function(i){return i.type==="keypress"?Ao(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ao(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tt=gn(Tt),At=ae({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=gn(At),qs=ae({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:De}),vs=gn(qs),xs=ae({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Na=gn(xs),Zl=ae({},ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),gR=gn(Zl),yR=[9,13,27,32],ep=u&&"CompositionEvent"in window,ec=null;u&&"documentMode"in document&&(ec=document.documentMode);var vR=u&&"TextEvent"in window&&!ec,Tv=u&&(!ep||ec&&8<ec&&11>=ec),Sv=" ",Cv=!1;function Iv(i,o){switch(i){case"keyup":return yR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ka=!1;function xR(i,o){switch(i){case"compositionend":return Rv(o);case"keypress":return o.which!==32?null:(Cv=!0,Sv);case"textInput":return i=o.data,i===Sv&&Cv?null:i;default:return null}}function wR(i,o){if(ka)return i==="compositionend"||!ep&&Iv(i,o)?(i=ed(),Ws=Sa=nr=null,ka=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Tv&&o.locale!=="ko"?null:o.data;default:return null}}var _R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Av(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!_R[i.type]:o==="textarea"}function Nv(i,o,c,m){vt(m),o=cd(o,"onChange"),0<o.length&&(c=new No("onChange","change",null,c,m),i.push({event:c,listeners:o}))}var tc=null,nc=null;function bR(i){Kv(i,0)}function id(i){var o=Ma(i);if(hn(o))return i}function ER(i,o){if(i==="change")return o}var kv=!1;if(u){var tp;if(u){var np="oninput"in document;if(!np){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),np=typeof Pv.oninput=="function"}tp=np}else tp=!1;kv=tp&&(!document.documentMode||9<document.documentMode)}function jv(){tc&&(tc.detachEvent("onpropertychange",Dv),nc=tc=null)}function Dv(i){if(i.propertyName==="value"&&id(nc)){var o=[];Nv(o,nc,i,gi(i)),Or(bR,o)}}function TR(i,o,c){i==="focusin"?(jv(),tc=o,nc=c,tc.attachEvent("onpropertychange",Dv)):i==="focusout"&&jv()}function SR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return id(nc)}function CR(i,o){if(i==="click")return id(o)}function IR(i,o){if(i==="input"||i==="change")return id(o)}function RR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Br=typeof Object.is=="function"?Object.is:RR;function rc(i,o){if(Br(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!h.call(o,y)||!Br(i[y],o[y]))return!1}return!0}function Lv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Mv(i,o){var c=Lv(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=o&&m>=o)return{node:c,offset:o-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Lv(c)}}function Vv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Vv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Ov(){for(var i=window,o=In();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=In(i.document)}return o}function rp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function AR(i){var o=Ov(),c=i.focusedElem,m=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&Vv(c.ownerDocument.documentElement,c)){if(m!==null&&rp(c)){if(o=m.start,i=m.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,w=Math.min(m.start,y);m=m.end===void 0?w:Math.min(m.end,y),!i.extend&&w>m&&(y=m,m=w,w=y),y=Mv(c,w);var S=Mv(c,m);y&&S&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),i.removeAllRanges(),w>m?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var NR=u&&"documentMode"in document&&11>=document.documentMode,Pa=null,sp=null,sc=null,ip=!1;function Fv(i,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ip||Pa==null||Pa!==In(m)||(m=Pa,"selectionStart"in m&&rp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),sc&&rc(sc,m)||(sc=m,m=cd(sp,"onSelect"),0<m.length&&(o=new No("onSelect","select",null,o,c),i.push({event:o,listeners:m}),o.target=Pa)))}function od(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var ja={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},op={},Uv={};u&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function ad(i){if(op[i])return op[i];if(!ja[i])return i;var o=ja[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Uv)return op[i]=o[c];return i}var Bv=ad("animationend"),zv=ad("animationiteration"),$v=ad("animationstart"),Wv=ad("transitionend"),qv=new Map,Hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(i,o){qv.set(i,o),a(o,[i])}for(var ap=0;ap<Hv.length;ap++){var lp=Hv[ap],kR=lp.toLowerCase(),PR=lp[0].toUpperCase()+lp.slice(1);Ti(kR,"on"+PR)}Ti(Bv,"onAnimationEnd"),Ti(zv,"onAnimationIteration"),Ti($v,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Wv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function Gv(i,o,c){var m=i.type||"unknown-event";i.currentTarget=c,Vl(m,o,void 0,i),i.currentTarget=null}function Kv(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],y=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var S=m.length-1;0<=S;S--){var O=m[S],U=O.instance,X=O.currentTarget;if(O=O.listener,U!==w&&y.isPropagationStopped())break e;Gv(y,O,X),w=U}else for(S=0;S<m.length;S++){if(O=m[S],U=O.instance,X=O.currentTarget,O=O.listener,U!==w&&y.isPropagationStopped())break e;Gv(y,O,X),w=U}}}if(Nn)throw i=Wt,Nn=!1,Wt=null,i}function at(i,o){var c=o[gp];c===void 0&&(c=o[gp]=new Set);var m=i+"__bubble";c.has(m)||(Qv(o,i,2,!1),c.add(m))}function cp(i,o,c){var m=0;o&&(m|=4),Qv(c,i,m,o)}var ld="_reactListening"+Math.random().toString(36).slice(2);function oc(i){if(!i[ld]){i[ld]=!0,r.forEach(function(c){c!=="selectionchange"&&(jR.has(c)||cp(c,!1,i),cp(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ld]||(o[ld]=!0,cp("selectionchange",!1,o))}}function Qv(i,o,c,m){switch(Ta(o)){case 1:var y=ps;break;case 4:y=Zu;break;default:y=Xl}c=y.bind(null,o,c,i),y=void 0,!en||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function up(i,o,c,m,y){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var S=m.tag;if(S===3||S===4){var O=m.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(S===4)for(S=m.return;S!==null;){var U=S.tag;if((U===3||U===4)&&(U=S.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;S=S.return}for(;O!==null;){if(S=Po(O),S===null)return;if(U=S.tag,U===5||U===6){m=w=S;continue e}O=O.parentNode}}m=m.return}Or(function(){var X=w,re=gi(c),ie=[];e:{var ne=qv.get(i);if(ne!==void 0){var de=No,me=i;switch(i){case"keypress":if(Ao(c)===0)break e;case"keydown":case"keyup":de=tt;break;case"focusin":me="focus",de=nn;break;case"focusout":me="blur",de=nn;break;case"beforeblur":case"afterblur":de=nn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=vs;break;case Bv:case zv:case $v:de=sd;break;case Wv:de=Na;break;case"scroll":de=Ca;break;case"wheel":de=gR;break;case"copy":case"cut":case"paste":de=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=sr}var ge=(o&4)!==0,St=!ge&&i==="scroll",H=ge?ne!==null?ne+"Capture":null:ne;ge=[];for(var z=X,Q;z!==null;){Q=z;var oe=Q.stateNode;if(Q.tag===5&&oe!==null&&(Q=oe,H!==null&&(oe=it(z,H),oe!=null&&ge.push(ac(z,oe,Q)))),St)break;z=z.return}0<ge.length&&(ne=new de(ne,me,null,c,re),ie.push({event:ne,listeners:ge}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ne&&c!==Lr&&(me=c.relatedTarget||c.fromElement)&&(Po(me)||me[Hs]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(me=c.relatedTarget||c.toElement,de=X,me=me?Po(me):null,me!==null&&(St=Fr(me),me!==St||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=X),de!==me)){if(ge=Jl,oe="onMouseLeave",H="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ge=sr,oe="onPointerLeave",H="onPointerEnter",z="pointer"),St=de==null?ne:Ma(de),Q=me==null?ne:Ma(me),ne=new ge(oe,z+"leave",de,c,re),ne.target=St,ne.relatedTarget=Q,oe=null,Po(re)===X&&(ge=new ge(H,z+"enter",me,c,re),ge.target=Q,ge.relatedTarget=St,oe=ge),St=oe,de&&me)t:{for(ge=de,H=me,z=0,Q=ge;Q;Q=Da(Q))z++;for(Q=0,oe=H;oe;oe=Da(oe))Q++;for(;0<z-Q;)ge=Da(ge),z--;for(;0<Q-z;)H=Da(H),Q--;for(;z--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=Da(ge),H=Da(H)}ge=null}else ge=null;de!==null&&Xv(ie,ne,de,ge,!1),me!==null&&St!==null&&Xv(ie,St,me,ge,!0)}}e:{if(ne=X?Ma(X):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var ye=ER;else if(Av(ne))if(kv)ye=IR;else{ye=SR;var be=TR}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ye=CR);if(ye&&(ye=ye(i,X))){Nv(ie,ye,c,re);break e}be&&be(i,ne,X),i==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&ut(ne,"number",ne.value)}switch(be=X?Ma(X):window,i){case"focusin":(Av(be)||be.contentEditable==="true")&&(Pa=be,sp=X,sc=null);break;case"focusout":sc=sp=Pa=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,Fv(ie,c,re);break;case"selectionchange":if(NR)break;case"keydown":case"keyup":Fv(ie,c,re)}var Ee;if(ep)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ka?Iv(i,c)&&(Re="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(Tv&&c.locale!=="ko"&&(ka||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ka&&(Ee=ed()):(nr=re,Sa="value"in nr?nr.value:nr.textContent,ka=!0)),be=cd(X,Re),0<be.length&&(Re=new E(Re,i,null,c,re),ie.push({event:Re,listeners:be}),Ee?Re.data=Ee:(Ee=Rv(c),Ee!==null&&(Re.data=Ee)))),(Ee=vR?xR(i,c):wR(i,c))&&(X=cd(X,"onBeforeInput"),0<X.length&&(re=new E("onBeforeInput","beforeinput",null,c,re),ie.push({event:re,listeners:X}),re.data=Ee))}Kv(ie,o)})}function ac(i,o,c){return{instance:i,listener:o,currentTarget:c}}function cd(i,o){for(var c=o+"Capture",m=[];i!==null;){var y=i,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=it(i,c),w!=null&&m.unshift(ac(i,w,y)),w=it(i,o),w!=null&&m.push(ac(i,w,y))),i=i.return}return m}function Da(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Xv(i,o,c,m,y){for(var w=o._reactName,S=[];c!==null&&c!==m;){var O=c,U=O.alternate,X=O.stateNode;if(U!==null&&U===m)break;O.tag===5&&X!==null&&(O=X,y?(U=it(c,w),U!=null&&S.unshift(ac(c,U,O))):y||(U=it(c,w),U!=null&&S.push(ac(c,U,O)))),c=c.return}S.length!==0&&i.push({event:o,listeners:S})}var DR=/\r\n?/g,LR=/\u0000|\uFFFD/g;function Yv(i){return(typeof i=="string"?i:""+i).replace(DR,`
`).replace(LR,"")}function ud(i,o,c){if(o=Yv(o),Yv(i)!==o&&c)throw Error(n(425))}function dd(){}var dp=null,hp=null;function fp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,MR=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,VR=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(i){return Jv.resolve(null).then(i).catch(OR)}:pp;function OR(i){setTimeout(function(){throw i})}function mp(i,o){var c=o,m=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(m===0){i.removeChild(y),_i(o);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=y}while(c);_i(o)}function Si(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Zv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var La=Math.random().toString(36).slice(2),ws="__reactFiber$"+La,lc="__reactProps$"+La,Hs="__reactContainer$"+La,gp="__reactEvents$"+La,FR="__reactListeners$"+La,UR="__reactHandles$"+La;function Po(i){var o=i[ws];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Hs]||c[ws]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Zv(i);i!==null;){if(c=i[ws])return c;i=Zv(i)}return o}i=c,c=i.parentNode}return null}function cc(i){return i=i[ws]||i[Hs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ma(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function hd(i){return i[lc]||null}var yp=[],Va=-1;function Ci(i){return{current:i}}function lt(i){0>Va||(i.current=yp[Va],yp[Va]=null,Va--)}function rt(i,o){Va++,yp[Va]=i.current,i.current=o}var Ii={},yn=Ci(Ii),Fn=Ci(!1),jo=Ii;function Oa(i,o){var c=i.type.contextTypes;if(!c)return Ii;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=o[w];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=y),y}function Un(i){return i=i.childContextTypes,i!=null}function fd(){lt(Fn),lt(yn)}function ex(i,o,c){if(yn.current!==Ii)throw Error(n(168));rt(yn,o),rt(Fn,c)}function tx(i,o,c){var m=i.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var y in m)if(!(y in o))throw Error(n(108,Fe(i)||"Unknown",y));return ae({},c,m)}function pd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ii,jo=yn.current,rt(yn,i),rt(Fn,Fn.current),!0}function nx(i,o,c){var m=i.stateNode;if(!m)throw Error(n(169));c?(i=tx(i,o,jo),m.__reactInternalMemoizedMergedChildContext=i,lt(Fn),lt(yn),rt(yn,i)):lt(Fn),rt(Fn,c)}var Gs=null,md=!1,vp=!1;function rx(i){Gs===null?Gs=[i]:Gs.push(i)}function BR(i){md=!0,rx(i)}function Ri(){if(!vp&&Gs!==null){vp=!0;var i=0,o=We;try{var c=Gs;for(We=1;i<c.length;i++){var m=c[i];do m=m(!0);while(m!==null)}Gs=null,md=!1}catch(y){throw Gs!==null&&(Gs=Gs.slice(i+1)),Fl(va,Ri),y}finally{We=o,vp=!1}}return null}var Fa=[],Ua=0,gd=null,yd=0,fr=[],pr=0,Do=null,Ks=1,Qs="";function Lo(i,o){Fa[Ua++]=yd,Fa[Ua++]=gd,gd=i,yd=o}function sx(i,o,c){fr[pr++]=Ks,fr[pr++]=Qs,fr[pr++]=Do,Do=i;var m=Ks;i=Qs;var y=32-er(m)-1;m&=~(1<<y),c+=1;var w=32-er(o)+y;if(30<w){var S=y-y%5;w=(m&(1<<S)-1).toString(32),m>>=S,y-=S,Ks=1<<32-er(o)+y|c<<y|m,Qs=w+i}else Ks=1<<w|c<<y|m,Qs=i}function xp(i){i.return!==null&&(Lo(i,1),sx(i,1,0))}function wp(i){for(;i===gd;)gd=Fa[--Ua],Fa[Ua]=null,yd=Fa[--Ua],Fa[Ua]=null;for(;i===Do;)Do=fr[--pr],fr[pr]=null,Qs=fr[--pr],fr[pr]=null,Ks=fr[--pr],fr[pr]=null}var ir=null,or=null,dt=!1,zr=null;function ix(i,o){var c=vr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function ox(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,ir=i,or=Si(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,ir=i,or=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Do!==null?{id:Ks,overflow:Qs}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=vr(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,ir=i,or=null,!0):!1;default:return!1}}function _p(i){return(i.mode&1)!==0&&(i.flags&128)===0}function bp(i){if(dt){var o=or;if(o){var c=o;if(!ox(i,o)){if(_p(i))throw Error(n(418));o=Si(c.nextSibling);var m=ir;o&&ox(i,o)?ix(m,c):(i.flags=i.flags&-4097|2,dt=!1,ir=i)}}else{if(_p(i))throw Error(n(418));i.flags=i.flags&-4097|2,dt=!1,ir=i}}}function ax(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ir=i}function vd(i){if(i!==ir)return!1;if(!dt)return ax(i),dt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!fp(i.type,i.memoizedProps)),o&&(o=or)){if(_p(i))throw lx(),Error(n(418));for(;o;)ix(i,o),o=Si(o.nextSibling)}if(ax(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){or=Si(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}or=null}}else or=ir?Si(i.stateNode.nextSibling):null;return!0}function lx(){for(var i=or;i;)i=Si(i.nextSibling)}function Ba(){or=ir=null,dt=!1}function Ep(i){zr===null?zr=[i]:zr.push(i)}var zR=B.ReactCurrentBatchConfig;function uc(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,i));var y=m,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(S){var O=y.refs;S===null?delete O[w]:O[w]=S},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function xd(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function cx(i){var o=i._init;return o(i._payload)}function ux(i){function o(H,z){if(i){var Q=H.deletions;Q===null?(H.deletions=[z],H.flags|=16):Q.push(z)}}function c(H,z){if(!i)return null;for(;z!==null;)o(H,z),z=z.sibling;return null}function m(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function y(H,z){return H=Mi(H,z),H.index=0,H.sibling=null,H}function w(H,z,Q){return H.index=Q,i?(Q=H.alternate,Q!==null?(Q=Q.index,Q<z?(H.flags|=2,z):Q):(H.flags|=2,z)):(H.flags|=1048576,z)}function S(H){return i&&H.alternate===null&&(H.flags|=2),H}function O(H,z,Q,oe){return z===null||z.tag!==6?(z=pm(Q,H.mode,oe),z.return=H,z):(z=y(z,Q),z.return=H,z)}function U(H,z,Q,oe){var ye=Q.type;return ye===R?re(H,z,Q.props.children,oe,Q.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===fe&&cx(ye)===z.type)?(oe=y(z,Q.props),oe.ref=uc(H,z,Q),oe.return=H,oe):(oe=$d(Q.type,Q.key,Q.props,null,H.mode,oe),oe.ref=uc(H,z,Q),oe.return=H,oe)}function X(H,z,Q,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=mm(Q,H.mode,oe),z.return=H,z):(z=y(z,Q.children||[]),z.return=H,z)}function re(H,z,Q,oe,ye){return z===null||z.tag!==7?(z=$o(Q,H.mode,oe,ye),z.return=H,z):(z=y(z,Q),z.return=H,z)}function ie(H,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=pm(""+z,H.mode,Q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return Q=$d(z.type,z.key,z.props,null,H.mode,Q),Q.ref=uc(H,null,z),Q.return=H,Q;case q:return z=mm(z,H.mode,Q),z.return=H,z;case fe:var oe=z._init;return ie(H,oe(z._payload),Q)}if(Ze(z)||ce(z))return z=$o(z,H.mode,Q,null),z.return=H,z;xd(H,z)}return null}function ne(H,z,Q,oe){var ye=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return ye!==null?null:O(H,z,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return Q.key===ye?U(H,z,Q,oe):null;case q:return Q.key===ye?X(H,z,Q,oe):null;case fe:return ye=Q._init,ne(H,z,ye(Q._payload),oe)}if(Ze(Q)||ce(Q))return ye!==null?null:re(H,z,Q,oe,null);xd(H,Q)}return null}function de(H,z,Q,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(Q)||null,O(z,H,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case K:return H=H.get(oe.key===null?Q:oe.key)||null,U(z,H,oe,ye);case q:return H=H.get(oe.key===null?Q:oe.key)||null,X(z,H,oe,ye);case fe:var be=oe._init;return de(H,z,Q,be(oe._payload),ye)}if(Ze(oe)||ce(oe))return H=H.get(Q)||null,re(z,H,oe,ye,null);xd(z,oe)}return null}function me(H,z,Q,oe){for(var ye=null,be=null,Ee=z,Re=z=0,Gt=null;Ee!==null&&Re<Q.length;Re++){Ee.index>Re?(Gt=Ee,Ee=null):Gt=Ee.sibling;var Qe=ne(H,Ee,Q[Re],oe);if(Qe===null){Ee===null&&(Ee=Gt);break}i&&Ee&&Qe.alternate===null&&o(H,Ee),z=w(Qe,z,Re),be===null?ye=Qe:be.sibling=Qe,be=Qe,Ee=Gt}if(Re===Q.length)return c(H,Ee),dt&&Lo(H,Re),ye;if(Ee===null){for(;Re<Q.length;Re++)Ee=ie(H,Q[Re],oe),Ee!==null&&(z=w(Ee,z,Re),be===null?ye=Ee:be.sibling=Ee,be=Ee);return dt&&Lo(H,Re),ye}for(Ee=m(H,Ee);Re<Q.length;Re++)Gt=de(Ee,H,Re,Q[Re],oe),Gt!==null&&(i&&Gt.alternate!==null&&Ee.delete(Gt.key===null?Re:Gt.key),z=w(Gt,z,Re),be===null?ye=Gt:be.sibling=Gt,be=Gt);return i&&Ee.forEach(function(Vi){return o(H,Vi)}),dt&&Lo(H,Re),ye}function ge(H,z,Q,oe){var ye=ce(Q);if(typeof ye!="function")throw Error(n(150));if(Q=ye.call(Q),Q==null)throw Error(n(151));for(var be=ye=null,Ee=z,Re=z=0,Gt=null,Qe=Q.next();Ee!==null&&!Qe.done;Re++,Qe=Q.next()){Ee.index>Re?(Gt=Ee,Ee=null):Gt=Ee.sibling;var Vi=ne(H,Ee,Qe.value,oe);if(Vi===null){Ee===null&&(Ee=Gt);break}i&&Ee&&Vi.alternate===null&&o(H,Ee),z=w(Vi,z,Re),be===null?ye=Vi:be.sibling=Vi,be=Vi,Ee=Gt}if(Qe.done)return c(H,Ee),dt&&Lo(H,Re),ye;if(Ee===null){for(;!Qe.done;Re++,Qe=Q.next())Qe=ie(H,Qe.value,oe),Qe!==null&&(z=w(Qe,z,Re),be===null?ye=Qe:be.sibling=Qe,be=Qe);return dt&&Lo(H,Re),ye}for(Ee=m(H,Ee);!Qe.done;Re++,Qe=Q.next())Qe=de(Ee,H,Re,Qe.value,oe),Qe!==null&&(i&&Qe.alternate!==null&&Ee.delete(Qe.key===null?Re:Qe.key),z=w(Qe,z,Re),be===null?ye=Qe:be.sibling=Qe,be=Qe);return i&&Ee.forEach(function(_A){return o(H,_A)}),dt&&Lo(H,Re),ye}function St(H,z,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:e:{for(var ye=Q.key,be=z;be!==null;){if(be.key===ye){if(ye=Q.type,ye===R){if(be.tag===7){c(H,be.sibling),z=y(be,Q.props.children),z.return=H,H=z;break e}}else if(be.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===fe&&cx(ye)===be.type){c(H,be.sibling),z=y(be,Q.props),z.ref=uc(H,be,Q),z.return=H,H=z;break e}c(H,be);break}else o(H,be);be=be.sibling}Q.type===R?(z=$o(Q.props.children,H.mode,oe,Q.key),z.return=H,H=z):(oe=$d(Q.type,Q.key,Q.props,null,H.mode,oe),oe.ref=uc(H,z,Q),oe.return=H,H=oe)}return S(H);case q:e:{for(be=Q.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){c(H,z.sibling),z=y(z,Q.children||[]),z.return=H,H=z;break e}else{c(H,z);break}else o(H,z);z=z.sibling}z=mm(Q,H.mode,oe),z.return=H,H=z}return S(H);case fe:return be=Q._init,St(H,z,be(Q._payload),oe)}if(Ze(Q))return me(H,z,Q,oe);if(ce(Q))return ge(H,z,Q,oe);xd(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(c(H,z.sibling),z=y(z,Q),z.return=H,H=z):(c(H,z),z=pm(Q,H.mode,oe),z.return=H,H=z),S(H)):c(H,z)}return St}var za=ux(!0),dx=ux(!1),wd=Ci(null),_d=null,$a=null,Tp=null;function Sp(){Tp=$a=_d=null}function Cp(i){var o=wd.current;lt(wd),i._currentValue=o}function Ip(i,o,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===c)break;i=i.return}}function Wa(i,o){_d=i,Tp=$a=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Bn=!0),i.firstContext=null)}function mr(i){var o=i._currentValue;if(Tp!==i)if(i={context:i,memoizedValue:o,next:null},$a===null){if(_d===null)throw Error(n(308));$a=i,_d.dependencies={lanes:0,firstContext:i}}else $a=$a.next=i;return o}var Mo=null;function Rp(i){Mo===null?Mo=[i]:Mo.push(i)}function hx(i,o,c,m){var y=o.interleaved;return y===null?(c.next=c,Rp(o)):(c.next=y.next,y.next=c),o.interleaved=c,Xs(i,m)}function Xs(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Ai=!1;function Ap(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ys(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ni(i,o,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Ge&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,Xs(i,c)}return y=m.interleaved,y===null?(o.next=o,Rp(m)):(o.next=y.next,y.next=o),m.interleaved=o,Xs(i,c)}function bd(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,ql(i,c)}}function px(i,o){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=S:w=w.next=S,c=c.next}while(c!==null);w===null?y=w=o:w=w.next=o}else y=w=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,effects:m.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function Ed(i,o,c,m){var y=i.updateQueue;Ai=!1;var w=y.firstBaseUpdate,S=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var U=O,X=U.next;U.next=null,S===null?w=X:S.next=X,S=U;var re=i.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==S&&(O===null?re.firstBaseUpdate=X:O.next=X,re.lastBaseUpdate=U))}if(w!==null){var ie=y.baseState;S=0,re=X=U=null,O=w;do{var ne=O.lane,de=O.eventTime;if((m&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var me=i,ge=O;switch(ne=o,de=c,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ie=me.call(de,ie,ne);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ne=typeof me=="function"?me.call(de,ie,ne):me,ne==null)break e;ie=ae({},ie,ne);break e;case 2:Ai=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ne=y.effects,ne===null?y.effects=[O]:ne.push(O))}else de={eventTime:de,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(X=re=de,U=ie):re=re.next=de,S|=ne;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);if(re===null&&(U=ie),y.baseState=U,y.firstBaseUpdate=X,y.lastBaseUpdate=re,o=y.shared.interleaved,o!==null){y=o;do S|=y.lane,y=y.next;while(y!==o)}else w===null&&(y.shared.lanes=0);Fo|=S,i.lanes=S,i.memoizedState=ie}}function mx(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var m=i[o],y=m.callback;if(y!==null){if(m.callback=null,m=c,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var dc={},_s=Ci(dc),hc=Ci(dc),fc=Ci(dc);function Vo(i){if(i===dc)throw Error(n(174));return i}function Np(i,o){switch(rt(fc,o),rt(hc,i),rt(_s,dc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Jn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Jn(o,i)}lt(_s),rt(_s,o)}function qa(){lt(_s),lt(hc),lt(fc)}function gx(i){Vo(fc.current);var o=Vo(_s.current),c=Jn(o,i.type);o!==c&&(rt(hc,i),rt(_s,c))}function kp(i){hc.current===i&&(lt(_s),lt(hc))}var pt=Ci(0);function Td(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pp=[];function jp(){for(var i=0;i<Pp.length;i++)Pp[i]._workInProgressVersionPrimary=null;Pp.length=0}var Sd=B.ReactCurrentDispatcher,Dp=B.ReactCurrentBatchConfig,Oo=0,mt=null,Ft=null,qt=null,Cd=!1,pc=!1,mc=0,$R=0;function vn(){throw Error(n(321))}function Lp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Br(i[c],o[c]))return!1;return!0}function Mp(i,o,c,m,y,w){if(Oo=w,mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Sd.current=i===null||i.memoizedState===null?GR:KR,i=c(m,y),pc){w=0;do{if(pc=!1,mc=0,25<=w)throw Error(n(301));w+=1,qt=Ft=null,o.updateQueue=null,Sd.current=QR,i=c(m,y)}while(pc)}if(Sd.current=Ad,o=Ft!==null&&Ft.next!==null,Oo=0,qt=Ft=mt=null,Cd=!1,o)throw Error(n(300));return i}function Vp(){var i=mc!==0;return mc=0,i}function bs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?mt.memoizedState=qt=i:qt=qt.next=i,qt}function gr(){if(Ft===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Ft.next;var o=qt===null?mt.memoizedState:qt.next;if(o!==null)qt=o,Ft=i;else{if(i===null)throw Error(n(310));Ft=i,i={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},qt===null?mt.memoizedState=qt=i:qt=qt.next=i}return qt}function gc(i,o){return typeof o=="function"?o(i):o}function Op(i){var o=gr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=Ft,y=m.baseQueue,w=c.pending;if(w!==null){if(y!==null){var S=y.next;y.next=w.next,w.next=S}m.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,m=m.baseState;var O=S=null,U=null,X=w;do{var re=X.lane;if((Oo&re)===re)U!==null&&(U=U.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),m=X.hasEagerState?X.eagerState:i(m,X.action);else{var ie={lane:re,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};U===null?(O=U=ie,S=m):U=U.next=ie,mt.lanes|=re,Fo|=re}X=X.next}while(X!==null&&X!==w);U===null?S=m:U.next=O,Br(m,o.memoizedState)||(Bn=!0),o.memoizedState=m,o.baseState=S,o.baseQueue=U,c.lastRenderedState=m}if(i=c.interleaved,i!==null){y=i;do w=y.lane,mt.lanes|=w,Fo|=w,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Fp(i){var o=gr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=c.dispatch,y=c.pending,w=o.memoizedState;if(y!==null){c.pending=null;var S=y=y.next;do w=i(w,S.action),S=S.next;while(S!==y);Br(w,o.memoizedState)||(Bn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,m]}function yx(){}function vx(i,o){var c=mt,m=gr(),y=o(),w=!Br(m.memoizedState,y);if(w&&(m.memoizedState=y,Bn=!0),m=m.queue,Up(_x.bind(null,c,m,i),[i]),m.getSnapshot!==o||w||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,yc(9,wx.bind(null,c,m,y,o),void 0,null),Ht===null)throw Error(n(349));(Oo&30)!==0||xx(c,o,y)}return y}function xx(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function wx(i,o,c,m){o.value=c,o.getSnapshot=m,bx(o)&&Ex(i)}function _x(i,o,c){return c(function(){bx(o)&&Ex(i)})}function bx(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Br(i,c)}catch{return!0}}function Ex(i){var o=Xs(i,1);o!==null&&Hr(o,i,1,-1)}function Tx(i){var o=bs();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:i},o.queue=i,i=i.dispatch=HR.bind(null,mt,i),[o.memoizedState,i]}function yc(i,o,c,m){return i={tag:i,create:o,destroy:c,deps:m,next:null},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,o.lastEffect=i)),i}function Sx(){return gr().memoizedState}function Id(i,o,c,m){var y=bs();mt.flags|=i,y.memoizedState=yc(1|o,c,void 0,m===void 0?null:m)}function Rd(i,o,c,m){var y=gr();m=m===void 0?null:m;var w=void 0;if(Ft!==null){var S=Ft.memoizedState;if(w=S.destroy,m!==null&&Lp(m,S.deps)){y.memoizedState=yc(o,c,w,m);return}}mt.flags|=i,y.memoizedState=yc(1|o,c,w,m)}function Cx(i,o){return Id(8390656,8,i,o)}function Up(i,o){return Rd(2048,8,i,o)}function Ix(i,o){return Rd(4,2,i,o)}function Rx(i,o){return Rd(4,4,i,o)}function Ax(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Nx(i,o,c){return c=c!=null?c.concat([i]):null,Rd(4,4,Ax.bind(null,o,i),c)}function Bp(){}function kx(i,o){var c=gr();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&Lp(o,m[1])?m[0]:(c.memoizedState=[i,o],i)}function Px(i,o){var c=gr();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&Lp(o,m[1])?m[0]:(i=i(),c.memoizedState=[i,o],i)}function jx(i,o,c){return(Oo&21)===0?(i.baseState&&(i.baseState=!1,Bn=!0),i.memoizedState=c):(Br(c,o)||(c=$l(),mt.lanes|=c,Fo|=c,i.baseState=!0),o)}function WR(i,o){var c=We;We=c!==0&&4>c?c:4,i(!0);var m=Dp.transition;Dp.transition={};try{i(!1),o()}finally{We=c,Dp.transition=m}}function Dx(){return gr().memoizedState}function qR(i,o,c){var m=Di(i);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},Lx(i))Mx(o,c);else if(c=hx(i,o,c,m),c!==null){var y=Pn();Hr(c,i,m,y),Vx(c,o,m)}}function HR(i,o,c){var m=Di(i),y={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(Lx(i))Mx(o,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var S=o.lastRenderedState,O=w(S,c);if(y.hasEagerState=!0,y.eagerState=O,Br(O,S)){var U=o.interleaved;U===null?(y.next=y,Rp(o)):(y.next=U.next,U.next=y),o.interleaved=y;return}}catch{}finally{}c=hx(i,o,y,m),c!==null&&(y=Pn(),Hr(c,i,m,y),Vx(c,o,m))}}function Lx(i){var o=i.alternate;return i===mt||o!==null&&o===mt}function Mx(i,o){pc=Cd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function Vx(i,o,c){if((c&4194240)!==0){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,ql(i,c)}}var Ad={readContext:mr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},GR={readContext:mr,useCallback:function(i,o){return bs().memoizedState=[i,o===void 0?null:o],i},useContext:mr,useEffect:Cx,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,Id(4194308,4,Ax.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Id(4194308,4,i,o)},useInsertionEffect:function(i,o){return Id(4,2,i,o)},useMemo:function(i,o){var c=bs();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var m=bs();return o=c!==void 0?c(o):o,m.memoizedState=m.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},m.queue=i,i=i.dispatch=qR.bind(null,mt,i),[m.memoizedState,i]},useRef:function(i){var o=bs();return i={current:i},o.memoizedState=i},useState:Tx,useDebugValue:Bp,useDeferredValue:function(i){return bs().memoizedState=i},useTransition:function(){var i=Tx(!1),o=i[0];return i=WR.bind(null,i[1]),bs().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var m=mt,y=bs();if(dt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Ht===null)throw Error(n(349));(Oo&30)!==0||xx(m,o,c)}y.memoizedState=c;var w={value:c,getSnapshot:o};return y.queue=w,Cx(_x.bind(null,m,w,i),[i]),m.flags|=2048,yc(9,wx.bind(null,m,w,c,o),void 0,null),c},useId:function(){var i=bs(),o=Ht.identifierPrefix;if(dt){var c=Qs,m=Ks;c=(m&~(1<<32-er(m)-1)).toString(32)+c,o=":"+o+"R"+c,c=mc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=$R++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},KR={readContext:mr,useCallback:kx,useContext:mr,useEffect:Up,useImperativeHandle:Nx,useInsertionEffect:Ix,useLayoutEffect:Rx,useMemo:Px,useReducer:Op,useRef:Sx,useState:function(){return Op(gc)},useDebugValue:Bp,useDeferredValue:function(i){var o=gr();return jx(o,Ft.memoizedState,i)},useTransition:function(){var i=Op(gc)[0],o=gr().memoizedState;return[i,o]},useMutableSource:yx,useSyncExternalStore:vx,useId:Dx,unstable_isNewReconciler:!1},QR={readContext:mr,useCallback:kx,useContext:mr,useEffect:Up,useImperativeHandle:Nx,useInsertionEffect:Ix,useLayoutEffect:Rx,useMemo:Px,useReducer:Fp,useRef:Sx,useState:function(){return Fp(gc)},useDebugValue:Bp,useDeferredValue:function(i){var o=gr();return Ft===null?o.memoizedState=i:jx(o,Ft.memoizedState,i)},useTransition:function(){var i=Fp(gc)[0],o=gr().memoizedState;return[i,o]},useMutableSource:yx,useSyncExternalStore:vx,useId:Dx,unstable_isNewReconciler:!1};function $r(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function zp(i,o,c,m){o=i.memoizedState,c=c(m,o),c=c==null?o:ae({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Nd={isMounted:function(i){return(i=i._reactInternals)?Fr(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var m=Pn(),y=Di(i),w=Ys(m,y);w.payload=o,c!=null&&(w.callback=c),o=Ni(i,w,y),o!==null&&(Hr(o,i,y,m),bd(o,i,y))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var m=Pn(),y=Di(i),w=Ys(m,y);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=Ni(i,w,y),o!==null&&(Hr(o,i,y,m),bd(o,i,y))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=Pn(),m=Di(i),y=Ys(c,m);y.tag=2,o!=null&&(y.callback=o),o=Ni(i,y,m),o!==null&&(Hr(o,i,m,c),bd(o,i,m))}};function Ox(i,o,c,m,y,w,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,w,S):o.prototype&&o.prototype.isPureReactComponent?!rc(c,m)||!rc(y,w):!0}function Fx(i,o,c){var m=!1,y=Ii,w=o.contextType;return typeof w=="object"&&w!==null?w=mr(w):(y=Un(o)?jo:yn.current,m=o.contextTypes,w=(m=m!=null)?Oa(i,y):Ii),o=new o(c,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Nd,i.stateNode=o,o._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=w),o}function Ux(i,o,c,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==i&&Nd.enqueueReplaceState(o,o.state,null)}function $p(i,o,c,m){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},Ap(i);var w=o.contextType;typeof w=="object"&&w!==null?y.context=mr(w):(w=Un(o)?jo:yn.current,y.context=Oa(i,w)),y.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(zp(i,o,w,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Nd.enqueueReplaceState(y,y.state,null),Ed(i,c,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Ha(i,o){try{var c="",m=o;do c+=Pe(m),m=m.return;while(m);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:y,digest:null}}function Wp(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function qp(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var XR=typeof WeakMap=="function"?WeakMap:Map;function Bx(i,o,c){c=Ys(-1,c),c.tag=3,c.payload={element:null};var m=o.value;return c.callback=function(){Vd||(Vd=!0,om=m),qp(i,o)},c}function zx(i,o,c){c=Ys(-1,c),c.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=o.value;c.payload=function(){return m(y)},c.callback=function(){qp(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){qp(i,o),typeof m!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),c}function $x(i,o,c){var m=i.pingCache;if(m===null){m=i.pingCache=new XR;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(y.add(c),i=uA.bind(null,i,o,c),o.then(i,i))}function Wx(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function qx(i,o,c,m,y){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Ys(-1,1),o.tag=2,Ni(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var YR=B.ReactCurrentOwner,Bn=!1;function kn(i,o,c,m){o.child=i===null?dx(o,null,c,m):za(o,i.child,c,m)}function Hx(i,o,c,m,y){c=c.render;var w=o.ref;return Wa(o,y),m=Mp(i,o,c,m,w,y),c=Vp(),i!==null&&!Bn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Js(i,o,y)):(dt&&c&&xp(o),o.flags|=1,kn(i,o,m,y),o.child)}function Gx(i,o,c,m,y){if(i===null){var w=c.type;return typeof w=="function"&&!fm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,Kx(i,o,w,m,y)):(i=$d(c.type,null,m,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&y)===0){var S=w.memoizedProps;if(c=c.compare,c=c!==null?c:rc,c(S,m)&&i.ref===o.ref)return Js(i,o,y)}return o.flags|=1,i=Mi(w,m),i.ref=o.ref,i.return=o,o.child=i}function Kx(i,o,c,m,y){if(i!==null){var w=i.memoizedProps;if(rc(w,m)&&i.ref===o.ref)if(Bn=!1,o.pendingProps=m=w,(i.lanes&y)!==0)(i.flags&131072)!==0&&(Bn=!0);else return o.lanes=i.lanes,Js(i,o,y)}return Hp(i,o,c,m,y)}function Qx(i,o,c){var m=o.pendingProps,y=m.children,w=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ka,ar),ar|=c;else{if((c&1073741824)===0)return i=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,rt(Ka,ar),ar|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:c,rt(Ka,ar),ar|=m}else w!==null?(m=w.baseLanes|c,o.memoizedState=null):m=c,rt(Ka,ar),ar|=m;return kn(i,o,y,c),o.child}function Xx(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Hp(i,o,c,m,y){var w=Un(c)?jo:yn.current;return w=Oa(o,w),Wa(o,y),c=Mp(i,o,c,m,w,y),m=Vp(),i!==null&&!Bn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,Js(i,o,y)):(dt&&m&&xp(o),o.flags|=1,kn(i,o,c,y),o.child)}function Yx(i,o,c,m,y){if(Un(c)){var w=!0;pd(o)}else w=!1;if(Wa(o,y),o.stateNode===null)Pd(i,o),Fx(o,c,m),$p(o,c,m,y),m=!0;else if(i===null){var S=o.stateNode,O=o.memoizedProps;S.props=O;var U=S.context,X=c.contextType;typeof X=="object"&&X!==null?X=mr(X):(X=Un(c)?jo:yn.current,X=Oa(o,X));var re=c.getDerivedStateFromProps,ie=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function";ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==m||U!==X)&&Ux(o,S,m,X),Ai=!1;var ne=o.memoizedState;S.state=ne,Ed(o,m,S,y),U=o.memoizedState,O!==m||ne!==U||Fn.current||Ai?(typeof re=="function"&&(zp(o,c,re,m),U=o.memoizedState),(O=Ai||Ox(o,c,O,m,ne,U,X))?(ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=U),S.props=m,S.state=U,S.context=X,m=O):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{S=o.stateNode,fx(i,o),O=o.memoizedProps,X=o.type===o.elementType?O:$r(o.type,O),S.props=X,ie=o.pendingProps,ne=S.context,U=c.contextType,typeof U=="object"&&U!==null?U=mr(U):(U=Un(c)?jo:yn.current,U=Oa(o,U));var de=c.getDerivedStateFromProps;(re=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==ie||ne!==U)&&Ux(o,S,m,U),Ai=!1,ne=o.memoizedState,S.state=ne,Ed(o,m,S,y);var me=o.memoizedState;O!==ie||ne!==me||Fn.current||Ai?(typeof de=="function"&&(zp(o,c,de,m),me=o.memoizedState),(X=Ai||Ox(o,c,X,m,ne,me,U)||!1)?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,me,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,me,U)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=me),S.props=m,S.state=me,S.context=U,m=X):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),m=!1)}return Gp(i,o,c,m,w,y)}function Gp(i,o,c,m,y,w){Xx(i,o);var S=(o.flags&128)!==0;if(!m&&!S)return y&&nx(o,c,!1),Js(i,o,w);m=o.stateNode,YR.current=o;var O=S&&typeof c.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,i!==null&&S?(o.child=za(o,i.child,null,w),o.child=za(o,null,O,w)):kn(i,o,O,w),o.memoizedState=m.state,y&&nx(o,c,!0),o.child}function Jx(i){var o=i.stateNode;o.pendingContext?ex(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ex(i,o.context,!1),Np(i,o.containerInfo)}function Zx(i,o,c,m,y){return Ba(),Ep(y),o.flags|=256,kn(i,o,c,m),o.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Qp(i){return{baseLanes:i,cachePool:null,transitions:null}}function ew(i,o,c){var m=o.pendingProps,y=pt.current,w=!1,S=(o.flags&128)!==0,O;if((O=S)||(O=i!==null&&i.memoizedState===null?!1:(y&2)!==0),O?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),rt(pt,y&1),i===null)return bp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=m.children,i=m.fallback,w?(m=o.mode,w=o.child,S={mode:"hidden",children:S},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=S):w=Wd(S,m,0,null),i=$o(i,m,c,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=Qp(c),o.memoizedState=Kp,i):Xp(o,S));if(y=i.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return JR(i,o,S,m,O,y,c);if(w){w=m.fallback,S=o.mode,y=i.child,O=y.sibling;var U={mode:"hidden",children:m.children};return(S&1)===0&&o.child!==y?(m=o.child,m.childLanes=0,m.pendingProps=U,o.deletions=null):(m=Mi(y,U),m.subtreeFlags=y.subtreeFlags&14680064),O!==null?w=Mi(O,w):(w=$o(w,S,c,null),w.flags|=2),w.return=o,m.return=o,m.sibling=w,o.child=m,m=w,w=o.child,S=i.child.memoizedState,S=S===null?Qp(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},w.memoizedState=S,w.childLanes=i.childLanes&~c,o.memoizedState=Kp,m}return w=i.child,i=w.sibling,m=Mi(w,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=c),m.return=o,m.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=m,o.memoizedState=null,m}function Xp(i,o){return o=Wd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function kd(i,o,c,m){return m!==null&&Ep(m),za(o,i.child,null,c),i=Xp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function JR(i,o,c,m,y,w,S){if(c)return o.flags&256?(o.flags&=-257,m=Wp(Error(n(422))),kd(i,o,S,m)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=m.fallback,y=o.mode,m=Wd({mode:"visible",children:m.children},y,0,null),w=$o(w,y,S,null),w.flags|=2,m.return=o,w.return=o,m.sibling=w,o.child=m,(o.mode&1)!==0&&za(o,i.child,null,S),o.child.memoizedState=Qp(S),o.memoizedState=Kp,w);if((o.mode&1)===0)return kd(i,o,S,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;return m=O,w=Error(n(419)),m=Wp(w,m,void 0),kd(i,o,S,m)}if(O=(S&i.childLanes)!==0,Bn||O){if(m=Ht,m!==null){switch(S&-S){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|S))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Xs(i,y),Hr(m,i,y,-1))}return hm(),m=Wp(Error(n(421))),kd(i,o,S,m)}return y.data==="$?"?(o.flags|=128,o.child=i.child,o=dA.bind(null,i),y._reactRetry=o,null):(i=w.treeContext,or=Si(y.nextSibling),ir=o,dt=!0,zr=null,i!==null&&(fr[pr++]=Ks,fr[pr++]=Qs,fr[pr++]=Do,Ks=i.id,Qs=i.overflow,Do=o),o=Xp(o,m.children),o.flags|=4096,o)}function tw(i,o,c){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),Ip(i.return,o,c)}function Yp(i,o,c,m,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=c,w.tailMode=y)}function nw(i,o,c){var m=o.pendingProps,y=m.revealOrder,w=m.tail;if(kn(i,o,m.children,c),m=pt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tw(i,c,o);else if(i.tag===19)tw(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(rt(pt,m),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&Td(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Yp(o,!1,y,c,w);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Td(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}Yp(o,!0,c,null,w);break;case"together":Yp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Pd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Js(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Fo|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Mi(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Mi(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function ZR(i,o,c){switch(o.tag){case 3:Jx(o),Ba();break;case 5:gx(o);break;case 1:Un(o.type)&&pd(o);break;case 4:Np(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,y=o.memoizedProps.value;rt(wd,m._currentValue),m._currentValue=y;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(rt(pt,pt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?ew(i,o,c):(rt(pt,pt.current&1),i=Js(i,o,c),i!==null?i.sibling:null);rt(pt,pt.current&1);break;case 19:if(m=(c&o.childLanes)!==0,(i.flags&128)!==0){if(m)return nw(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),rt(pt,pt.current),m)break;return null;case 22:case 23:return o.lanes=0,Qx(i,o,c)}return Js(i,o,c)}var rw,Jp,sw,iw;rw=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Jp=function(){},sw=function(i,o,c,m){var y=i.memoizedProps;if(y!==m){i=o.stateNode,Vo(_s.current);var w=null;switch(c){case"input":y=fn(i,y),m=fn(i,m),w=[];break;case"select":y=ae({},y,{value:void 0}),m=ae({},m,{value:void 0}),w=[];break;case"textarea":y=rs(i,y),m=rs(i,m),w=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=dd)}Vn(c,m);var S;c=null;for(X in y)if(!m.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var O=y[X];for(S in O)O.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in m){var U=m[X];if(O=y?.[X],m.hasOwnProperty(X)&&U!==O&&(U!=null||O!=null))if(X==="style")if(O){for(S in O)!O.hasOwnProperty(S)||U&&U.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in U)U.hasOwnProperty(S)&&O[S]!==U[S]&&(c||(c={}),c[S]=U[S])}else c||(w||(w=[]),w.push(X,c)),c=U;else X==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,O=O?O.__html:void 0,U!=null&&O!==U&&(w=w||[]).push(X,U)):X==="children"?typeof U!="string"&&typeof U!="number"||(w=w||[]).push(X,""+U):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(U!=null&&X==="onScroll"&&at("scroll",i),w||O===U||(w=[])):(w=w||[]).push(X,U))}c&&(w=w||[]).push("style",c);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},iw=function(i,o,c,m){c!==m&&(o.flags|=4)};function vc(i,o){if(!dt)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function xn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=c,o}function eA(i,o,c){var m=o.pendingProps;switch(wp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(o),null;case 1:return Un(o.type)&&fd(),xn(o),null;case 3:return m=o.stateNode,qa(),lt(Fn),lt(yn),jp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(vd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,zr!==null&&(cm(zr),zr=null))),Jp(i,o),xn(o),null;case 5:kp(o);var y=Vo(fc.current);if(c=o.type,i!==null&&o.stateNode!=null)sw(i,o,c,m,y),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(n(166));return xn(o),null}if(i=Vo(_s.current),vd(o)){m=o.stateNode,c=o.type;var w=o.memoizedProps;switch(m[ws]=o,m[lc]=w,i=(o.mode&1)!==0,c){case"dialog":at("cancel",m),at("close",m);break;case"iframe":case"object":case"embed":at("load",m);break;case"video":case"audio":for(y=0;y<ic.length;y++)at(ic[y],m);break;case"source":at("error",m);break;case"img":case"image":case"link":at("error",m),at("load",m);break;case"details":at("toggle",m);break;case"input":Dr(m,w),at("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},at("invalid",m);break;case"textarea":fi(m,w),at("invalid",m)}Vn(c,w),y=null;for(var S in w)if(w.hasOwnProperty(S)){var O=w[S];S==="children"?typeof O=="string"?m.textContent!==O&&(w.suppressHydrationWarning!==!0&&ud(m.textContent,O,i),y=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&ud(m.textContent,O,i),y=["children",""+O]):s.hasOwnProperty(S)&&O!=null&&S==="onScroll"&&at("scroll",m)}switch(c){case"input":dr(m),hi(m,w,!0);break;case"textarea":dr(m),ss(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=dd)}m=y,o.updateQueue=m,m!==null&&(o.flags|=4)}else{S=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=vo(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=S.createElement(c,{is:m.is}):(i=S.createElement(c),c==="select"&&(S=i,m.multiple?S.multiple=!0:m.size&&(S.size=m.size))):i=S.createElementNS(i,c),i[ws]=o,i[lc]=m,rw(i,o,!1,!1),o.stateNode=i;e:{switch(S=mi(c,m),c){case"dialog":at("cancel",i),at("close",i),y=m;break;case"iframe":case"object":case"embed":at("load",i),y=m;break;case"video":case"audio":for(y=0;y<ic.length;y++)at(ic[y],i);y=m;break;case"source":at("error",i),y=m;break;case"img":case"image":case"link":at("error",i),at("load",i),y=m;break;case"details":at("toggle",i),y=m;break;case"input":Dr(i,m),y=fn(i,m),at("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=ae({},m,{value:void 0}),at("invalid",i);break;case"textarea":fi(i,m),y=rs(i,m),at("invalid",i);break;default:y=m}Vn(c,y),O=y;for(w in O)if(O.hasOwnProperty(w)){var U=O[w];w==="style"?pi(i,U):w==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&is(i,U)):w==="children"?typeof U=="string"?(c!=="textarea"||U!=="")&&os(i,U):typeof U=="number"&&os(i,""+U):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?U!=null&&w==="onScroll"&&at("scroll",i):U!=null&&D(i,w,U,S))}switch(c){case"input":dr(i),hi(i,m,!1);break;case"textarea":dr(i),ss(i);break;case"option":m.value!=null&&i.setAttribute("value",""+Ne(m.value));break;case"select":i.multiple=!!m.multiple,w=m.value,w!=null?pn(i,!!m.multiple,w,!1):m.defaultValue!=null&&pn(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=dd)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return xn(o),null;case 6:if(i&&o.stateNode!=null)iw(i,o,i.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(c=Vo(fc.current),Vo(_s.current),vd(o)){if(m=o.stateNode,c=o.memoizedProps,m[ws]=o,(w=m.nodeValue!==c)&&(i=ir,i!==null))switch(i.tag){case 3:ud(m.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ud(m.nodeValue,c,(i.mode&1)!==0)}w&&(o.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[ws]=o,o.stateNode=m}return xn(o),null;case 13:if(lt(pt),m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(dt&&or!==null&&(o.mode&1)!==0&&(o.flags&128)===0)lx(),Ba(),o.flags|=98560,w=!1;else if(w=vd(o),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[ws]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xn(o),w=!1}else zr!==null&&(cm(zr),zr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(pt.current&1)!==0?Ut===0&&(Ut=3):hm())),o.updateQueue!==null&&(o.flags|=4),xn(o),null);case 4:return qa(),Jp(i,o),i===null&&oc(o.stateNode.containerInfo),xn(o),null;case 10:return Cp(o.type._context),xn(o),null;case 17:return Un(o.type)&&fd(),xn(o),null;case 19:if(lt(pt),w=o.memoizedState,w===null)return xn(o),null;if(m=(o.flags&128)!==0,S=w.rendering,S===null)if(m)vc(w,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=Td(i),S!==null){for(o.flags|=128,vc(w,!1),m=S.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=c,c=o.child;c!==null;)w=c,i=m,w.flags&=14680066,S=w.alternate,S===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=S.childLanes,w.lanes=S.lanes,w.child=S.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=S.memoizedProps,w.memoizedState=S.memoizedState,w.updateQueue=S.updateQueue,w.type=S.type,i=S.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return rt(pt,pt.current&1|2),o.child}i=i.sibling}w.tail!==null&&ot()>Qa&&(o.flags|=128,m=!0,vc(w,!1),o.lanes=4194304)}else{if(!m)if(i=Td(S),i!==null){if(o.flags|=128,m=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),vc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!dt)return xn(o),null}else 2*ot()-w.renderingStartTime>Qa&&c!==1073741824&&(o.flags|=128,m=!0,vc(w,!1),o.lanes=4194304);w.isBackwards?(S.sibling=o.child,o.child=S):(c=w.last,c!==null?c.sibling=S:o.child=S,w.last=S)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=ot(),o.sibling=null,c=pt.current,rt(pt,m?c&1|2:c&1),o):(xn(o),null);case 22:case 23:return dm(),m=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(ar&1073741824)!==0&&(xn(o),o.subtreeFlags&6&&(o.flags|=8192)):xn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function tA(i,o){switch(wp(o),o.tag){case 1:return Un(o.type)&&fd(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return qa(),lt(Fn),lt(yn),jp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return kp(o),null;case 13:if(lt(pt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ba()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return lt(pt),null;case 4:return qa(),null;case 10:return Cp(o.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var jd=!1,wn=!1,nA=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ga(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){xt(i,o,m)}else c.current=null}function Zp(i,o,c){try{c()}catch(m){xt(i,o,m)}}var ow=!1;function rA(i,o){if(dp=$s,i=Ov(),rp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var S=0,O=-1,U=-1,X=0,re=0,ie=i,ne=null;t:for(;;){for(var de;ie!==c||y!==0&&ie.nodeType!==3||(O=S+y),ie!==w||m!==0&&ie.nodeType!==3||(U=S+m),ie.nodeType===3&&(S+=ie.nodeValue.length),(de=ie.firstChild)!==null;)ne=ie,ie=de;for(;;){if(ie===i)break t;if(ne===c&&++X===y&&(O=S),ne===w&&++re===m&&(U=S),(de=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=de}c=O===-1||U===-1?null:{start:O,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(hp={focusedElem:i,selectionRange:c},$s=!1,pe=o;pe!==null;)if(o=pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pe=i;else for(;pe!==null;){o=pe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,St=me.memoizedState,H=o.stateNode,z=H.getSnapshotBeforeUpdate(o.elementType===o.type?ge:$r(o.type,ge),St);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){xt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,pe=i;break}pe=o.return}return me=ow,ow=!1,me}function xc(i,o,c){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var w=y.destroy;y.destroy=void 0,w!==void 0&&Zp(o,c,w)}y=y.next}while(y!==m)}}function Dd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var m=c.create;c.destroy=m()}c=c.next}while(c!==o)}}function em(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function aw(i){var o=i.alternate;o!==null&&(i.alternate=null,aw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[ws],delete o[lc],delete o[gp],delete o[FR],delete o[UR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function lw(i){return i.tag===5||i.tag===3||i.tag===4}function cw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tm(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=dd));else if(m!==4&&(i=i.child,i!==null))for(tm(i,o,c),i=i.sibling;i!==null;)tm(i,o,c),i=i.sibling}function nm(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(nm(i,o,c),i=i.sibling;i!==null;)nm(i,o,c),i=i.sibling}var rn=null,Wr=!1;function ki(i,o,c){for(c=c.child;c!==null;)uw(i,o,c),c=c.sibling}function uw(i,o,c){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Eo,c)}catch{}switch(c.tag){case 5:wn||Ga(c,o);case 6:var m=rn,y=Wr;rn=null,ki(i,o,c),rn=m,Wr=y,rn!==null&&(Wr?(i=rn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):rn.removeChild(c.stateNode));break;case 18:rn!==null&&(Wr?(i=rn,c=c.stateNode,i.nodeType===8?mp(i.parentNode,c):i.nodeType===1&&mp(i,c),_i(i)):mp(rn,c.stateNode));break;case 4:m=rn,y=Wr,rn=c.stateNode.containerInfo,Wr=!0,ki(i,o,c),rn=m,Wr=y;break;case 0:case 11:case 14:case 15:if(!wn&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var w=y,S=w.destroy;w=w.tag,S!==void 0&&((w&2)!==0||(w&4)!==0)&&Zp(c,o,S),y=y.next}while(y!==m)}ki(i,o,c);break;case 1:if(!wn&&(Ga(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(O){xt(c,o,O)}ki(i,o,c);break;case 21:ki(i,o,c);break;case 22:c.mode&1?(wn=(m=wn)||c.memoizedState!==null,ki(i,o,c),wn=m):ki(i,o,c);break;default:ki(i,o,c)}}function dw(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new nA),o.forEach(function(m){var y=hA.bind(null,i,m);c.has(m)||(c.add(m),m.then(y,y))})}}function qr(i,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];try{var w=i,S=o,O=S;e:for(;O!==null;){switch(O.tag){case 5:rn=O.stateNode,Wr=!1;break e;case 3:rn=O.stateNode.containerInfo,Wr=!0;break e;case 4:rn=O.stateNode.containerInfo,Wr=!0;break e}O=O.return}if(rn===null)throw Error(n(160));uw(w,S,y),rn=null,Wr=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(X){xt(y,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)hw(o,i),o=o.sibling}function hw(i,o){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(qr(o,i),Es(i),m&4){try{xc(3,i,i.return),Dd(3,i)}catch(ge){xt(i,i.return,ge)}try{xc(5,i,i.return)}catch(ge){xt(i,i.return,ge)}}break;case 1:qr(o,i),Es(i),m&512&&c!==null&&Ga(c,c.return);break;case 5:if(qr(o,i),Es(i),m&512&&c!==null&&Ga(c,c.return),i.flags&32){var y=i.stateNode;try{os(y,"")}catch(ge){xt(i,i.return,ge)}}if(m&4&&(y=i.stateNode,y!=null)){var w=i.memoizedProps,S=c!==null?c.memoizedProps:w,O=i.type,U=i.updateQueue;if(i.updateQueue=null,U!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&Yn(y,w),mi(O,S);var X=mi(O,w);for(S=0;S<U.length;S+=2){var re=U[S],ie=U[S+1];re==="style"?pi(y,ie):re==="dangerouslySetInnerHTML"?is(y,ie):re==="children"?os(y,ie):D(y,re,ie,X)}switch(O){case"input":ns(y,w);break;case"textarea":yo(y,w);break;case"select":var ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var de=w.value;de!=null?pn(y,!!w.multiple,de,!1):ne!==!!w.multiple&&(w.defaultValue!=null?pn(y,!!w.multiple,w.defaultValue,!0):pn(y,!!w.multiple,w.multiple?[]:"",!1))}y[lc]=w}catch(ge){xt(i,i.return,ge)}}break;case 6:if(qr(o,i),Es(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,w=i.memoizedProps;try{y.nodeValue=w}catch(ge){xt(i,i.return,ge)}}break;case 3:if(qr(o,i),Es(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{_i(o.containerInfo)}catch(ge){xt(i,i.return,ge)}break;case 4:qr(o,i),Es(i);break;case 13:qr(o,i),Es(i),y=i.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(im=ot())),m&4&&dw(i);break;case 22:if(re=c!==null&&c.memoizedState!==null,i.mode&1?(wn=(X=wn)||re,qr(o,i),wn=X):qr(o,i),Es(i),m&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!re&&(i.mode&1)!==0)for(pe=i,re=i.child;re!==null;){for(ie=pe=re;pe!==null;){switch(ne=pe,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:xc(4,ne,ne.return);break;case 1:Ga(ne,ne.return);var me=ne.stateNode;if(typeof me.componentWillUnmount=="function"){m=ne,c=ne.return;try{o=m,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ge){xt(m,c,ge)}}break;case 5:Ga(ne,ne.return);break;case 22:if(ne.memoizedState!==null){mw(ie);continue}}de!==null?(de.return=ne,pe=de):mw(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{y=ie.stateNode,X?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=ie.stateNode,U=ie.memoizedProps.style,S=U!=null&&U.hasOwnProperty("display")?U.display:null,O.style.display=as("display",S))}catch(ge){xt(i,i.return,ge)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=X?"":ie.memoizedProps}catch(ge){xt(i,i.return,ge)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:qr(o,i),Es(i),m&4&&dw(i);break;case 21:break;default:qr(o,i),Es(i)}}function Es(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(lw(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(os(y,""),m.flags&=-33);var w=cw(i);nm(i,w,y);break;case 3:case 4:var S=m.stateNode.containerInfo,O=cw(i);tm(i,O,S);break;default:throw Error(n(161))}}catch(U){xt(i,i.return,U)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function sA(i,o,c){pe=i,fw(i)}function fw(i,o,c){for(var m=(i.mode&1)!==0;pe!==null;){var y=pe,w=y.child;if(y.tag===22&&m){var S=y.memoizedState!==null||jd;if(!S){var O=y.alternate,U=O!==null&&O.memoizedState!==null||wn;O=jd;var X=wn;if(jd=S,(wn=U)&&!X)for(pe=y;pe!==null;)S=pe,U=S.child,S.tag===22&&S.memoizedState!==null?gw(y):U!==null?(U.return=S,pe=U):gw(y);for(;w!==null;)pe=w,fw(w),w=w.sibling;pe=y,jd=O,wn=X}pw(i)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,pe=w):pw(i)}}function pw(i){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:wn||Dd(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!wn)if(c===null)m.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:$r(o.type,c.memoizedProps);m.componentDidUpdate(y,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&mx(o,w,m);break;case 3:var S=o.updateQueue;if(S!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}mx(o,S,c)}break;case 5:var O=o.stateNode;if(c===null&&o.flags&4){c=O;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&c.focus();break;case"img":U.src&&(c.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var re=X.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&_i(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||o.flags&512&&em(o)}catch(ne){xt(o,o.return,ne)}}if(o===i){pe=null;break}if(c=o.sibling,c!==null){c.return=o.return,pe=c;break}pe=o.return}}function mw(i){for(;pe!==null;){var o=pe;if(o===i){pe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,pe=c;break}pe=o.return}}function gw(i){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Dd(4,o)}catch(U){xt(o,c,U)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var y=o.return;try{m.componentDidMount()}catch(U){xt(o,y,U)}}var w=o.return;try{em(o)}catch(U){xt(o,w,U)}break;case 5:var S=o.return;try{em(o)}catch(U){xt(o,S,U)}}}catch(U){xt(o,o.return,U)}if(o===i){pe=null;break}var O=o.sibling;if(O!==null){O.return=o.return,pe=O;break}pe=o.return}}var iA=Math.ceil,Ld=B.ReactCurrentDispatcher,rm=B.ReactCurrentOwner,yr=B.ReactCurrentBatchConfig,Ge=0,Ht=null,Nt=null,sn=0,ar=0,Ka=Ci(0),Ut=0,wc=null,Fo=0,Md=0,sm=0,_c=null,zn=null,im=0,Qa=1/0,Zs=null,Vd=!1,om=null,Pi=null,Od=!1,ji=null,Fd=0,bc=0,am=null,Ud=-1,Bd=0;function Pn(){return(Ge&6)!==0?ot():Ud!==-1?Ud:Ud=ot()}function Di(i){return(i.mode&1)===0?1:(Ge&2)!==0&&sn!==0?sn&-sn:zR.transition!==null?(Bd===0&&(Bd=$l()),Bd):(i=We,i!==0||(i=window.event,i=i===void 0?16:Ta(i.type)),i)}function Hr(i,o,c,m){if(50<bc)throw bc=0,am=null,Error(n(185));Io(i,c,m),((Ge&2)===0||i!==Ht)&&(i===Ht&&((Ge&2)===0&&(Md|=c),Ut===4&&Li(i,sn)),$n(i,m),c===1&&Ge===0&&(o.mode&1)===0&&(Qa=ot()+500,md&&Ri()))}function $n(i,o){var c=i.callbackNode;Co(i,o);var m=Us(i,i===Ht?sn:0);if(m===0)c!==null&&ya(c),i.callbackNode=null,i.callbackPriority=0;else if(o=m&-m,i.callbackPriority!==o){if(c!=null&&ya(c),o===1)i.tag===0?BR(vw.bind(null,i)):rx(vw.bind(null,i)),VR(function(){(Ge&6)===0&&Ri()}),c=null;else{switch(us(m)){case 1:c=va;break;case 4:c=Ul;break;case 16:c=bo;break;case 536870912:c=xa;break;default:c=bo}c=Cw(c,yw.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function yw(i,o){if(Ud=-1,Bd=0,(Ge&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Xa()&&i.callbackNode!==c)return null;var m=Us(i,i===Ht?sn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||o)o=zd(i,m);else{o=m;var y=Ge;Ge|=2;var w=ww();(Ht!==i||sn!==o)&&(Zs=null,Qa=ot()+500,Bo(i,o));do try{lA();break}catch(O){xw(i,O)}while(!0);Sp(),Ld.current=w,Ge=y,Nt!==null?o=0:(Ht=null,sn=0,o=Ut)}if(o!==0){if(o===2&&(y=zl(i),y!==0&&(m=y,o=lm(i,y))),o===1)throw c=wc,Bo(i,0),Li(i,m),$n(i,ot()),c;if(o===6)Li(i,m);else{if(y=i.current.alternate,(m&30)===0&&!oA(y)&&(o=zd(i,m),o===2&&(w=zl(i),w!==0&&(m=w,o=lm(i,w))),o===1))throw c=wc,Bo(i,0),Li(i,m),$n(i,ot()),c;switch(i.finishedWork=y,i.finishedLanes=m,o){case 0:case 1:throw Error(n(345));case 2:zo(i,zn,Zs);break;case 3:if(Li(i,m),(m&130023424)===m&&(o=im+500-ot(),10<o)){if(Us(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Pn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=pp(zo.bind(null,i,zn,Zs),o);break}zo(i,zn,Zs);break;case 4:if(Li(i,m),(m&4194240)===m)break;for(o=i.eventTimes,y=-1;0<m;){var S=31-er(m);w=1<<S,S=o[S],S>y&&(y=S),m&=~w}if(m=y,m=ot()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*iA(m/1960))-m,10<m){i.timeoutHandle=pp(zo.bind(null,i,zn,Zs),m);break}zo(i,zn,Zs);break;case 5:zo(i,zn,Zs);break;default:throw Error(n(329))}}}return $n(i,ot()),i.callbackNode===c?yw.bind(null,i):null}function lm(i,o){var c=_c;return i.current.memoizedState.isDehydrated&&(Bo(i,o).flags|=256),i=zd(i,o),i!==2&&(o=zn,zn=c,o!==null&&cm(o)),i}function cm(i){zn===null?zn=i:zn.push.apply(zn,i)}function oA(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var y=c[m],w=y.getSnapshot;y=y.value;try{if(!Br(w(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Li(i,o){for(o&=~sm,o&=~Md,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-er(o),m=1<<c;i[c]=-1,o&=~m}}function vw(i){if((Ge&6)!==0)throw Error(n(327));Xa();var o=Us(i,0);if((o&1)===0)return $n(i,ot()),null;var c=zd(i,o);if(i.tag!==0&&c===2){var m=zl(i);m!==0&&(o=m,c=lm(i,m))}if(c===1)throw c=wc,Bo(i,0),Li(i,o),$n(i,ot()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,zo(i,zn,Zs),$n(i,ot()),null}function um(i,o){var c=Ge;Ge|=1;try{return i(o)}finally{Ge=c,Ge===0&&(Qa=ot()+500,md&&Ri())}}function Uo(i){ji!==null&&ji.tag===0&&(Ge&6)===0&&Xa();var o=Ge;Ge|=1;var c=yr.transition,m=We;try{if(yr.transition=null,We=1,i)return i()}finally{We=m,yr.transition=c,Ge=o,(Ge&6)===0&&Ri()}}function dm(){ar=Ka.current,lt(Ka)}function Bo(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,MR(c)),Nt!==null)for(c=Nt.return;c!==null;){var m=c;switch(wp(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&fd();break;case 3:qa(),lt(Fn),lt(yn),jp();break;case 5:kp(m);break;case 4:qa();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:Cp(m.type._context);break;case 22:case 23:dm()}c=c.return}if(Ht=i,Nt=i=Mi(i.current,null),sn=ar=o,Ut=0,wc=null,sm=Md=Fo=0,zn=_c=null,Mo!==null){for(o=0;o<Mo.length;o++)if(c=Mo[o],m=c.interleaved,m!==null){c.interleaved=null;var y=m.next,w=c.pending;if(w!==null){var S=w.next;w.next=y,m.next=S}c.pending=m}Mo=null}return i}function xw(i,o){do{var c=Nt;try{if(Sp(),Sd.current=Ad,Cd){for(var m=mt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Cd=!1}if(Oo=0,qt=Ft=mt=null,pc=!1,mc=0,rm.current=null,c===null||c.return===null){Ut=1,wc=o,Nt=null;break}e:{var w=i,S=c.return,O=c,U=o;if(o=sn,O.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=U,re=O,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=Wx(S);if(de!==null){de.flags&=-257,qx(de,S,O,w,o),de.mode&1&&$x(w,X,o),o=de,U=X;var me=o.updateQueue;if(me===null){var ge=new Set;ge.add(U),o.updateQueue=ge}else me.add(U);break e}else{if((o&1)===0){$x(w,X,o),hm();break e}U=Error(n(426))}}else if(dt&&O.mode&1){var St=Wx(S);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),qx(St,S,O,w,o),Ep(Ha(U,O));break e}}w=U=Ha(U,O),Ut!==4&&(Ut=2),_c===null?_c=[w]:_c.push(w),w=S;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=Bx(w,U,o);px(w,H);break e;case 1:O=U;var z=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Pi===null||!Pi.has(Q)))){w.flags|=65536,o&=-o,w.lanes|=o;var oe=zx(w,O,o);px(w,oe);break e}}w=w.return}while(w!==null)}bw(c)}catch(ye){o=ye,Nt===c&&c!==null&&(Nt=c=c.return);continue}break}while(!0)}function ww(){var i=Ld.current;return Ld.current=Ad,i===null?Ad:i}function hm(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Ht===null||(Fo&268435455)===0&&(Md&268435455)===0||Li(Ht,sn)}function zd(i,o){var c=Ge;Ge|=2;var m=ww();(Ht!==i||sn!==o)&&(Zs=null,Bo(i,o));do try{aA();break}catch(y){xw(i,y)}while(!0);if(Sp(),Ge=c,Ld.current=m,Nt!==null)throw Error(n(261));return Ht=null,sn=0,Ut}function aA(){for(;Nt!==null;)_w(Nt)}function lA(){for(;Nt!==null&&!_o();)_w(Nt)}function _w(i){var o=Sw(i.alternate,i,ar);i.memoizedProps=i.pendingProps,o===null?bw(i):Nt=o,rm.current=null}function bw(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=eA(c,o,ar),c!==null){Nt=c;return}}else{if(c=tA(c,o),c!==null){c.flags&=32767,Nt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ut=6,Nt=null;return}}if(o=o.sibling,o!==null){Nt=o;return}Nt=o=i}while(o!==null);Ut===0&&(Ut=5)}function zo(i,o,c){var m=We,y=yr.transition;try{yr.transition=null,We=1,cA(i,o,c,m)}finally{yr.transition=y,We=m}return null}function cA(i,o,c,m){do Xa();while(ji!==null);if((Ge&6)!==0)throw Error(n(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=c.lanes|c.childLanes;if(Jf(i,w),i===Ht&&(Nt=Ht=null,sn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Od||(Od=!0,Cw(bo,function(){return Xa(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=yr.transition,yr.transition=null;var S=We;We=1;var O=Ge;Ge|=4,rm.current=null,rA(i,c),hw(c,i),AR(hp),$s=!!dp,hp=dp=null,i.current=c,sA(c),Fs(),Ge=O,We=S,yr.transition=w}else i.current=c;if(Od&&(Od=!1,ji=i,Fd=y),w=i.pendingLanes,w===0&&(Pi=null),Qu(c.stateNode),$n(i,ot()),o!==null)for(m=i.onRecoverableError,c=0;c<o.length;c++)y=o[c],m(y.value,{componentStack:y.stack,digest:y.digest});if(Vd)throw Vd=!1,i=om,om=null,i;return(Fd&1)!==0&&i.tag!==0&&Xa(),w=i.pendingLanes,(w&1)!==0?i===am?bc++:(bc=0,am=i):bc=0,Ri(),null}function Xa(){if(ji!==null){var i=us(Fd),o=yr.transition,c=We;try{if(yr.transition=null,We=16>i?16:i,ji===null)var m=!1;else{if(i=ji,ji=null,Fd=0,(Ge&6)!==0)throw Error(n(331));var y=Ge;for(Ge|=4,pe=i.current;pe!==null;){var w=pe,S=w.child;if((pe.flags&16)!==0){var O=w.deletions;if(O!==null){for(var U=0;U<O.length;U++){var X=O[U];for(pe=X;pe!==null;){var re=pe;switch(re.tag){case 0:case 11:case 15:xc(8,re,w)}var ie=re.child;if(ie!==null)ie.return=re,pe=ie;else for(;pe!==null;){re=pe;var ne=re.sibling,de=re.return;if(aw(re),re===X){pe=null;break}if(ne!==null){ne.return=de,pe=ne;break}pe=de}}}var me=w.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var St=ge.sibling;ge.sibling=null,ge=St}while(ge!==null)}}pe=w}}if((w.subtreeFlags&2064)!==0&&S!==null)S.return=w,pe=S;else e:for(;pe!==null;){if(w=pe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:xc(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,pe=H;break e}pe=w.return}}var z=i.current;for(pe=z;pe!==null;){S=pe;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,pe=Q;else e:for(S=z;pe!==null;){if(O=pe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Dd(9,O)}}catch(ye){xt(O,O.return,ye)}if(O===S){pe=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,pe=oe;break e}pe=O.return}}if(Ge=y,Ri(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Eo,i)}catch{}m=!0}return m}finally{We=c,yr.transition=o}}return!1}function Ew(i,o,c){o=Ha(c,o),o=Bx(i,o,1),i=Ni(i,o,1),o=Pn(),i!==null&&(Io(i,1,o),$n(i,o))}function xt(i,o,c){if(i.tag===3)Ew(i,i,c);else for(;o!==null;){if(o.tag===3){Ew(o,i,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Pi===null||!Pi.has(m))){i=Ha(c,i),i=zx(o,i,1),o=Ni(o,i,1),i=Pn(),o!==null&&(Io(o,1,i),$n(o,i));break}}o=o.return}}function uA(i,o,c){var m=i.pingCache;m!==null&&m.delete(o),o=Pn(),i.pingedLanes|=i.suspendedLanes&c,Ht===i&&(sn&c)===c&&(Ut===4||Ut===3&&(sn&130023424)===sn&&500>ot()-im?Bo(i,0):sm|=c),$n(i,o)}function Tw(i,o){o===0&&((i.mode&1)===0?o=1:(o=vi,vi<<=1,(vi&130023424)===0&&(vi=4194304)));var c=Pn();i=Xs(i,o),i!==null&&(Io(i,o,c),$n(i,c))}function dA(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),Tw(i,c)}function hA(i,o){var c=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(o),Tw(i,c)}var Sw;Sw=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||Fn.current)Bn=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return Bn=!1,ZR(i,o,c);Bn=(i.flags&131072)!==0}else Bn=!1,dt&&(o.flags&1048576)!==0&&sx(o,yd,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Pd(i,o),i=o.pendingProps;var y=Oa(o,yn.current);Wa(o,c),y=Mp(null,o,m,i,y,c);var w=Vp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Un(m)?(w=!0,pd(o)):w=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Ap(o),y.updater=Nd,o.stateNode=y,y._reactInternals=o,$p(o,m,i,c),o=Gp(null,o,m,!0,w,c)):(o.tag=0,dt&&w&&xp(o),kn(null,o,y,c),o=o.child),o;case 16:m=o.elementType;e:{switch(Pd(i,o),i=o.pendingProps,y=m._init,m=y(m._payload),o.type=m,y=o.tag=pA(m),i=$r(m,i),y){case 0:o=Hp(null,o,m,i,c);break e;case 1:o=Yx(null,o,m,i,c);break e;case 11:o=Hx(null,o,m,i,c);break e;case 14:o=Gx(null,o,m,$r(m.type,i),c);break e}throw Error(n(306,m,""))}return o;case 0:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:$r(m,y),Hp(i,o,m,y,c);case 1:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:$r(m,y),Yx(i,o,m,y,c);case 3:e:{if(Jx(o),i===null)throw Error(n(387));m=o.pendingProps,w=o.memoizedState,y=w.element,fx(i,o),Ed(o,m,null,c);var S=o.memoizedState;if(m=S.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){y=Ha(Error(n(423)),o),o=Zx(i,o,m,c,y);break e}else if(m!==y){y=Ha(Error(n(424)),o),o=Zx(i,o,m,c,y);break e}else for(or=Si(o.stateNode.containerInfo.firstChild),ir=o,dt=!0,zr=null,c=dx(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ba(),m===y){o=Js(i,o,c);break e}kn(i,o,m,c)}o=o.child}return o;case 5:return gx(o),i===null&&bp(o),m=o.type,y=o.pendingProps,w=i!==null?i.memoizedProps:null,S=y.children,fp(m,y)?S=null:w!==null&&fp(m,w)&&(o.flags|=32),Xx(i,o),kn(i,o,S,c),o.child;case 6:return i===null&&bp(o),null;case 13:return ew(i,o,c);case 4:return Np(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=za(o,null,m,c):kn(i,o,m,c),o.child;case 11:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:$r(m,y),Hx(i,o,m,y,c);case 7:return kn(i,o,o.pendingProps,c),o.child;case 8:return kn(i,o,o.pendingProps.children,c),o.child;case 12:return kn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(m=o.type._context,y=o.pendingProps,w=o.memoizedProps,S=y.value,rt(wd,m._currentValue),m._currentValue=S,w!==null)if(Br(w.value,S)){if(w.children===y.children&&!Fn.current){o=Js(i,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var O=w.dependencies;if(O!==null){S=w.child;for(var U=O.firstContext;U!==null;){if(U.context===m){if(w.tag===1){U=Ys(-1,c&-c),U.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var re=X.pending;re===null?U.next=U:(U.next=re.next,re.next=U),X.pending=U}}w.lanes|=c,U=w.alternate,U!==null&&(U.lanes|=c),Ip(w.return,c,o),O.lanes|=c;break}U=U.next}}else if(w.tag===10)S=w.type===o.type?null:w.child;else if(w.tag===18){if(S=w.return,S===null)throw Error(n(341));S.lanes|=c,O=S.alternate,O!==null&&(O.lanes|=c),Ip(S,c,o),S=w.sibling}else S=w.child;if(S!==null)S.return=w;else for(S=w;S!==null;){if(S===o){S=null;break}if(w=S.sibling,w!==null){w.return=S.return,S=w;break}S=S.return}w=S}kn(i,o,y.children,c),o=o.child}return o;case 9:return y=o.type,m=o.pendingProps.children,Wa(o,c),y=mr(y),m=m(y),o.flags|=1,kn(i,o,m,c),o.child;case 14:return m=o.type,y=$r(m,o.pendingProps),y=$r(m.type,y),Gx(i,o,m,y,c);case 15:return Kx(i,o,o.type,o.pendingProps,c);case 17:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:$r(m,y),Pd(i,o),o.tag=1,Un(m)?(i=!0,pd(o)):i=!1,Wa(o,c),Fx(o,m,y),$p(o,m,y,c),Gp(null,o,m,!0,i,c);case 19:return nw(i,o,c);case 22:return Qx(i,o,c)}throw Error(n(156,o.tag))};function Cw(i,o){return Fl(i,o)}function fA(i,o,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(i,o,c,m){return new fA(i,o,c,m)}function fm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function pA(i){if(typeof i=="function")return fm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===et)return 14}return 2}function Mi(i,o){var c=i.alternate;return c===null?(c=vr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function $d(i,o,c,m,y,w){var S=2;if(m=i,typeof i=="function")fm(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case R:return $o(c.children,y,w,o);case I:S=8,y|=8;break;case j:return i=vr(12,c,o,y|2),i.elementType=j,i.lanes=w,i;case V:return i=vr(13,c,o,y),i.elementType=V,i.lanes=w,i;case Le:return i=vr(19,c,o,y),i.elementType=Le,i.lanes=w,i;case se:return Wd(c,y,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:S=10;break e;case F:S=9;break e;case $:S=11;break e;case et:S=14;break e;case fe:S=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=vr(S,c,o,y),o.elementType=i,o.type=m,o.lanes=w,o}function $o(i,o,c,m){return i=vr(7,i,m,o),i.lanes=c,i}function Wd(i,o,c,m){return i=vr(22,i,m,o),i.elementType=se,i.lanes=c,i.stateNode={isHidden:!1},i}function pm(i,o,c){return i=vr(6,i,null,o),i.lanes=c,i}function mm(i,o,c){return o=vr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function mA(i,o,c,m,y){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function gm(i,o,c,m,y,w,S,O,U){return i=new mA(i,o,c,O,U),o===1?(o=1,w===!0&&(o|=8)):o=0,w=vr(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(w),i}function gA(i,o,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:i,containerInfo:o,implementation:c}}function Iw(i){if(!i)return Ii;i=i._reactInternals;e:{if(Fr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Un(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(Un(c))return tx(i,c,o)}return o}function Rw(i,o,c,m,y,w,S,O,U){return i=gm(c,m,!0,i,y,w,S,O,U),i.context=Iw(null),c=i.current,m=Pn(),y=Di(c),w=Ys(m,y),w.callback=o??null,Ni(c,w,y),i.current.lanes=y,Io(i,y,m),$n(i,m),i}function qd(i,o,c,m){var y=o.current,w=Pn(),S=Di(y);return c=Iw(c),o.context===null?o.context=c:o.pendingContext=c,o=Ys(w,S),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Ni(y,o,S),i!==null&&(Hr(i,y,S,w),bd(i,y,S)),S}function Hd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Aw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function ym(i,o){Aw(i,o),(i=i.alternate)&&Aw(i,o)}function yA(){return null}var Nw=typeof reportError=="function"?reportError:function(i){console.error(i)};function vm(i){this._internalRoot=i}Gd.prototype.render=vm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));qd(i,o,null,null)},Gd.prototype.unmount=vm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Uo(function(){qd(null,i,null,null)}),o[Hs]=null}};function Gd(i){this._internalRoot=i}Gd.prototype.unstable_scheduleHydration=function(i){if(i){var o=Kl();i={blockedOn:null,target:i,priority:o};for(var c=0;c<tr.length&&o!==0&&o<tr[c].priority;c++);tr.splice(c,0,i),c===0&&ba(i)}};function xm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Kd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function kw(){}function vA(i,o,c,m,y){if(y){if(typeof m=="function"){var w=m;m=function(){var X=Hd(S);w.call(X)}}var S=Rw(o,m,i,0,null,!1,!1,"",kw);return i._reactRootContainer=S,i[Hs]=S.current,oc(i.nodeType===8?i.parentNode:i),Uo(),S}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var O=m;m=function(){var X=Hd(U);O.call(X)}}var U=gm(i,0,!1,null,null,!1,!1,"",kw);return i._reactRootContainer=U,i[Hs]=U.current,oc(i.nodeType===8?i.parentNode:i),Uo(function(){qd(o,U,c,m)}),U}function Qd(i,o,c,m,y){var w=c._reactRootContainer;if(w){var S=w;if(typeof y=="function"){var O=y;y=function(){var U=Hd(S);O.call(U)}}qd(o,S,i,y)}else S=vA(c,o,i,y,m);return Hd(S)}Hl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Xe(o.pendingLanes);c!==0&&(ql(o,c|1),$n(o,ot()),(Ge&6)===0&&(Qa=ot()+500,Ri()))}break;case 13:Uo(function(){var m=Xs(i,1);if(m!==null){var y=Pn();Hr(m,i,1,y)}}),ym(i,1)}},wa=function(i){if(i.tag===13){var o=Xs(i,134217728);if(o!==null){var c=Pn();Hr(o,i,134217728,c)}ym(i,134217728)}},Gl=function(i){if(i.tag===13){var o=Di(i),c=Xs(i,o);if(c!==null){var m=Pn();Hr(c,i,o,m)}ym(i,o)}},Kl=function(){return We},Ql=function(i,o){var c=We;try{return We=i,o()}finally{We=c}},Mr=function(i,o,c){switch(o){case"input":if(ns(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==i&&m.form===i.form){var y=hd(m);if(!y)throw Error(n(90));hn(m),ns(m,y)}}}break;case"textarea":yo(i,c);break;case"select":o=c.value,o!=null&&pn(i,!!c.multiple,o,!1)}},Zt=um,$t=Uo;var xA={usingClientEntryPoint:!1,Events:[cc,Ma,hd,vt,Jt,um]},Ec={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wA={bundleType:Ec.bundleType,version:Ec.version,rendererPackageName:Ec.rendererPackageName,rendererConfig:Ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ku(i),i===null?null:i.stateNode},findFiberByHostInstance:Ec.findFiberByHostInstance||yA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Eo=Xd.inject(wA),Zn=Xd}catch{}}return Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA,Wn.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(o))throw Error(n(200));return gA(i,o,null,c)},Wn.createRoot=function(i,o){if(!xm(i))throw Error(n(299));var c=!1,m="",y=Nw;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=gm(i,1,!1,null,null,c,!1,m,y),i[Hs]=o.current,oc(i.nodeType===8?i.parentNode:i),new vm(o)},Wn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ku(o),i=i===null?null:i.stateNode,i},Wn.flushSync=function(i){return Uo(i)},Wn.hydrate=function(i,o,c){if(!Kd(o))throw Error(n(200));return Qd(null,i,o,!0,c)},Wn.hydrateRoot=function(i,o,c){if(!xm(i))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,y=!1,w="",S=Nw;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),o=Rw(o,null,i,1,c??null,y,!1,w,S),i[Hs]=o.current,oc(i),m)for(i=0;i<m.length;i++)c=m[i],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new Gd(o)},Wn.render=function(i,o,c){if(!Kd(o))throw Error(n(200));return Qd(null,i,o,!1,c)},Wn.unmountComponentAtNode=function(i){if(!Kd(i))throw Error(n(40));return i._reactRootContainer?(Uo(function(){Qd(null,null,i,!1,function(){i._reactRootContainer=null,i[Hs]=null})}),!0):!1},Wn.unstable_batchedUpdates=um,Wn.unstable_renderSubtreeIntoContainer=function(i,o,c,m){if(!Kd(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Qd(i,o,c,!1,m)},Wn.version="18.3.1-next-f1338f8080-20240426",Wn}var Fw;function T2(){if(Fw)return bm.exports;Fw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bm.exports=IA(),bm.exports}var Uw;function RA(){if(Uw)return Yd;Uw=1;var t=T2();return Yd.createRoot=t.createRoot,Yd.hydrateRoot=t.hydrateRoot,Yd}var AA=RA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bw="popstate";function NA(t={}){function e(s,a){let{pathname:l="/",search:u="",hash:h=""}=ua(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),pg("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=s.location.href,p=h.indexOf("#");u=p===-1?h:h.slice(0,p)}return u+"#"+(typeof a=="string"?a:Jc(a))}function r(s,a){Rr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return PA(e,n,r,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kA(){return Math.random().toString(36).substring(2,10)}function zw(t,e){return{usr:t.state,key:t.key,idx:e}}function pg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ua(e):e,state:n,key:e&&e.key||r||kA()}}function Jc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ua(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function PA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let C=g(),L=C==null?null:C-p;p=C,h&&h({action:u,location:A.location,delta:L})}function x(C,L){u="PUSH";let P=pg(A.location,C,L);n&&n(P,C),p=g()+1;let D=zw(P,p),B=A.createHref(P);try{l.pushState(D,"",B)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign(B)}a&&h&&h({action:u,location:A.location,delta:1})}function T(C,L){u="REPLACE";let P=pg(A.location,C,L);n&&n(P,C),p=g();let D=zw(P,p),B=A.createHref(P);l.replaceState(D,"",B),a&&h&&h({action:u,location:A.location,delta:0})}function k(C){return jA(C)}let A={get action(){return u},get location(){return t(s,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Bw,v),h=C,()=>{s.removeEventListener(Bw,v),h=null}},createHref(C){return e(s,C)},createURL:k,encodeLocation(C){let L=k(C);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:T,go(C){return l.go(C)}};return A}function jA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Jc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function S2(t,e,n="/"){return DA(t,e,n,!1)}function DA(t,e,n,r){let s=typeof e=="string"?ua(e):e,a=ii(s.pathname||"/",n);if(a==null)return null;let l=C2(t);LA(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=HA(a);u=WA(l[h],p,r)}return u}function C2(t,e=[],n=[],r="",s=!1){let a=(l,u,h=s,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;ft(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=ri([r,g.relativePath]),x=n.concat(g);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),C2(l.children,e,x,v,h)),!(l.path==null&&!l.index)&&e.push({path:v,score:zA(v,l.index),routesMeta:x})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let h of I2(l.path))a(l,u,!0,h)}),e}function I2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=I2(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function LA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$A(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var MA=/^:[\w-]+$/,VA=3,OA=2,FA=1,UA=10,BA=-2,$w=t=>t==="*";function zA(t,e){let n=t.split("/"),r=n.length;return n.some($w)&&(r+=BA),e&&(r+=OA),n.filter(s=>!$w(s)).reduce((s,a)=>s+(MA.test(a)?VA:a===""?FA:UA),r)}function $A(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function WA(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Ph({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Ph({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:ri([a,v.pathname]),pathnameBase:XA(ri([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=ri([a,v.pathnameBase]))}return l}function Ph(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},x)=>{if(g==="*"){let k=u[x]||"";l=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const T=u[x];return v&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function qA(t,e=!1,n=!0){Rr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function HA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ua(t):t;return{pathname:n?n.startsWith("/")?n:KA(n,e):e,search:YA(r),hash:JA(s)}}function KA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v0(t){let e=QA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function x0(t,e,n,r=!1){let s;typeof t=="string"?s=ua(t):(s={...t},ft(!s.pathname||!s.pathname.includes("?"),Sm("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),Sm("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),Sm("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}u=v>=0?e[v]:"/"}let h=GA(s,u),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var ri=t=>t.join("/").replace(/\/\/+/g,"/"),XA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var R2=["POST","PUT","PATCH","DELETE"];new Set(R2);var e5=["GET",...R2];new Set(e5);var bl=b.createContext(null);bl.displayName="DataRouter";var df=b.createContext(null);df.displayName="DataRouterState";b.createContext(!1);var A2=b.createContext({isTransitioning:!1});A2.displayName="ViewTransition";var t5=b.createContext(new Map);t5.displayName="Fetchers";var n5=b.createContext(null);n5.displayName="Await";var Zr=b.createContext(null);Zr.displayName="Navigation";var _u=b.createContext(null);_u.displayName="Location";var es=b.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var w0=b.createContext(null);w0.displayName="RouteError";function r5(t,{relative:e}={}){ft(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Zr),{hash:s,pathname:a,search:l}=bu(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:ri([n,a])),r.createHref({pathname:u,search:l,hash:s})}function El(){return b.useContext(_u)!=null}function ts(){return ft(El(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(_u).location}var N2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k2(t){b.useContext(Zr).static||b.useLayoutEffect(t)}function Pr(){let{isDataRoute:t}=b.useContext(es);return t?g5():s5()}function s5(){ft(El(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(bl),{basename:e,navigator:n}=b.useContext(Zr),{matches:r}=b.useContext(es),{pathname:s}=ts(),a=JSON.stringify(v0(r)),l=b.useRef(!1);return k2(()=>{l.current=!0}),b.useCallback((h,p={})=>{if(Rr(l.current,N2),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=x0(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ri([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}b.createContext(null);function P2(){let{matches:t}=b.useContext(es),e=t[t.length-1];return e?e.params:{}}function bu(t,{relative:e}={}){let{matches:n}=b.useContext(es),{pathname:r}=ts(),s=JSON.stringify(v0(n));return b.useMemo(()=>x0(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function i5(t,e){return j2(t,e)}function j2(t,e,n,r,s){ft(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Zr),{matches:l}=b.useContext(es),u=l[l.length-1],h=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let P=v&&v.path||"";D2(p,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let x=ts(),T;if(e){let P=typeof e=="string"?ua(e):e;ft(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),T=P}else T=x;let k=T.pathname||"/",A=k;if(g!=="/"){let P=g.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=S2(t,{pathname:A});Rr(v||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Rr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=u5(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:ri([g,a.encodeLocation?a.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:ri([g,a.encodeLocation?a.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),l,n,r,s);return e&&L?b.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function o5(){let t=m5(),e=ZA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,l)}var a5=b.createElement(o5,null),l5=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(es.Provider,{value:this.props.routeContext},b.createElement(w0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c5({routeContext:t,match:e,children:n}){let r=b.useContext(bl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(es.Provider,{value:t},n)}function u5(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,h=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:v,errors:x}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||T){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let x,T=!1,k=null,A=null;n&&(x=l&&g.route.id?l[g.route.id]:void 0,k=g.route.errorElement||a5,u&&(h<0&&v===0?(D2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):h===v&&(T=!0,A=g.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),L=()=>{let P;return x?P=k:T?P=A:g.route.Component?P=b.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,b.createElement(c5,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(l5,{location:n.location,revalidation:n.revalidation,component:k,error:x,children:L(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):L()},null)}function _0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d5(t){let e=b.useContext(bl);return ft(e,_0(t)),e}function h5(t){let e=b.useContext(df);return ft(e,_0(t)),e}function f5(t){let e=b.useContext(es);return ft(e,_0(t)),e}function b0(t){let e=f5(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function p5(){return b0("useRouteId")}function m5(){let t=b.useContext(w0),e=h5("useRouteError"),n=b0("useRouteError");return t!==void 0?t:e.errors?.[n]}function g5(){let{router:t}=d5("useNavigate"),e=b0("useNavigate"),n=b.useRef(!1);return k2(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{Rr(n.current,N2),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Ww={};function D2(t,e,n){!e&&!Ww[t]&&(Ww[t]=!0,Rr(!1,n))}b.memo(y5);function y5({routes:t,future:e,state:n,unstable_onError:r}){return j2(t,void 0,n,r,e)}function v5({to:t,replace:e,state:n,relative:r}){ft(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Zr);Rr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(es),{pathname:l}=ts(),u=Pr(),h=x0(t,v0(a),l,r==="path"),p=JSON.stringify(h);return b.useEffect(()=>{u(JSON.parse(p),{replace:e,state:n,relative:r})},[u,p,r,e,n]),null}function wr(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x5({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){ft(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=ua(n));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:x="default"}=n,T=b.useMemo(()=>{let k=ii(h,l);return k==null?null:{location:{pathname:k,search:p,hash:g,state:v,key:x},navigationType:r}},[l,h,p,g,v,x,r]);return Rr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:b.createElement(Zr.Provider,{value:u},b.createElement(_u.Provider,{children:e,value:T}))}function w5({children:t,location:e}){return i5(mg(t),e)}function mg(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let a=[...e,s];if(r.type===b.Fragment){n.push.apply(n,mg(r.props.children,a));return}ft(r.type===wr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=mg(r.props.children,a)),n.push(l)}),n}var ph="get",mh="application/x-www-form-urlencoded";function hf(t){return t!=null&&typeof t.tagName=="string"}function _5(t){return hf(t)&&t.tagName.toLowerCase()==="button"}function b5(t){return hf(t)&&t.tagName.toLowerCase()==="form"}function E5(t){return hf(t)&&t.tagName.toLowerCase()==="input"}function T5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function S5(t,e){return t.button===0&&(!e||e==="_self")&&!T5(t)}var Jd=null;function C5(){if(Jd===null)try{new FormData(document.createElement("form"),0),Jd=!1}catch{Jd=!0}return Jd}var I5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(t){return t!=null&&!I5.has(t)?(Rr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):t}function R5(t,e){let n,r,s,a,l;if(b5(t)){let u=t.getAttribute("action");r=u?ii(u,e):null,n=t.getAttribute("method")||ph,s=Cm(t.getAttribute("enctype"))||mh,a=new FormData(t)}else if(_5(t)||E5(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?ii(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||ph,s=Cm(t.getAttribute("formenctype"))||Cm(u.getAttribute("enctype"))||mh,a=new FormData(u,t),!C5()){let{name:p,type:g,value:v}=t;if(g==="image"){let x=p?`${p}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else p&&a.append(p,v)}}else{if(hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,r=null,s=mh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function E0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A5(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ii(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function N5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function P5(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await N5(a,n);return l.links?l.links():[]}return[]}));return M5(r.flat(1).filter(k5).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qw(t,e,n,r,s,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,u=(h,p)=>n[p].pathname!==h.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==h.params["*"];return a==="assets"?e.filter((h,p)=>l(h,p)||u(h,p)):a==="data"?e.filter((h,p)=>{let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function j5(t,e,{includeHydrateFallback:n}={}){return D5(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function D5(t){return[...new Set(t)]}function L5(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function M5(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(L5(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function L2(){let t=b.useContext(bl);return E0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function V5(){let t=b.useContext(df);return E0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var T0=b.createContext(void 0);T0.displayName="FrameworkContext";function M2(){let t=b.useContext(T0);return E0(t,"You must render this element inside a <HydratedRouter> element"),t}function O5(t,e){let n=b.useContext(T0),[r,s]=b.useState(!1),[a,l]=b.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,x=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=L=>{L.forEach(P=>{l(P.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[t]),b.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{s(!0)},k=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Sc(u,T),onBlur:Sc(h,k),onMouseEnter:Sc(p,T),onMouseLeave:Sc(g,k),onTouchStart:Sc(v,T)}]:[!1,x,{}]}function Sc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function F5({page:t,...e}){let{router:n}=L2(),r=b.useMemo(()=>S2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(B5,{page:t,matches:r,...e}):null}function U5(t){let{manifest:e,routeModules:n}=M2(),[r,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return P5(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function B5({page:t,matches:e,...n}){let r=ts(),{manifest:s,routeModules:a}=M2(),{basename:l}=L2(),{loaderData:u,matches:h}=V5(),p=b.useMemo(()=>qw(t,e,h,s,r,"data"),[t,e,h,s,r]),g=b.useMemo(()=>qw(t,e,h,s,r,"assets"),[t,e,h,s,r]),v=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,A=!1;if(e.forEach(L=>{let P=s.routes[L.route.id];!P||!P.hasLoader||(!p.some(D=>D.route.id===L.route.id)&&L.route.id in u&&a[L.route.id]?.shouldRevalidate||P.hasClientLoader?A=!0:k.add(L.route.id))}),k.size===0)return[];let C=A5(t,l,"data");return A&&k.size>0&&C.searchParams.set("_routes",e.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[C.pathname+C.search]},[l,u,r,s,p,e,t,a]),x=b.useMemo(()=>j5(g,s),[g,s]),T=U5(g);return b.createElement(b.Fragment,null,v.map(k=>b.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),x.map(k=>b.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),T.map(({key:k,link:A})=>b.createElement("link",{key:k,nonce:n.nonce,...A})))}function z5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V2&&(window.__reactRouterVersion="7.9.4")}catch{}function $5({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=NA({window:n,v5Compat:!0}));let s=r.current,[a,l]=b.useState({action:s.action,location:s.location}),u=b.useCallback(h=>{b.startTransition(()=>l(h))},[l]);return b.useLayoutEffect(()=>s.listen(u),[s,u]),b.createElement(x5,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var O2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Er=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:u,target:h,to:p,preventScrollReset:g,viewTransition:v,...x},T){let{basename:k}=b.useContext(Zr),A=typeof p=="string"&&O2.test(p),C,L=!1;if(typeof p=="string"&&A&&(C=p,V2))try{let j=new URL(window.location.href),M=p.startsWith("//")?new URL(j.protocol+p):new URL(p),F=ii(M.pathname,k);M.origin===j.origin&&F!=null?p=F+M.search+M.hash:L=!0}catch{Rr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=r5(p,{relative:s}),[D,B,K]=O5(r,x),q=G5(p,{replace:l,state:u,target:h,preventScrollReset:g,relative:s,viewTransition:v});function R(j){e&&e(j),j.defaultPrevented||q(j)}let I=b.createElement("a",{...x,...K,href:C||P,onClick:L||a?e:R,ref:z5(T,B),target:h,"data-discover":!A&&n==="render"?"true":void 0});return D&&!A?b.createElement(b.Fragment,null,I,b.createElement(F5,{page:P})):I});Er.displayName="Link";var W5=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:u,children:h,...p},g){let v=bu(l,{relative:p.relative}),x=ts(),T=b.useContext(df),{navigator:k,basename:A}=b.useContext(Zr),C=T!=null&&J5(v)&&u===!0,L=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,P=x.pathname,D=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(P=P.toLowerCase(),D=D?D.toLowerCase():null,L=L.toLowerCase()),D&&A&&(D=ii(D,A)||D);const B=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let K=P===L||!s&&P.startsWith(L)&&P.charAt(B)==="/",q=D!=null&&(D===L||!s&&D.startsWith(L)&&D.charAt(L.length)==="/"),R={isActive:K,isPending:q,isTransitioning:C},I=K?e:void 0,j;typeof r=="function"?j=r(R):j=[r,K?"active":null,q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(R):a;return b.createElement(Er,{...p,"aria-current":I,className:j,ref:g,style:M,to:l,viewTransition:u},typeof h=="function"?h(R):h)});W5.displayName="NavLink";var q5=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=ph,action:u,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,...x},T)=>{let k=X5(),A=Y5(u,{relative:p}),C=l.toLowerCase()==="get"?"get":"post",L=typeof u=="string"&&O2.test(u),P=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let B=D.nativeEvent.submitter,K=B?.getAttribute("formmethod")||l;k(B||D.currentTarget,{fetcherKey:e,method:K,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:v})};return b.createElement("form",{ref:T,method:C,action:A,onSubmit:r?h:P,...x,"data-discover":!L&&t==="render"?"true":void 0})});q5.displayName="Form";function H5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F2(t){let e=b.useContext(bl);return ft(e,H5(t)),e}function G5(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=Pr(),h=ts(),p=bu(t,{relative:a});return b.useCallback(g=>{if(S5(g,e)){g.preventDefault();let v=n!==void 0?n:Jc(h)===Jc(p);u(t,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[h,u,p,n,r,e,t,s,a,l])}var K5=0,Q5=()=>`__${String(++K5)}__`;function X5(){let{router:t}=F2("useSubmit"),{basename:e}=b.useContext(Zr),n=p5();return b.useCallback(async(r,s={})=>{let{action:a,method:l,encType:u,formData:h,body:p}=R5(r,e);if(s.navigate===!1){let g=s.fetcherKey||Q5();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Y5(t,{relative:e}={}){let{basename:n}=b.useContext(Zr),r=b.useContext(es);ft(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...bu(t||".",{relative:e})},l=ts();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ri([n,a.pathname])),Jc(a)}function J5(t,{relative:e}={}){let n=b.useContext(A2);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=F2("useViewTransitionState"),s=bu(t,{relative:e});if(!n.isTransitioning)return!1;let a=ii(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ii(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ph(s.pathname,l)!=null||Ph(s.pathname,a)!=null}var Ac=T2();const Z5=()=>{};var Hw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},eN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},B2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let x=(u&15)<<2|p>>6,T=p&63;h||(T=64,l||(x=64)),r.push(n[g],n[v],n[x],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||p==null||v==null)throw new tN;const x=a<<2|u>>4;if(r.push(x),p!==64){const T=u<<4&240|p>>2;if(r.push(T),v!==64){const k=p<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nN=function(t){const e=U2(t);return B2.encodeByteArray(e,!0)},jh=function(t){return nN(t).replace(/\./g,"")},z2=function(t){try{return B2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=()=>rN().__FIREBASE_DEFAULTS__,iN=()=>{if(typeof process>"u"||typeof Hw>"u")return;const t=Hw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z2(t[1]);return e&&JSON.parse(e)},ff=()=>{try{return Z5()||sN()||iN()||oN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$2=t=>ff()?.emulatorHosts?.[t],W2=t=>{const e=$2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},q2=()=>ff()?.config,H2=t=>ff()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jh(JSON.stringify(n)),jh(JSON.stringify(l)),""].join(".")}const Vc={};function lN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vc))Vc[e]?t.emulator.push(e):t.prod.push(e);return t}function cN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Gw=!1;function C0(t,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Vc[t]===e||Vc[t]||Gw)return;Vc[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=lN().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Gw=!0,l()},x}function g(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=cN(r),T=n("text"),k=document.getElementById(T)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),L=n("preprendIcon"),P=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const D=x.element;u(D),g(C,A);const B=p();h(P,L),D.append(P,k,C,B),document.body.appendChild(D)}a?(k.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function dN(){const t=ff()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function K2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pN(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mN(){return!dN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q2(){try{return typeof indexedDB=="object"}catch{return!1}}function X2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function gN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="FirebaseError";class jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yN,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,da.prototype.create)}}class da{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?vN(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new jr(s,u,r)}}function vN(t,e){return t.replace(xN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xN=/\{\$([^}]+)}/g;function wN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Kw(a)&&Kw(l)){if(!Yi(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _N(t,e){const n=new bN(t,e);return n.subscribe.bind(n)}class bN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Im),s.error===void 0&&(s.error=Im),s.complete===void 0&&(s.complete=Im);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1e3,SN=2,CN=14400*1e3,IN=.5;function Qw(t,e=TN,n=SN){const r=e*Math.pow(n,t),s=Math.round(IN*r*(Math.random()-.5)*2);return Math.min(CN,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Ar{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NN(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AN(t){return t===Ho?void 0:t}function NN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const PN={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},jN=Be.INFO,DN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},LN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pf{constructor(e){this.name=e,this._logLevel=jN,this._logHandler=LN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const MN=(t,e)=>e.some(n=>t instanceof n);let Xw,Yw;function VN(){return Xw||(Xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ON(){return Yw||(Yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y2=new WeakMap,gg=new WeakMap,J2=new WeakMap,Rm=new WeakMap,I0=new WeakMap;function FN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Gi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Y2.set(n,t)}).catch(()=>{}),I0.set(e,t),e}function UN(t){if(gg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});gg.set(t,e)}let yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||J2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BN(t){yg=t(yg)}function zN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Am(this),e,...n);return J2.set(r,e.sort?e.sort():[e]),Gi(r)}:ON().includes(t)?function(...e){return t.apply(Am(this),e),Gi(Y2.get(this))}:function(...e){return Gi(t.apply(Am(this),e))}}function $N(t){return typeof t=="function"?zN(t):(t instanceof IDBTransaction&&UN(t),MN(t,VN())?new Proxy(t,yg):t)}function Gi(t){if(t instanceof IDBRequest)return FN(t);if(Rm.has(t))return Rm.get(t);const e=$N(t);return e!==t&&(Rm.set(t,e),I0.set(e,t)),e}const Am=t=>I0.get(t);function Z2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=Gi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Gi(l.result),h.oldVersion,h.newVersion,Gi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const WN=["get","getKey","getAll","getAllKeys","count"],qN=["put","add","delete","clear"],Nm=new Map;function Jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=qN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WN.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),s&&h.done]))[0]};return Nm.set(e,a),a}BN(t=>({...t,get:(e,n,r)=>Jw(e,n)||t.get(e,n,r),has:(e,n)=>!!Jw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GN(t){return t.getComponent()?.type==="VERSION"}const vg="@firebase/app",Zw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new pf("@firebase/app"),KN="@firebase/app-compat",QN="@firebase/analytics-compat",XN="@firebase/analytics",YN="@firebase/app-check-compat",JN="@firebase/app-check",ZN="@firebase/auth",ek="@firebase/auth-compat",tk="@firebase/database",nk="@firebase/data-connect",rk="@firebase/database-compat",sk="@firebase/functions",ik="@firebase/functions-compat",ok="@firebase/installations",ak="@firebase/installations-compat",lk="@firebase/messaging",ck="@firebase/messaging-compat",uk="@firebase/performance",dk="@firebase/performance-compat",hk="@firebase/remote-config",fk="@firebase/remote-config-compat",pk="@firebase/storage",mk="@firebase/storage-compat",gk="@firebase/firestore",yk="@firebase/ai",vk="@firebase/firestore-compat",xk="firebase",wk="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="[DEFAULT]",_k={[vg]:"fire-core",[KN]:"fire-core-compat",[XN]:"fire-analytics",[QN]:"fire-analytics-compat",[JN]:"fire-app-check",[YN]:"fire-app-check-compat",[ZN]:"fire-auth",[ek]:"fire-auth-compat",[tk]:"fire-rtdb",[nk]:"fire-data-connect",[rk]:"fire-rtdb-compat",[sk]:"fire-fn",[ik]:"fire-fn-compat",[ok]:"fire-iid",[ak]:"fire-iid-compat",[lk]:"fire-fcm",[ck]:"fire-fcm-compat",[uk]:"fire-perf",[dk]:"fire-perf-compat",[hk]:"fire-rc",[fk]:"fire-rc-compat",[pk]:"fire-gcs",[mk]:"fire-gcs-compat",[gk]:"fire-fst",[vk]:"fire-fst-compat",[yk]:"fire-vertex","fire-js":"fire-js",[xk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,bk=new Map,wg=new Map;function e1(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xr(t){const e=t.name;if(wg.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of Dh.values())e1(n,t);for(const n of bk.values())e1(n,t);return!0}function ao(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new da("app","Firebase",Ek);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=wk;function eE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ki.create("bad-app-name",{appName:String(s)});if(n||(n=q2()),!n)throw Ki.create("no-options");const a=Dh.get(s);if(a){if(Yi(n,a.options)&&Yi(r,a.config))return a;throw Ki.create("duplicate-app",{appName:s})}const l=new kN(s);for(const h of wg.values())l.addComponent(h);const u=new Tk(n,r,l);return Dh.set(s,u),u}function mf(t=xg){const e=Dh.get(t);if(!e&&t===xg&&q2())return eE();if(!e)throw Ki.create("no-app",{appName:t});return e}function Qn(t,e,n){let r=_k[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(l.join(" "));return}Xr(new Ar(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firebase-heartbeat-database",Ck=1,Zc="firebase-heartbeat-store";let km=null;function tE(){return km||(km=Z2(Sk,Ck,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),km}async function Ik(t){try{const n=(await tE()).transaction(Zc),r=await n.objectStore(Zc).get(nE(t));return await n.done,r}catch(e){if(e instanceof jr)oi.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e?.message});oi.warn(n.message)}}}async function t1(t,e){try{const r=(await tE()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,nE(t)),await r.done}catch(n){if(n instanceof jr)oi.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n?.message});oi.warn(r.message)}}}function nE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=1024,Ak=30;class Nk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Ak){const s=jk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n1(),{heartbeatsToSend:n,unsentEntries:r}=kk(this._heartbeatsCache.heartbeats),s=jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return oi.warn(e),""}}}function n1(){return new Date().toISOString().substring(0,10)}function kk(t,e=Rk){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),r1(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),r1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Pk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q2()?X2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ik(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function r1(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}function jk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){Xr(new Ar("platform-logger",e=>new HN(e),"PRIVATE")),Xr(new Ar("heartbeat",e=>new Nk(e),"PRIVATE")),Qn(vg,Zw,t),Qn(vg,Zw,"esm2020"),Qn("fire-js","")}Dk("");var Lk="firebase",Mk="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(Lk,Mk,"app");const rE="@firebase/installations",R0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=1e4,iE=`w:${R0}`,oE="FIS_v2",Vk="https://firebaseinstallations.googleapis.com/v1",Ok=3600*1e3,Fk="installations",Uk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ra=new da(Fk,Uk,Bk);function aE(t){return t instanceof jr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE({projectId:t}){return`${Vk}/projects/${t}/installations`}function cE(t){return{token:t.token,requestStatus:2,expiresIn:$k(t.expiresIn),creationTime:Date.now()}}async function uE(t,e){const r=(await e.json()).error;return ra.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function dE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zk(t,{refreshToken:e}){const n=dE(t);return n.append("Authorization",Wk(e)),n}async function hE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $k(t){return Number(t.replace("s","000"))}function Wk(t){return`${oE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=lE(t),s=dE(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:oE,appId:t.appId,sdkVersion:iE},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await hE(()=>fetch(r,u));if(h.ok){const p=await h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:cE(p.authToken)}}else throw await uE("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=/^[cdef][\w-]{21}$/,_g="";function Kk(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Qk(t);return Gk.test(n)?n:_g}catch{return _g}}function Qk(t){return Hk(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function mE(t,e){const n=gf(t);gE(n,e),Xk(n,e)}function gE(t,e){const n=pE.get(t);if(n)for(const r of n)r(e)}function Xk(t,e){const n=Yk();n&&n.postMessage({key:t,fid:e}),Jk()}let Ko=null;function Yk(){return!Ko&&"BroadcastChannel"in self&&(Ko=new BroadcastChannel("[Firebase] FID Change"),Ko.onmessage=t=>{gE(t.data.key,t.data.fid)}),Ko}function Jk(){pE.size===0&&Ko&&(Ko.close(),Ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="firebase-installations-database",eP=1,sa="firebase-installations-store";let Pm=null;function A0(){return Pm||(Pm=Z2(Zk,eP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sa)}}})),Pm}async function Lh(t,e){const n=gf(t),s=(await A0()).transaction(sa,"readwrite"),a=s.objectStore(sa),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&mE(t,e.fid),e}async function yE(t){const e=gf(t),r=(await A0()).transaction(sa,"readwrite");await r.objectStore(sa).delete(e),await r.done}async function yf(t,e){const n=gf(t),s=(await A0()).transaction(sa,"readwrite"),a=s.objectStore(sa),l=await a.get(n),u=e(l);return u===void 0?await a.delete(n):await a.put(u,n),await s.done,u&&(!l||l.fid!==u.fid)&&mE(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(t){let e;const n=await yf(t.appConfig,r=>{const s=tP(r),a=nP(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===_g?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tP(t){const e=t||{fid:Kk(),registrationStatus:0};return vE(e)}function nP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ra.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rP(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sP(t)}:{installationEntry:e}}async function rP(t,e){try{const n=await qk(t,e);return Lh(t.appConfig,n)}catch(n){throw aE(n)&&n.customData.serverCode===409?await yE(t.appConfig):await Lh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function sP(t){let e=await s1(t.appConfig);for(;e.registrationStatus===1;)await fE(100),e=await s1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await N0(t);return r||n}return e}function s1(t){return yf(t,e=>{if(!e)throw ra.create("installation-not-found");return vE(e)})}function vE(t){return iP(t)?{fid:t.fid,registrationStatus:0}:t}function iP(t){return t.registrationStatus===1&&t.registrationTime+sE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP({appConfig:t,heartbeatServiceProvider:e},n){const r=aP(t,n),s=zk(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:iE,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await hE(()=>fetch(r,u));if(h.ok){const p=await h.json();return cE(p)}else throw await uE("Generate Auth Token",h)}function aP(t,{fid:e}){return`${lE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(t,e=!1){let n;const r=await yf(t.appConfig,a=>{if(!xE(a))throw ra.create("not-registered");const l=a.authToken;if(!e&&uP(l))return a;if(l.requestStatus===1)return n=lP(t,e),a;{if(!navigator.onLine)throw ra.create("app-offline");const u=hP(a);return n=cP(t,u),u}});return n?await n:r.authToken}async function lP(t,e){let n=await i1(t.appConfig);for(;n.authToken.requestStatus===1;)await fE(100),n=await i1(t.appConfig);const r=n.authToken;return r.requestStatus===0?k0(t,e):r}function i1(t){return yf(t,e=>{if(!xE(e))throw ra.create("not-registered");const n=e.authToken;return fP(n)?{...e,authToken:{requestStatus:0}}:e})}async function cP(t,e){try{const n=await oP(t,e),r={...e,authToken:n};return await Lh(t.appConfig,r),n}catch(n){if(aE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yE(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Lh(t.appConfig,r)}throw n}}function xE(t){return t!==void 0&&t.registrationStatus===2}function uP(t){return t.requestStatus===2&&!dP(t)}function dP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ok}function hP(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function fP(t){return t.requestStatus===1&&t.requestTime+sE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t){const e=t,{installationEntry:n,registrationPromise:r}=await N0(e);return r?r.catch(console.error):k0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t,e=!1){const n=t;return await gP(n),(await k0(n,e)).token}async function gP(t){const{registrationPromise:e}=await N0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){if(!t||!t.options)throw jm("App Configuration");if(!t.name)throw jm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function jm(t){return ra.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="installations",vP="installations-internal",xP=t=>{const e=t.getProvider("app").getImmediate(),n=yP(e),r=ao(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wP=t=>{const e=t.getProvider("app").getImmediate(),n=ao(e,wE).getImmediate();return{getId:()=>pP(n),getToken:s=>mP(n,s)}};function _P(){Xr(new Ar(wE,xP,"PUBLIC")),Xr(new Ar(vP,wP,"PRIVATE"))}_P();Qn(rE,R0);Qn(rE,R0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="analytics",bP="firebase_id",EP="origin",TP=60*1e3,SP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",P0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new pf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ur=new da("analytics","Analytics",CP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){if(!t.startsWith(P0)){const e=ur.create("invalid-gtag-resource",{gtagURL:t});return Ln.warn(e.message),""}return t}function _E(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function RP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function AP(t,e){const n=RP("firebase-js-sdk-policy",{createScriptURL:IP}),r=document.createElement("script"),s=`${P0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function NP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kP(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const h=(await _E(n)).find(p=>p.measurementId===s);h&&await e[h.appId]}}catch(u){Ln.error(u)}t("config",s,a)}async function PP(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await _E(n);for(const h of l){const p=u.find(v=>v.measurementId===h),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){Ln.error(a)}}function jP(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[u,h]=l;await PP(t,e,n,u,h)}else if(a==="config"){const[u,h]=l;await kP(t,e,n,r,u,h)}else if(a==="consent"){const[u,h]=l;t("consent",u,h)}else if(a==="get"){const[u,h,p]=l;t("get",u,h,p)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){Ln.error(u)}}return s}function DP(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=jP(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function LP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(P0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=30,VP=1e3;class OP{constructor(e={},n=VP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const bE=new OP;function FP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function UP(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:FP(n)},s=SP.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();u.error?.message&&(l=u.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function BP(t,e=bE,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw ur.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw ur.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new WP;return setTimeout(async()=>{u.abort()},TP),EE({appId:r,apiKey:s,measurementId:a},l,u,e)}async function EE(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=bE){const{appId:a,measurementId:l}=t;try{await zP(r,e)}catch(u){if(l)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw u}try{const u=await UP(t);return s.deleteThrottleMetadata(a),u}catch(u){const h=u;if(!$P(h)){if(s.deleteThrottleMetadata(a),l)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw u}const p=Number(h?.customData?.httpStatus)===503?Qw(n,s.intervalMillis,MP):Qw(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(a,g),Ln.debug(`Calling attemptFetch again in ${p} millis`),EE(t,g,r,s)}}function zP(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $P(t){if(!(t instanceof jr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qP(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function HP(t,e,n,r){if(r&&r.global){const s={};for(const a of Object.keys(n))s[`user_properties.${a}`]=n[a];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(){if(Q2())try{await X2()}catch(t){return Ln.warn(ur.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ln.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function KP(t,e,n,r,s,a,l){const u=BP(t);u.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Ln.error(x)),e.push(u);const h=GP().then(x=>{if(x)return r.getId()}),[p,g]=await Promise.all([u,h]);LP(a)||AP(a,p.measurementId),s("js",new Date);const v=l?.config??{};return v[EP]="firebase",v.update=!0,g!=null&&(v[bP]=g),s("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.app=e}_delete(){return delete il[this.app.options.appId],Promise.resolve()}}let il={},o1=[];const a1={};let Dm="dataLayer",XP="gtag",l1,j0,c1=!1;function YP(){const t=[];if(K2()&&t.push("This is a browser extension environment."),gN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ur.create("invalid-analytics-context",{errorInfo:e});Ln.warn(n.message)}}function JP(t,e,n){YP();const r=t.options.appId;if(!r)throw ur.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ur.create("no-api-key");if(il[r]!=null)throw ur.create("already-exists",{id:r});if(!c1){NP(Dm);const{wrappedGtag:a,gtagCore:l}=DP(il,o1,a1,Dm,XP);j0=a,l1=l,c1=!0}return il[r]=KP(t,o1,a1,e,l1,Dm,n),new QP(t)}function ZP(t=mf()){t=ct(t);const e=ao(t,Mh);return e.isInitialized()?e.getImmediate():e4(t)}function e4(t,e={}){const n=ao(t,Mh);if(n.isInitialized()){const s=n.getImmediate();if(Yi(e,n.getOptions()))return s;throw ur.create("already-initialized")}return n.initialize({options:e})}function t4(t,e,n){t=ct(t),HP(j0,il[t.app.options.appId],e,n).catch(r=>Ln.error(r))}function n4(t,e,n,r){t=ct(t),qP(j0,il[t.app.options.appId],e,n,r).catch(s=>Ln.error(s))}const u1="@firebase/analytics",d1="0.10.19";function r4(){Xr(new Ar(Mh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return JP(r,s,n)},"PUBLIC")),Xr(new Ar("analytics-internal",t,"PRIVATE")),Qn(u1,d1),Qn(u1,d1,"esm2020");function t(e){try{const n=e.getProvider(Mh).getImmediate();return{logEvent:(r,s,a)=>n4(n,r,s,a),setUserProperties:(r,s)=>t4(n,r,s)}}catch(n){throw ur.create("interop-component-reg-failed",{reason:n})}}}r4();function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s4=TE,SE=new da("auth","Firebase",TE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new pf("@firebase/auth");function i4(t,...e){Vh.logLevel<=Be.WARN&&Vh.warn(`Auth (${ha}): ${t}`,...e)}function gh(t,...e){Vh.logLevel<=Be.ERROR&&Vh.error(`Auth (${ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t,...e){throw L0(t,...e)}function Qr(t,...e){return L0(t,...e)}function D0(t,e,n){const r={...s4(),[e]:n};return new da("auth","Firebase",r).create(e,{appName:t.name})}function si(t){return D0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nr(t,"argument-error"),D0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SE.create(t,...e)}function Se(t,e,...n){if(!t)throw L0(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gh(e),new Error(e)}function ai(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){return typeof self<"u"&&self.location?.href||""}function a4(){return h1()==="http:"||h1()==="https:"}function h1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a4()||K2()||"connection"in navigator)?navigator.onLine:!0}function c4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=uN()||fN()}get(){return l4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h4=new Tu(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function co(t,e,n,r,s={}){return IE(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Eu({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:h,...a};return hN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&oo(t.emulatorConfig.host)&&(p.credentials="include"),CE.fetch()(await RE(t,t.config.apiHost,n,u),p)})}async function IE(t,e,n){t._canInitEmulator=!1;const r={...u4,...e};try{const s=new p4(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Zd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Zd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Zd(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw D0(t,g,p);Nr(t,g)}}catch(s){if(s instanceof jr)throw s;Nr(t,"network-request-failed",{message:String(s)})}}async function Su(t,e,n,r,s={}){const a=await co(t,e,n,r,s);return"mfaPendingCredential"in a&&Nr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function RE(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?M0(t.config,s):`${t.config.apiScheme}://${s}`;return d4.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function f4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class p4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),h4.get())})}}function Zd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qr(t,e,r);return s.customData._tokenResponse=n,s}function f1(t){return t!==void 0&&t.enterprise!==void 0}class m4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return f4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function g4(t,e){return co(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e){return co(t,"POST","/v1/accounts:delete",e)}async function Oh(t,e){return co(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v4(t,e=!1){const n=ct(t),r=await n.getIdToken(e),s=V0(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Oc(Lm(s.auth_time)),issuedAtTime:Oc(Lm(s.iat)),expirationTime:Oc(Lm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Lm(t){return Number(t)*1e3}function V0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const s=z2(n);return s?JSON.parse(s):(gh("Failed to decode base64 JWT payload"),null)}catch(s){return gh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function p1(t){const e=V0(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jr&&x4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t){const e=t.auth,n=await t.getIdToken(),r=await eu(t,Oh(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?AE(s.providerUserInfo):[],l=b4(t.providerData,a),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!l?.length,p=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Eg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function _4(t){const e=ct(t);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function AE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){const n=await IE(t,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await RE(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&oo(t.emulatorConfig.host)&&(h.credentials="include"),CE.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T4(t,e){return co(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=p1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await E4(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new ol;return r&&(Se(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new w4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Eg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v4(this,e)}reload(){return _4(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await eu(this,y4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:T,providerData:k,stsTokenManager:A}=n;Se(v&&A,e,"internal-error");const C=ol.fromJSON(this.name,A);Se(typeof v=="string",e,"internal-error"),Oi(r,e.name),Oi(s,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof T=="boolean",e,"internal-error"),Oi(a,e.name),Oi(l,e.name),Oi(u,e.name),Oi(h,e.name),Oi(p,e.name),Oi(g,e.name);const L=new Kr({uid:v,auth:e,email:s,emailVerified:x,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:C,createdAt:p,lastLoginAt:g});return k&&Array.isArray(k)&&(L.providerData=k.map(P=>({...P}))),h&&(L._redirectEventId=h),L}static async _fromIdTokenResponse(e,n,r=!1){const s=new ol;s.updateFromServerResponse(n);const a=new Kr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Se(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?AE(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new ol;u.updateFromIdToken(r);const h=new Kr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Eg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;function ni(t){ai(t instanceof Function,"Expected a class definition");let e=m1.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NE.type="NONE";const g1=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t,e,n){return`firebase:${t}:${e}:${n}`}class al{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=yh(this.userKey,s.apiKey,a),this.fullPersistenceKey=yh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?Kr._fromGetAccountInfoResponse(this.auth,n,e):null}return Kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new al(ni(g1),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ni(g1);const l=yh(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const g=await p._get(l);if(g){let v;if(typeof g=="string"){const x=await Oh(e,{idToken:g}).catch(()=>{});if(!x)break;v=await Kr._fromGetAccountInfoResponse(e,x,g)}else v=Kr._fromJSON(e,g);p!==a&&(u=v),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new al(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new al(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ME(e))return"Blackberry";if(VE(e))return"Webos";if(PE(e))return"Safari";if((e.includes("chrome/")||jE(e))&&!e.includes("edge/"))return"Chrome";if(LE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function kE(t=Sn()){return/firefox\//i.test(t)}function PE(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jE(t=Sn()){return/crios\//i.test(t)}function DE(t=Sn()){return/iemobile/i.test(t)}function LE(t=Sn()){return/android/i.test(t)}function ME(t=Sn()){return/blackberry/i.test(t)}function VE(t=Sn()){return/webos/i.test(t)}function O0(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S4(t=Sn()){return O0(t)&&!!window.navigator?.standalone}function C4(){return pN()&&document.documentMode===10}function OE(t=Sn()){return O0(t)||LE(t)||VE(t)||ME(t)||/windows phone/i.test(t)||DE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e=[]){let n;switch(t){case"Browser":n=y1(Sn());break;case"Worker":n=`${y1(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e={}){return co(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=6;class N4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??A4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v1(this),this.idTokenSubscription=new v1(this),this.beforeStateQueue=new I4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await al.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),r=await Kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(si(this));const n=e?ct(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R4(this),n=new N4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new da("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await T4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&i4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uo(t){return ct(t)}class v1{constructor(e){this.auth=e,this.observer=null,this.addObserver=_N(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P4(t){vf=t}function UE(t){return vf.loadJS(t)}function j4(){return vf.recaptchaEnterpriseScript}function D4(){return vf.gapiScript}function L4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class M4{constructor(){this.enterprise=new V4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class V4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const O4="recaptcha-enterprise",BE="NO_RECAPTCHA";class F4{constructor(e){this.type=O4,this.auth=uo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{g4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new m4(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;f1(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(BE)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new M4().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&f1(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=j4();h.length!==0&&(h+=u),UE(h).then(()=>{s(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function x1(t,e,n,r=!1,s=!1){const a=new F4(t);let l;if(s)l=BE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Tg(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await x1(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await x1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t,e){const n=ao(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Yi(a,e??{}))return s;Nr(s,"already-initialized")}return n.initialize({options:e})}function B4(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ni);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function z4(t,e,n){const r=uo(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=zE(e),{host:l,port:u}=$4(e),h=u===null?"":`:${u}`,p={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Yi(p,r.config.emulator)&&Yi(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,oo(l)?(S0(`${a}//${l}${h}`),C0("Auth",!0)):W4()}function zE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $4(t){const e=zE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:w1(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:w1(l)}}}function w1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function q4(t,e){return co(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e){return Su(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function K4(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends F0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tg(e,n,"signInWithPassword",H4);case"emailLink":return G4(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tg(e,r,"signUpPassword",q4);case"emailLink":return K4(e,{idToken:n,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e){return Su(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="http://localhost";class ia extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ia(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ll(e,n)}buildRequest(){const e={requestUri:Q4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y4(t){const e=Nc(kc(t)).link,n=e?Nc(kc(e)).deep_link_id:null,r=Nc(kc(t)).deep_link_id;return(r?Nc(kc(r)).link:null)||r||n||e||t}class U0{constructor(e){const n=Nc(kc(e)),r=n.apiKey??null,s=n.oobCode??null,a=X4(n.mode??null);Se(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Y4(e);try{return new U0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=U0.parseLink(n);return Se(r,"argument-error"),tu._fromEmailAndCode(e,r.code,r.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends B0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Cu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Cu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Cu{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(t,e){return Su(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Kr._fromIdTokenResponse(e,r,s),l=_1(r);return new oa({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_1(r);return new oa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends jr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Uh(e,n,r,s)}}function $E(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(t,a,e,r):a})}async function Z4(t,e,n=!1){const r=await eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(si(r));const s="reauthenticate";try{const a=await eu(t,$E(r,s,e,t),n);Se(a.idToken,r,"internal-error");const l=V0(a.idToken);Se(l,r,"internal-error");const{sub:u}=l;return Se(t.uid===u,r,"user-mismatch"),oa._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Nr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(t,e,n=!1){if(Hn(t.app))return Promise.reject(si(t));const r="signIn",s=await $E(t,r,e),a=await oa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function tj(t,e){return WE(uo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(t){const e=uo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HE(t,e,n){if(Hn(t.app))return Promise.reject(si(t));const r=uo(t),l=await Tg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J4).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&qE(t),h}),u=await oa._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function GE(t,e,n){return Hn(t.app)?Promise.reject(si(t)):tj(ct(t),Tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qE(t),r})}function nj(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function rj(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function fa(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function sj(t){return ct(t).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=1e3,oj=10;class QE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);C4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QE.type="LOCAL";const aj=QE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XE.type="SESSION";const YE=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(n.origin,a)),h=await lj(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const p=z0("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(){return window}function uj(t){Cs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return typeof Cs().WorkerGlobalScope<"u"&&typeof Cs().importScripts=="function"}async function dj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hj(){return navigator?.serviceWorker?.controller||null}function fj(){return JE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firebaseLocalStorageDb",pj=1,zh="firebaseLocalStorage",eT="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wf(t,e){return t.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function mj(){const t=indexedDB.deleteDatabase(ZE);return new Iu(t).toPromise()}function Sg(){const t=indexedDB.open(ZE,pj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zh,{keyPath:eT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await mj(),e(await Sg()))})})}async function b1(t,e,n){const r=wf(t,!0).put({[eT]:e,value:n});return new Iu(r).toPromise()}async function gj(t,e){const n=wf(t,!1).get(e),r=await new Iu(n).toPromise();return r===void 0?null:r.value}function E1(t,e){const n=wf(t,!0).delete(e);return new Iu(n).toPromise()}const yj=800,vj=3;class tT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xf._getInstance(fj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dj(),!this.activeServiceWorker)return;this.sender=new cj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sg();return await b1(e,Bh,"1"),await E1(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=wf(s,!1).getAll();return new Iu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tT.type="LOCAL";const xj=tT;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e){return e?ni(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wj(t){return WE(t.auth,new $0(t),t.bypassAuthState)}function _j(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),ej(n,new $0(t),t.bypassAuthState)}async function bj(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),Z4(n,new $0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wj;case"linkViaPopup":case"linkViaRedirect":return bj;case"reauthViaPopup":case"reauthViaRedirect":return _j;default:Nr(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Tu(2e3,1e4);async function sT(t,e,n){if(Hn(t.app))return Promise.reject(Qr(t,"operation-not-supported-in-this-environment"));const r=uo(t);o4(t,e,B0);const s=nT(r,n);return new Qo(r,"signInViaPopup",e,s).executeNotNull()}class Qo extends rT{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=z0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ej.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="pendingRedirect",vh=new Map;class Sj extends rT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await Cj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cj(t,e){const n=Aj(e),r=Rj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Ij(t,e){vh.set(t._key(),e)}function Rj(t){return ni(t._redirectPersistence)}function Aj(t){return yh(Tj,t.config.apiKey,t.name)}async function Nj(t,e,n=!1){if(Hn(t.app))return Promise.reject(si(t));const r=uo(t),s=nT(r,e),l=await new Sj(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=600*1e3;class Pj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!iT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kj&&this.cachedEventUids.clear(),this.cachedEventUids.has(T1(e))}saveEventToCache(e){this.cachedEventUids.add(T1(e)),this.lastProcessedEventTime=Date.now()}}function T1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function jj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e={}){return co(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mj=/^https?/;async function Vj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dj(t);for(const n of e)try{if(Oj(n))return}catch{}Nr(t,"unauthorized-domain")}function Oj(t){const e=bg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Mj.test(n))return!1;if(Lj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Tu(3e4,6e4);function S1(){const t=Cs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Uj(t){return new Promise((e,n)=>{function r(){S1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S1(),n(Qr(t,"network-request-failed"))},timeout:Fj.get()})}if(Cs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cs().gapi?.load)r();else{const s=L4("iframefcb");return Cs()[s]=()=>{gapi.load?r():n(Qr(t,"network-request-failed"))},UE(`${D4()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw xh=null,e})}let xh=null;function Bj(t){return xh=xh||Uj(t),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Tu(5e3,15e3),$j="__/auth/iframe",Wj="emulator/auth/iframe",qj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gj(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M0(e,Wj):`https://${t.config.authDomain}/${$j}`,r={apiKey:e.apiKey,appName:t.name,v:ha},s=Hj.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Eu(r).slice(1)}`}async function Kj(t){const e=await Bj(t),n=Cs().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:Gj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qj,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Qr(t,"network-request-failed"),u=Cs().setTimeout(()=>{a(l)},zj.get());function h(){Cs().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xj=500,Yj=600,Jj="_blank",Zj="http://localhost";class C1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e6(t,e,n,r=Xj,s=Yj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...Qj,width:r.toString(),height:s.toString(),top:a,left:l},p=Sn().toLowerCase();n&&(u=jE(p)?Jj:n),kE(p)&&(e=e||Zj,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[T,k])=>`${x}${T}=${k},`,"");if(S4(p)&&u!=="_self")return t6(e||"",u),new C1(null);const v=window.open(e||"",u,g);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new C1(v)}function t6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="__/auth/handler",r6="emulator/auth/handler",s6=encodeURIComponent("fac");async function I1(t,e,n,r,s,a){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ha,eventId:s};if(e instanceof B0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",wN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Cu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),p=h?`#${s6}=${encodeURIComponent(h)}`:"";return`${i6(t)}?${Eu(u).slice(1)}${p}`}function i6({config:t}){return t.emulator?M0(t,r6):`https://${t.authDomain}/${n6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class o6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=Nj,this._overrideRedirectResult=Ij}async _openPopup(e,n,r,s){ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await I1(e,n,r,bg(),s);return e6(e,a,z0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await I1(e,n,r,bg(),s);return uj(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ai(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Kj(e),r=new Pj(e);return n.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},s=>{const a=s?.[0]?.[Mm];a!==void 0&&n(!!a),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OE()||PE()||O0()}}const a6=o6;var R1="@firebase/auth",A1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u6(t){Xr(new Ar("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Se(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FE(t)},p=new k4(r,s,a,h);return B4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xr(new Ar("auth-internal",e=>{const n=uo(e.getProvider("auth").getImmediate());return(r=>new l6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(R1,A1,c6(t)),Qn(R1,A1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=300,h6=H2("authIdTokenMaxAge")||d6;let N1=null;const f6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h6)return;const s=n?.token;N1!==s&&(N1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function p6(t=mf()){const e=ao(t,"auth");if(e.isInitialized())return e.getImmediate();const n=U4(t,{popupRedirectResolver:a6,persistence:[xj,aj,YE]}),r=H2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=f6(a.toString());rj(n,l,()=>l(n.currentUser)),nj(n,u=>l(u))}}const s=$2("auth");return s&&z4(n,`http://${s}`),n}function m6(){return document.getElementsByTagName("head")?.[0]??document}P4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Qr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",m6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u6("Browser");var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,oT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function j(){}j.prototype=I.prototype,R.F=I.prototype,R.prototype=new j,R.prototype.constructor=R,R.D=function(M,F,$){for(var V=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)V[Le-2]=arguments[Le];return I.prototype[F].apply(M,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,I,j){j||(j=0);const M=Array(16);if(typeof I=="string")for(var F=0;F<16;++F)M[F]=I.charCodeAt(j++)|I.charCodeAt(j++)<<8|I.charCodeAt(j++)<<16|I.charCodeAt(j++)<<24;else for(F=0;F<16;++F)M[F]=I[j++]|I[j++]<<8|I[j++]<<16|I[j++]<<24;I=R.g[0],j=R.g[1],F=R.g[2];let $=R.g[3],V;V=I+($^j&(F^$))+M[0]+3614090360&4294967295,I=j+(V<<7&4294967295|V>>>25),V=$+(F^I&(j^F))+M[1]+3905402710&4294967295,$=I+(V<<12&4294967295|V>>>20),V=F+(j^$&(I^j))+M[2]+606105819&4294967295,F=$+(V<<17&4294967295|V>>>15),V=j+(I^F&($^I))+M[3]+3250441966&4294967295,j=F+(V<<22&4294967295|V>>>10),V=I+($^j&(F^$))+M[4]+4118548399&4294967295,I=j+(V<<7&4294967295|V>>>25),V=$+(F^I&(j^F))+M[5]+1200080426&4294967295,$=I+(V<<12&4294967295|V>>>20),V=F+(j^$&(I^j))+M[6]+2821735955&4294967295,F=$+(V<<17&4294967295|V>>>15),V=j+(I^F&($^I))+M[7]+4249261313&4294967295,j=F+(V<<22&4294967295|V>>>10),V=I+($^j&(F^$))+M[8]+1770035416&4294967295,I=j+(V<<7&4294967295|V>>>25),V=$+(F^I&(j^F))+M[9]+2336552879&4294967295,$=I+(V<<12&4294967295|V>>>20),V=F+(j^$&(I^j))+M[10]+4294925233&4294967295,F=$+(V<<17&4294967295|V>>>15),V=j+(I^F&($^I))+M[11]+2304563134&4294967295,j=F+(V<<22&4294967295|V>>>10),V=I+($^j&(F^$))+M[12]+1804603682&4294967295,I=j+(V<<7&4294967295|V>>>25),V=$+(F^I&(j^F))+M[13]+4254626195&4294967295,$=I+(V<<12&4294967295|V>>>20),V=F+(j^$&(I^j))+M[14]+2792965006&4294967295,F=$+(V<<17&4294967295|V>>>15),V=j+(I^F&($^I))+M[15]+1236535329&4294967295,j=F+(V<<22&4294967295|V>>>10),V=I+(F^$&(j^F))+M[1]+4129170786&4294967295,I=j+(V<<5&4294967295|V>>>27),V=$+(j^F&(I^j))+M[6]+3225465664&4294967295,$=I+(V<<9&4294967295|V>>>23),V=F+(I^j&($^I))+M[11]+643717713&4294967295,F=$+(V<<14&4294967295|V>>>18),V=j+($^I&(F^$))+M[0]+3921069994&4294967295,j=F+(V<<20&4294967295|V>>>12),V=I+(F^$&(j^F))+M[5]+3593408605&4294967295,I=j+(V<<5&4294967295|V>>>27),V=$+(j^F&(I^j))+M[10]+38016083&4294967295,$=I+(V<<9&4294967295|V>>>23),V=F+(I^j&($^I))+M[15]+3634488961&4294967295,F=$+(V<<14&4294967295|V>>>18),V=j+($^I&(F^$))+M[4]+3889429448&4294967295,j=F+(V<<20&4294967295|V>>>12),V=I+(F^$&(j^F))+M[9]+568446438&4294967295,I=j+(V<<5&4294967295|V>>>27),V=$+(j^F&(I^j))+M[14]+3275163606&4294967295,$=I+(V<<9&4294967295|V>>>23),V=F+(I^j&($^I))+M[3]+4107603335&4294967295,F=$+(V<<14&4294967295|V>>>18),V=j+($^I&(F^$))+M[8]+1163531501&4294967295,j=F+(V<<20&4294967295|V>>>12),V=I+(F^$&(j^F))+M[13]+2850285829&4294967295,I=j+(V<<5&4294967295|V>>>27),V=$+(j^F&(I^j))+M[2]+4243563512&4294967295,$=I+(V<<9&4294967295|V>>>23),V=F+(I^j&($^I))+M[7]+1735328473&4294967295,F=$+(V<<14&4294967295|V>>>18),V=j+($^I&(F^$))+M[12]+2368359562&4294967295,j=F+(V<<20&4294967295|V>>>12),V=I+(j^F^$)+M[5]+4294588738&4294967295,I=j+(V<<4&4294967295|V>>>28),V=$+(I^j^F)+M[8]+2272392833&4294967295,$=I+(V<<11&4294967295|V>>>21),V=F+($^I^j)+M[11]+1839030562&4294967295,F=$+(V<<16&4294967295|V>>>16),V=j+(F^$^I)+M[14]+4259657740&4294967295,j=F+(V<<23&4294967295|V>>>9),V=I+(j^F^$)+M[1]+2763975236&4294967295,I=j+(V<<4&4294967295|V>>>28),V=$+(I^j^F)+M[4]+1272893353&4294967295,$=I+(V<<11&4294967295|V>>>21),V=F+($^I^j)+M[7]+4139469664&4294967295,F=$+(V<<16&4294967295|V>>>16),V=j+(F^$^I)+M[10]+3200236656&4294967295,j=F+(V<<23&4294967295|V>>>9),V=I+(j^F^$)+M[13]+681279174&4294967295,I=j+(V<<4&4294967295|V>>>28),V=$+(I^j^F)+M[0]+3936430074&4294967295,$=I+(V<<11&4294967295|V>>>21),V=F+($^I^j)+M[3]+3572445317&4294967295,F=$+(V<<16&4294967295|V>>>16),V=j+(F^$^I)+M[6]+76029189&4294967295,j=F+(V<<23&4294967295|V>>>9),V=I+(j^F^$)+M[9]+3654602809&4294967295,I=j+(V<<4&4294967295|V>>>28),V=$+(I^j^F)+M[12]+3873151461&4294967295,$=I+(V<<11&4294967295|V>>>21),V=F+($^I^j)+M[15]+530742520&4294967295,F=$+(V<<16&4294967295|V>>>16),V=j+(F^$^I)+M[2]+3299628645&4294967295,j=F+(V<<23&4294967295|V>>>9),V=I+(F^(j|~$))+M[0]+4096336452&4294967295,I=j+(V<<6&4294967295|V>>>26),V=$+(j^(I|~F))+M[7]+1126891415&4294967295,$=I+(V<<10&4294967295|V>>>22),V=F+(I^($|~j))+M[14]+2878612391&4294967295,F=$+(V<<15&4294967295|V>>>17),V=j+($^(F|~I))+M[5]+4237533241&4294967295,j=F+(V<<21&4294967295|V>>>11),V=I+(F^(j|~$))+M[12]+1700485571&4294967295,I=j+(V<<6&4294967295|V>>>26),V=$+(j^(I|~F))+M[3]+2399980690&4294967295,$=I+(V<<10&4294967295|V>>>22),V=F+(I^($|~j))+M[10]+4293915773&4294967295,F=$+(V<<15&4294967295|V>>>17),V=j+($^(F|~I))+M[1]+2240044497&4294967295,j=F+(V<<21&4294967295|V>>>11),V=I+(F^(j|~$))+M[8]+1873313359&4294967295,I=j+(V<<6&4294967295|V>>>26),V=$+(j^(I|~F))+M[15]+4264355552&4294967295,$=I+(V<<10&4294967295|V>>>22),V=F+(I^($|~j))+M[6]+2734768916&4294967295,F=$+(V<<15&4294967295|V>>>17),V=j+($^(F|~I))+M[13]+1309151649&4294967295,j=F+(V<<21&4294967295|V>>>11),V=I+(F^(j|~$))+M[4]+4149444226&4294967295,I=j+(V<<6&4294967295|V>>>26),V=$+(j^(I|~F))+M[11]+3174756917&4294967295,$=I+(V<<10&4294967295|V>>>22),V=F+(I^($|~j))+M[2]+718787259&4294967295,F=$+(V<<15&4294967295|V>>>17),V=j+($^(F|~I))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+F&4294967295,R.g[3]=R.g[3]+$&4294967295}r.prototype.v=function(R,I){I===void 0&&(I=R.length);const j=I-this.blockSize,M=this.C;let F=this.h,$=0;for(;$<I;){if(F==0)for(;$<=j;)s(this,R,$),$+=this.blockSize;if(typeof R=="string"){for(;$<I;)if(M[F++]=R.charCodeAt($++),F==this.blockSize){s(this,M),F=0;break}}else for(;$<I;)if(M[F++]=R[$++],F==this.blockSize){s(this,M),F=0;break}}this.h=F,this.o+=I},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var j=R.length-8;j<R.length;++j)R[j]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,j=0;j<4;++j)for(let M=0;M<32;M+=8)R[I++]=this.g[j]>>>M&255;return R};function a(R,I){var j=u;return Object.prototype.hasOwnProperty.call(j,R)?j[R]:j[R]=I(R)}function l(R,I){this.h=I;const j=[];let M=!0;for(let F=R.length-1;F>=0;F--){const $=R[F]|0;M&&$==I||(j[F]=$,M=!1)}this.g=j}var u={};function h(R){return-128<=R&&R<128?a(R,function(I){return new l([I|0],I<0?-1:0)}):new l([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return C(p(-R));const I=[];let j=1;for(let M=0;R>=j;M++)I[M]=R/j|0,j*=4294967296;return new l(I,0)}function g(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return C(g(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=p(Math.pow(I,8));let M=v;for(let $=0;$<R.length;$+=8){var F=Math.min(8,R.length-$);const V=parseInt(R.substring($,$+F),I);F<8?(F=p(Math.pow(I,F)),M=M.j(F).add(p(V))):(M=M.j(j),M=M.add(p(V)))}return M}var v=h(0),x=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(A(this))return-C(this).m();let R=0,I=1;for(let j=0;j<this.g.length;j++){const M=this.i(j);R+=(M>=0?M:4294967296+M)*I,I*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if(A(this))return"-"+C(this).toString(R);const I=p(Math.pow(R,6));var j=this;let M="";for(;;){const F=B(j,I).g;j=L(j,F.j(I));let $=((j.g.length>0?j.g[0]:j.h)>>>0).toString(R);if(j=F,k(j))return $+M;for(;$.length<6;)$="0"+$;M=$+M}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function A(R){return R.h==-1}t.l=function(R){return R=L(this,R),A(R)?-1:k(R)?0:1};function C(R){const I=R.g.length,j=[];for(let M=0;M<I;M++)j[M]=~R.g[M];return new l(j,~R.h).add(x)}t.abs=function(){return A(this)?C(this):this},t.add=function(R){const I=Math.max(this.g.length,R.g.length),j=[];let M=0;for(let F=0;F<=I;F++){let $=M+(this.i(F)&65535)+(R.i(F)&65535),V=($>>>16)+(this.i(F)>>>16)+(R.i(F)>>>16);M=V>>>16,$&=65535,V&=65535,j[F]=V<<16|$}return new l(j,j[j.length-1]&-2147483648?-1:0)};function L(R,I){return R.add(C(I))}t.j=function(R){if(k(this)||k(R))return v;if(A(this))return A(R)?C(this).j(C(R)):C(C(this).j(R));if(A(R))return C(this.j(C(R)));if(this.l(T)<0&&R.l(T)<0)return p(this.m()*R.m());const I=this.g.length+R.g.length,j=[];for(var M=0;M<2*I;M++)j[M]=0;for(M=0;M<this.g.length;M++)for(let F=0;F<R.g.length;F++){const $=this.i(M)>>>16,V=this.i(M)&65535,Le=R.i(F)>>>16,et=R.i(F)&65535;j[2*M+2*F]+=V*et,P(j,2*M+2*F),j[2*M+2*F+1]+=$*et,P(j,2*M+2*F+1),j[2*M+2*F+1]+=V*Le,P(j,2*M+2*F+1),j[2*M+2*F+2]+=$*Le,P(j,2*M+2*F+2)}for(R=0;R<I;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=I;R<2*I;R++)j[R]=0;return new l(j,0)};function P(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function D(R,I){this.g=R,this.h=I}function B(R,I){if(k(I))throw Error("division by zero");if(k(R))return new D(v,v);if(A(R))return I=B(C(R),I),new D(C(I.g),C(I.h));if(A(I))return I=B(R,C(I)),new D(C(I.g),I.h);if(R.g.length>30){if(A(R)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var j=x,M=I;M.l(R)<=0;)j=K(j),M=K(M);var F=q(j,1),$=q(M,1);for(M=q(M,2),j=q(j,2);!k(M);){var V=$.add(M);V.l(R)<=0&&(F=F.add(j),$=V),M=q(M,1),j=q(j,1)}return I=L(R,F.j(I)),new D(F,I)}for(F=v;R.l(I)>=0;){for(j=Math.max(1,Math.floor(R.m()/I.m())),M=Math.ceil(Math.log(j)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),$=p(j),V=$.j(I);A(V)||V.l(R)>0;)j-=M,$=p(j),V=$.j(I);k($)&&($=x),F=F.add($),R=L(R,V)}return new D(F,R)}t.B=function(R){return B(this,R).h},t.and=function(R){const I=Math.max(this.g.length,R.g.length),j=[];for(let M=0;M<I;M++)j[M]=this.i(M)&R.i(M);return new l(j,this.h&R.h)},t.or=function(R){const I=Math.max(this.g.length,R.g.length),j=[];for(let M=0;M<I;M++)j[M]=this.i(M)|R.i(M);return new l(j,this.h|R.h)},t.xor=function(R){const I=Math.max(this.g.length,R.g.length),j=[];for(let M=0;M<I;M++)j[M]=this.i(M)^R.i(M);return new l(j,this.h^R.h)};function K(R){const I=R.g.length+1,j=[];for(let M=0;M<I;M++)j[M]=R.i(M)<<1|R.i(M-1)>>>31;return new l(j,R.h)}function q(R,I){const j=I>>5;I%=32;const M=R.g.length-j,F=[];for(let $=0;$<M;$++)F[$]=I>0?R.i($+j)>>>I|R.i($+j+1)<<32-I:R.i($+j);return new l(F,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Qi=l}).apply(typeof k1<"u"?k1:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aT,Pc,lT,wh,Cg,cT,uT,dT;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(f,_){if(_)e:{var E=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var G=f[N];if(!(G in E))break e;E=E[G]}f=f[f.length-1],N=E[f],_=_(N),_!=N&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(_){var E=[],N;for(N in _)Object.prototype.hasOwnProperty.call(_,N)&&E.push([N,_[N]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function h(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=h,p.apply(null,arguments)}function g(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(N,G,Y){for(var le=Array(arguments.length-2),De=2;De<arguments.length;De++)le[De-2]=arguments[De];return _.prototype[G].apply(N,le)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const _=f.length;if(_>0){const E=Array(_);for(let N=0;N<_;N++)E[N]=f[N];return E}return[]}function k(f,_){for(let N=1;N<arguments.length;N++){const G=arguments[N];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=f.length||0;const Y=G.length||0;f.length=E+Y;for(let le=0;le<Y;le++)f[E+le]=G[le]}else f.push(G)}}class A{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(f){l.setTimeout(()=>{throw f},0)}function L(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class P{constructor(){this.h=this.g=null}add(_,E){const N=D.get();N.set(_,E),this.h?this.h.next=N:this.g=N,this.h=N}}var D=new A(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,q=!1,R=new P,I=()=>{const f=Promise.resolve(void 0);K=()=>{f.then(j)}};function j(){for(var f;f=L();){try{f.h.call(f.g)}catch(E){C(E)}var _=D;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}q=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};l.addEventListener("test",E,_),l.removeEventListener("test",E,_)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function Le(f,_){F.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Le,F),Le.prototype.init=function(f,_){const E=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),fe=0;function se(f,_,E,N,G){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!N,this.ha=G,this.key=++fe,this.da=this.fa=!1}function ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ce(f,_,E){for(const N in f)_.call(E,f[N],N,f)}function ae(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function W(f){const _={};for(const E in f)_[E]=f[E];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(f,_){let E,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(E in N)f[E]=N[E];for(let Y=0;Y<J.length;Y++)E=J[Y],Object.prototype.hasOwnProperty.call(N,E)&&(f[E]=N[E])}}function _e(f){this.src=f,this.g={},this.h=0}_e.prototype.add=function(f,_,E,N,G){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const le=Te(f,_,N,G);return le>-1?(_=f[le],E||(_.fa=!1)):(_=new se(_,this.src,Y,!!N,G),_.fa=E,f.push(_)),_};function Pe(f,_){const E=_.type;if(E in f.g){var N=f.g[E],G=Array.prototype.indexOf.call(N,_,void 0),Y;(Y=G>=0)&&Array.prototype.splice.call(N,G,1),Y&&(ee(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Te(f,_,E,N){for(let G=0;G<f.length;++G){const Y=f[G];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==N)return G}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ne={};function Me(f,_,E,N,G){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)Me(f,_[Y],E,N,G);return null}return E=hi(E),f&&f[et]?f.J(_,E,u(N)?!!N.capture:!1,G):je(f,_,E,!1,N,G)}function je(f,_,E,N,G,Y){if(!_)throw Error("Invalid event type");const le=u(G)?!!G.capture:!!G;let De=Yn(f);if(De||(f[Fe]=De=new _e(f)),E=De.add(_,E,N,le,Y),E.proxy)return E;if(N=dr(),E.proxy=N,N.src=f,N.listener=E,f.addEventListener)$||(G=le),G===void 0&&(G=!1),f.addEventListener(_.toString(),N,G);else if(f.attachEvent)f.attachEvent(fn(_.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function dr(){function f(E){return _.call(f.src,f.listener,E)}const _=Dr;return f}function hn(f,_,E,N,G){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)hn(f,_[Y],E,N,G);else N=u(N)?!!N.capture:!!N,E=hi(E),f&&f[et]?(f=f.i,Y=String(_).toString(),Y in f.g&&(_=f.g[Y],E=Te(_,E,N,G),E>-1&&(ee(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[Y],f.h--)))):f&&(f=Yn(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Te(_,E,N,G)),(E=f>-1?_[f]:null)&&In(E))}function In(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[et])Pe(_.i,f);else{var E=f.type,N=f.proxy;_.removeEventListener?_.removeEventListener(E,N,f.capture):_.detachEvent?_.detachEvent(fn(E),N):_.addListener&&_.removeListener&&_.removeListener(N),(E=Yn(_))?(Pe(E,f),E.h==0&&(E.src=null,_[Fe]=null)):ee(f)}}}function fn(f){return f in Ne?Ne[f]:Ne[f]="on"+f}function Dr(f,_){if(f.da)f=!0;else{_=new Le(_,this);const E=f.listener,N=f.ha||f.src;f.fa&&In(f),f=E.call(N,_)}return f}function Yn(f){return f=f[Fe],f instanceof _e?f:null}var ns="__closure_events_fn_"+(Math.random()*1e9>>>0);function hi(f){return typeof f=="function"?f:(f[ns]||(f[ns]=function(_){return f.handleEvent(_)}),f[ns])}function ut(){M.call(this),this.i=new _e(this),this.M=this,this.G=null}v(ut,M),ut.prototype[et]=!0,ut.prototype.removeEventListener=function(f,_,E,N){hn(this,f,_,E,N)};function Ze(f,_){var E,N=f.G;if(N)for(E=[];N;N=N.G)E.push(N);if(f=f.M,N=_.type||_,typeof _=="string")_=new F(_,f);else if(_ instanceof F)_.target=_.target||f;else{var G=_;_=new F(N,f),xe(_,G)}G=!0;let Y,le;if(E)for(le=E.length-1;le>=0;le--)Y=_.g=E[le],G=pn(Y,N,!0,_)&&G;if(Y=_.g=f,G=pn(Y,N,!0,_)&&G,G=pn(Y,N,!1,_)&&G,E)for(le=0;le<E.length;le++)Y=_.g=E[le],G=pn(Y,N,!1,_)&&G}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let N=0;N<E.length;N++)ee(E[N]);delete f.g[_],f.h--}}this.G=null},ut.prototype.J=function(f,_,E,N){return this.i.add(String(f),_,!1,E,N)},ut.prototype.K=function(f,_,E,N){return this.i.add(String(f),_,!0,E,N)};function pn(f,_,E,N){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let Y=0;Y<_.length;++Y){const le=_[Y];if(le&&!le.da&&le.capture==E){const De=le.listener,Tt=le.ha||le.src;le.fa&&Pe(f.i,le),G=De.call(Tt,N)!==!1&&G}}return G&&!N.defaultPrevented}function rs(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(f,_||0)}function fi(f){f.g=rs(()=>{f.g=null,f.i&&(f.i=!1,fi(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class yo extends M{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(f){M.call(this),this.h=f,this.g={}}v(ss,M);var vo=[];function Jn(f){ce(f.g,function(_,E){this.g.hasOwnProperty(E)&&In(_)},f),f.g={}}ss.prototype.N=function(){ss.Z.N.call(this),Jn(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=l.JSON.stringify,is=l.JSON.parse,os=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function Yt(){}function xo(){}var as={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pi(){F.call(this,"d")}v(pi,F);function Os(){F.call(this,"c")}v(Os,F);var Vn={},mi=null;function Lr(){return mi=mi||new ut}Vn.Ia="serverreachability";function gi(f){F.call(this,Vn.Ia,f)}v(gi,F);function Mr(f){const _=Lr();Ze(_,new gi(_))}Vn.STAT_EVENT="statevent";function Vr(f,_){F.call(this,Vn.STAT_EVENT,f),this.stat=_}v(Vr,F);function Ve(f){const _=Lr();Ze(_,new Vr(_,f))}Vn.Ja="timingevent";function Vt(f,_){F.call(this,Vn.Ja,f),this.size=_}v(Vt,F);function vt(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},_)}function Jt(){this.g=!0}Jt.prototype.ua=function(){this.g=!1};function Zt(f,_,E,N,G,Y){f.info(function(){if(f.g)if(Y){var le="",De=Y.split("&");for(let tt=0;tt<De.length;tt++){var Tt=De[tt].split("=");if(Tt.length>1){const At=Tt[0];Tt=Tt[1];const sr=At.split("_");le=sr.length>=2&&sr[1]=="type"?le+(At+"="+Tt+"&"):le+(At+"=redacted&")}}}else le=null;else le=Y;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+_+`
`+E+`
`+le})}function $t(f,_,E,N,G,Y,le){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+_+`
`+E+`
`+Y+" "+le})}function Et(f,_,E,N){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+it(f,E)+(N?" "+N:"")})}function Or(f,_){f.info(function(){return"TIMEOUT: "+_})}Jt.prototype.info=function(){};function it(f,_){if(!f.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var E=Y[f];if(!(E.length<2)){var N=E[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let le=1;le<N.length;le++)N[le]=""}}}}return Rn(Y)}catch{return _}}var en={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ot={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},On;function An(){}v(An,Yt),An.prototype.g=function(){return new XMLHttpRequest},On=new An;function mn(f){return encodeURIComponent(String(f))}function Nn(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Wt(f,_,E,N){this.j=f,this.i=_,this.l=E,this.S=N||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yi}function yi(){this.i=null,this.g="",this.h=!1}var qu={},Vl={};function Fr(f,_,E){f.M=1,f.A=Us(hr(_)),f.u=E,f.R=!0,Ol(f,null)}function Ol(f,_){f.F=Date.now(),wo(f),f.B=hr(f.A);var E=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),Kl(E.i,"t",N),f.C=0,E=f.j.L,f.h=new yi,f.g=td(f.j,E?_:null,!f.u),f.P>0&&(f.O=new yo(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,N=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(vo[0]=G.toString()),G=vo);for(let Y=0;Y<G.length;Y++){const le=Me(E,G[Y],N||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=f.J?W(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Mr(),Zt(f.i,f.v,f.B,f.l,f.S,f.u)}Wt.prototype.ba=function(f){f=f.target;const _=this.O;_&&ps(f)==3?_.j():this.Y(f)},Wt.prototype.Y=function(f){try{if(f==this.g)e:{const De=ps(this.g),Tt=this.g.ya(),tt=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Zu(this.g)))){this.K||De!=4||Tt==7||(Tt==8||tt<=0?Mr(3):Mr(2)),ya(this);var _=this.g.ca();this.X=_;var E=Hu(this);if(this.o=_==200,$t(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(N)){var Y=N;break t}}Y=null}if(f=Y)Et(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ot(this,f);else{this.o=!1,this.m=3,Ve(12),Fs(this),_o(this);break e}}if(this.R){f=!0;let At;for(;!this.K&&this.C<E.length;)if(At=Ku(this,E),At==Vl){De==4&&(this.m=4,Ve(14),f=!1),Et(this.i,this.l,null,"[Incomplete Response]");break}else if(At==qu){this.m=4,Ve(15),Et(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Et(this.i,this.l,At,null),ot(this,At);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||E.length!=0||this.h.h||(this.m=1,Ve(16),f=!1),this.o=this.o&&f,!f)Et(this.i,this.l,E,"[Invalid Chunked Response]"),Fs(this),_o(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),No(le),le.P=!0,Ve(11))}}else Et(this.i,this.l,E,null),ot(this,E);De==4&&Fs(this),this.o&&!this.K&&(De==4?Ia(this.j,this):(this.o=!1,wo(this)))}else Xl(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Fs(this),_o(this)}}}catch{}finally{}};function Hu(f){if(!Gu(f))return f.g.la();const _=Zu(f.g);if(_==="")return"";let E="";const N=_.length,G=ps(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fs(f),_o(f),"";f.h.i=new l.TextDecoder}for(let Y=0;Y<N;Y++)f.h.h=!0,E+=f.h.i.decode(_[Y],{stream:!(G&&Y==N-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function Gu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ku(f,_){var E=f.C,N=_.indexOf(`
`,E);return N==-1?Vl:(E=Number(_.substring(E,N)),isNaN(E)?qu:(N+=1,N+E>_.length?Vl:(_=_.slice(N,N+E),f.C=N+E,_)))}Wt.prototype.cancel=function(){this.K=!0,Fs(this)};function wo(f){f.T=Date.now()+f.H,Fl(f,f.H)}function Fl(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=vt(p(f.aa,f),_)}function ya(f){f.D&&(l.clearTimeout(f.D),f.D=null)}Wt.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Or(this.i,this.B),this.M!=2&&(Mr(),Ve(17)),Fs(this),this.m=2,_o(this)):Fl(this,this.T-f)};function _o(f){f.j.I==0||f.K||Ia(f.j,f)}function Fs(f){ya(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Jn(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function ot(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Bl(E.h,f))){if(!f.L&&Bl(E.h,f)&&E.I==3){try{var N=E.Ba.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Ca(E),nr(E);else break e;ys(E),Ve(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vt(p(E.Va,E),6e3));bo(E.h)<=1&&E.ta&&(E.ta=void 0)}else rr(E,11)}else if((f.L||E.g==f)&&Ca(E),!V(_))for(G=E.Ba.g.parse(_),_=0;_<G.length;_++){let tt=G[_];const At=tt[0];if(!(At<=E.K))if(E.K=At,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const sr=tt[3];sr!=null&&(E.ka=sr,E.j.info("VER="+E.ka));const qs=tt[4];qs!=null&&(E.za=qs,E.j.info("SVER="+E.za));const vs=tt[5];vs!=null&&typeof vs=="number"&&vs>0&&(N=1.5*vs,E.O=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const xs=f.g;if(xs){const Na=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var Y=N.h;Y.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(xa(Y,Y.h),Y.h=null))}if(N.G){const Zl=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(N.wa=Zl,Xe(N.J,N.G,Zl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),N=E;var le=f;if(N.na=Jl(N,N.L?N.ba:null,N.W),le.L){Eo(N.h,le);var De=le,Tt=N.O;Tt&&(De.H=Tt),De.D&&(ya(De),wo(De)),N.g=le}else gn(N);E.i.length>0&&Ws(E)}else tt[0]!="stop"&&tt[0]!="close"||rr(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?rr(E,7):Ta(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}Mr(4)}catch{}}var Yf=class{constructor(f,_){this.g=f,this.map=_}};function va(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bo(f){return f.h?1:f.g?f.g.size:0}function Bl(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function xa(f,_){f.g?f.g.add(_):f.h=_}function Eo(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}va.prototype.cancel=function(){if(this.i=Zn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Zn(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return T(f.i)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function er(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const N=f[E].indexOf("=");let G,Y=null;N>=0?(G=f[E].substring(0,N),Y=f[E].substring(N+1)):G=f[E],_(G,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ls(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof ls?(this.l=f.l,To(this,f.j),this.o=f.o,this.g=f.g,cs(this,f.u),this.h=f.h,vi(this,Ql(f.i)),this.m=f.m):f&&(_=String(f).match(Qu))?(this.l=!1,To(this,_[1]||"",!0),this.o=So(_[2]||""),this.g=So(_[3]||"",!0),cs(this,_[4]),this.h=So(_[5]||"",!0),vi(this,_[6]||"",!0),this.m=So(_[7]||"")):(this.l=!1,this.i=new We(null,this.l))}ls.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Co(_,$l,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Co(_,$l,!0),"@"),f.push(mn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Co(E,E.charAt(0)=="/"?Io:Wl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Co(E,ql)),f.join("")},ls.prototype.resolve=function(f){const _=hr(this);let E=!!f.j;E?To(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var N=f.h;if(E)cs(_,f.u);else if(E=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=_.h.lastIndexOf("/");G!=-1&&(N=_.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const Y=[];for(let le=0;le<G.length;){const De=G[le++];De=="."?N&&le==G.length&&Y.push(""):De==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),N&&le==G.length&&Y.push("")):(Y.push(De),N=!0)}N=Y.join("/")}else N=G}return E?_.h=N:E=f.i.toString()!=="",E?vi(_,Ql(f.i)):E=!!f.m,E&&(_.m=f.m),_};function hr(f){return new ls(f)}function To(f,_,E){f.j=E?So(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function cs(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function vi(f,_,E){_ instanceof We?(f.i=_,_a(f.i,f.l)):(E||(_=Co(_,Jf)),f.i=new We(_,f.l))}function Xe(f,_,E){f.i.set(_,E)}function Us(f){return Xe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function So(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Co(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,zl),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function zl(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var $l=/[#\/\?@]/g,Wl=/[#\?:]/g,Io=/[#\?]/g,Jf=/[#\?@]/g,ql=/#/g;function We(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function us(f){f.g||(f.g=new Map,f.h=0,f.i&&er(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=We.prototype,t.add=function(f,_){us(this),this.i=null,f=ds(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function Hl(f,_){us(f),_=ds(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function wa(f,_){return us(f),_=ds(f,_),f.g.has(_)}t.forEach=function(f,_){us(this),this.g.forEach(function(E,N){E.forEach(function(G){f.call(_,G,N,this)},this)},this)};function Gl(f,_){us(f);let E=[];if(typeof _=="string")wa(f,_)&&(E=E.concat(f.g.get(ds(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return us(this),this.i=null,f=ds(this,f),wa(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Gl(this,f),f.length>0?String(f[0]):_):_};function Kl(f,_,E){Hl(f,_),E.length>0&&(f.i=null,f.g.set(ds(f,_),T(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let N=0;N<_.length;N++){var E=_[N];const G=mn(E);E=Gl(this,E);for(let Y=0;Y<E.length;Y++){let le=G;E[Y]!==""&&(le+="="+mn(E[Y])),f.push(le)}}return this.i=f.join("&")};function Ql(f){const _=new We;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function ds(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function _a(f,_){_&&!f.j&&(us(f),f.i=null,f.g.forEach(function(E,N){const G=N.toLowerCase();N!=G&&(Hl(this,N),Kl(this,G,E))},f)),f.j=_}function hs(f,_){const E=new Jt;if(l.Image){const N=new Image;N.onload=g(tn,E,"TestLoadImage: loaded",!0,_,N),N.onerror=g(tn,E,"TestLoadImage: error",!1,_,N),N.onabort=g(tn,E,"TestLoadImage: abort",!1,_,N),N.ontimeout=g(tn,E,"TestLoadImage: timeout",!1,_,N),l.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else _(!1)}function fs(f,_){const E=new Jt,N=new AbortController,G=setTimeout(()=>{N.abort(),tn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:N.signal}).then(Y=>{clearTimeout(G),Y.ok?tn(E,"TestPingServer: ok",!0,_):tn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),tn(E,"TestPingServer: error",!1,_)})}function tn(f,_,E,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(E)}catch{}}function Ro(){this.g=new os}function Bs(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Bs,Yt),Bs.prototype.g=function(){return new tr(this.i,this.h)};function tr(f,_){ut.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(tr,ut),t=tr.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Ur(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xu(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xu(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?xi(this):Ur(this),this.readyState==3&&Xu(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,xi(this))},t.Na=function(f){this.g&&(this.response=f,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ur(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Ur(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yu(f){let _="";return ce(f,function(E,N){_+=N,_+=":",_+=E,_+=`\r
`}),_}function ba(f,_,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=Yu(E),typeof f=="string"?E!=null&&mn(E):Xe(f,_,E))}function nt(f){ut.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(nt,ut);var Ju=/^https?$/i,Zf=["POST","PUT"];t=nt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():On.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Y){wi(this,Y);return}if(f=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)E.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Y of N.keys())E.set(Y,N.get(Y));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=l.FormData&&f instanceof l.FormData,!(Array.prototype.indexOf.call(Zf,_,void 0)>=0)||N||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){wi(this,Y)}};function wi(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,_i(f),$s(f)}function _i(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ze(this,"complete"),Ze(this,"abort"),$s(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$s(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?zs(this):this.Xa())},t.Xa=function(){zs(this)};function zs(f){if(f.h&&typeof a<"u"){if(f.v&&ps(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ze(f,"readystatechange"),ps(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var N;if(N=Y===0){let le=String(f.D).match(Qu)[1]||null;!le&&l.self&&l.self.location&&(le=l.self.location.protocol.slice(0,-1)),N=!Ju.test(le?le.toLowerCase():"")}E=N}if(E)Ze(f,"complete"),Ze(f,"success");else{f.o=6;try{var G=ps(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",_i(f)}}finally{$s(f)}}}}function $s(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Ze(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ps(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ps(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),is(_)}};function Zu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Xl(f){const _={};f=(f.g&&ps(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(V(f[N]))continue;var E=Nn(f[N]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[G]||[];_[G]=Y,Y.push(E)}ae(_,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Ea(f){this.za=0,this.i=[],this.j=new Jt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,f),this.Za=ms("retryDelaySeedMs",1e4,f),this.Ta=ms("forwardChannelMaxRetries",2,f),this.va=ms("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new va(f&&f.concurrentRequestLimit),this.Ba=new Ro,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ea.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,N){Ve(0),this.W=f,this.H=_||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.J=Jl(this,null,this.W),Ws(this)};function Ta(f){if(Sa(f),f.I==3){var _=f.V++,E=hr(f.J);if(Xe(E,"SID",f.M),Xe(E,"RID",_),Xe(E,"TYPE","terminate"),gs(f,E),_=new Wt(f,f.j,_),_.M=2,_.A=Us(hr(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=_.A,E=!0),E||(_.g=td(_.j,null),_.g.ea(_.A)),_.F=Date.now(),wo(_)}ko(f)}function nr(f){f.g&&(No(f),f.g.cancel(),f.g=null)}function Sa(f){nr(f),f.v&&(l.clearTimeout(f.v),f.v=null),Ca(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&l.clearTimeout(f.m),f.m=null)}function Ws(f){if(!Ul(f.h)&&!f.m){f.m=!0;var _=f.Ea;K||I(),q||(K(),q=!0),R.add(_,f),f.D=0}}function ed(f,_){return bo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=vt(p(f.Ea,f,_),Ra(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new Wt(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=W(Y),xe(Y,this.U)):Y=this.U),this.u!==null||this.R||(G.J=Y,Y=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Yl(this,G,_),E=hr(this.J),Xe(E,"RID",f),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),gs(this,E),Y&&(this.R?_="headers="+mn(Yu(Y))+"&"+_:this.u&&ba(E,this.u,Y)),xa(this.h,G),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",_),Xe(E,"SID","null"),G.U=!0,Fr(G,E,null)):Fr(G,E,_),this.I=2}}else this.I==3&&(f?Ao(this,f):this.i.length==0||Ul(this.h)||Ao(this))};function Ao(f,_){var E;_?E=_.l:E=f.V++;const N=hr(f.J);Xe(N,"SID",f.M),Xe(N,"RID",E),Xe(N,"AID",f.K),gs(f,N),f.u&&f.o&&ba(N,f.u,f.o),E=new Wt(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Yl(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),xa(f.h,E),Fr(E,N,_)}function gs(f,_){f.H&&ce(f.H,function(E,N){Xe(_,N,E)}),f.l&&ce({},function(E,N){Xe(_,N,E)})}function Yl(f,_,E){E=Math.min(f.i.length,E);const N=f.l?p(f.l.Ka,f.l,f):null;e:{var G=f.i;let De=-1;for(;;){const Tt=["count="+E];De==-1?E>0?(De=G[0].g,Tt.push("ofs="+De)):De=0:Tt.push("ofs="+De);let tt=!0;for(let At=0;At<E;At++){var Y=G[At].g;const sr=G[At].map;if(Y-=De,Y<0)De=Math.max(0,G[At].g-100),tt=!1;else try{Y="req"+Y+"_"||"";try{var le=sr instanceof Map?sr:Object.entries(sr);for(const[qs,vs]of le){let xs=vs;u(vs)&&(xs=Rn(vs)),Tt.push(Y+qs+"="+encodeURIComponent(xs))}}catch(qs){throw Tt.push(Y+"type="+encodeURIComponent("_badmap")),qs}}catch{N&&N(sr)}}if(tt){le=Tt.join("&");break e}}le=void 0}return f=f.i.splice(0,E),_.G=f,le}function gn(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;K||I(),q||(K(),q=!0),R.add(_,f),f.A=0}}function ys(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=vt(p(f.Da,f),Ra(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,bi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=vt(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),nr(this),bi(this))};function No(f){f.B!=null&&(l.clearTimeout(f.B),f.B=null)}function bi(f){f.g=new Wt(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=hr(f.na);Xe(_,"RID","rpc"),Xe(_,"SID",f.M),Xe(_,"AID",f.K),Xe(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Xe(_,"TO",f.ia),Xe(_,"TYPE","xmlhttp"),gs(f,_),f.u&&f.o&&ba(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Us(hr(_)),E.u=null,E.R=!0,Ol(E,f)}t.Va=function(){this.C!=null&&(this.C=null,nr(this),ys(this),Ve(19))};function Ca(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function Ia(f,_){var E=null;if(f.g==_){Ca(f),No(f),f.g=null;var N=2}else if(Bl(f.h,_))E=_.G,Eo(f.h,_),N=1;else return;if(f.I!=0){if(_.o)if(N==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var G=f.D;N=Lr(),Ze(N,new Vt(N,E)),Ws(f)}else gn(f);else if(G=_.m,G==3||G==0&&_.X>0||!(N==1&&ed(f,_)||N==2&&ys(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),G){case 1:rr(f,5);break;case 4:rr(f,10);break;case 3:rr(f,6);break;default:rr(f,2)}}}function Ra(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function rr(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),N=f.Ua;const G=!N;N=new ls(N||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||To(N,"https"),Us(N),G?hs(N.toString(),E):fs(N.toString(),E)}else Ve(2);f.I=0,f.l&&f.l.pa(_),ko(f),Sa(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function ko(f){if(f.I=0,f.ja=[],f.l){const _=Zn(f.h);(_.length!=0||f.i.length!=0)&&(k(f.ja,_),k(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function Jl(f,_,E){var N=E instanceof ls?hr(E):new ls(E);if(N.g!="")_&&(N.g=_+"."+N.g),cs(N,N.u);else{var G=l.location;N=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const Y=new ls(null);N&&To(Y,N),_&&(Y.g=_),G&&cs(Y,G),E&&(Y.h=E),N=Y}return E=f.G,_=f.wa,E&&_&&Xe(N,E,_),Xe(N,"VER",f.ka),gs(f,N),N}function td(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new nt(new Bs({ab:E})):new nt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nd(){}t=nd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Aa(){}Aa.prototype.g=function(f,_){return new nn(f,_)};function nn(f,_){ut.call(this),this.g=new Ea(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!V(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ei(this)}v(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ta(this.g)},nn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Rn(f),f=E);_.i.push(new Yf(_.Ya++,f)),_.I==3&&Ws(_)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ta(this.g),delete this.g,nn.Z.N.call(this)};function rd(f){pi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(rd,pi);function sd(){Os.call(this),this.status=1}v(sd,Os);function Ei(f){this.g=f}v(Ei,nd),Ei.prototype.ra=function(){Ze(this.g,"a")},Ei.prototype.qa=function(f){Ze(this.g,new rd(f))},Ei.prototype.pa=function(f){Ze(this.g,new sd)},Ei.prototype.oa=function(){Ze(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,dT=function(){return new Aa},uT=function(){return Lr()},cT=Vn,Cg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},en.NO_ERROR=0,en.TIMEOUT=8,en.HTTP_ERROR=6,wh=en,Ot.COMPLETE="complete",lT=Ot,xo.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",ut.prototype.listen=ut.prototype.J,Pc=xo,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,aT=nt}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const P1="@firebase/firestore",j1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new pf("@firebase/firestore");function Ya(){return aa.logLevel}function he(t,...e){if(aa.logLevel<=Be.DEBUG){const n=e.map(W0);aa.debug(`Firestore (${Sl}): ${t}`,...n)}}function li(t,...e){if(aa.logLevel<=Be.ERROR){const n=e.map(W0);aa.error(`Firestore (${Sl}): ${t}`,...n)}}function fl(t,...e){if(aa.logLevel<=Be.WARN){const n=e.map(W0);aa.warn(`Firestore (${Sl}): ${t}`,...n)}}function W0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hT(t,r,n)}function hT(t,e,n){let r=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw li(r),new Error(r)}function Je(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||hT(e,s,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class y6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class v6{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Is,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Is)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new fT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class x6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new x6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=b6(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Ig(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return Vm(s)===Vm(a)?ze(s,a):Vm(s)?1:-1}return ze(t.length,e.length)}const E6=55296,T6=57343;function Vm(t){const e=t.charCodeAt(0);return e>=E6&&e<=T6}function pl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__name__";class Ts{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Ts.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return ze(e.length,n.length)}static compareSegments(e,n){const r=Ts.isNumericId(e),s=Ts.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ts.extractNumericId(e).compare(Ts.extractNumericId(n)):Ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class st extends Ts{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const S6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Ts{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return S6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L1}static keyField(){return new cn([L1])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e,n){if(!n)throw new ue(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C6(t,e,n,r){if(e===!0&&r===!0)throw new ue(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M1(t){if(!ve.isDocumentKey(t))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V1(t){if(ve.isDocumentKey(t))throw new ue(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _f(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_f(t);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ru(t,e){if(!mT(t))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ue(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=-62135596800,F1=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F1);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O1)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F1}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:Dt("string",Ye._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ye(0,0))}static max(){return new ke(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function I6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Ji(s,ve.empty(),e)}function R6(t){return new Ji(t.readTime,t.key,nu)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(ke.min(),ve.empty(),nu)}static max(){return new Ji(ke.max(),ve.empty(),nu)}}function A6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==N6)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&n()}),(h=>r(h)))})),l=!0,a===s&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((s=>s?te.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next((g=>{l[p]=g,++u,u===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new te(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function P6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Il(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=-1;function Ef(t){return t==null}function $h(t){return t===0&&1/t==-1/0}function j6(t){return typeof t=="number"&&Number.isInteger(t)&&!$h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="";function D6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U1(e)),e=L6(t.get(n),e);return U1(e)}function L6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case gT:n+="";break;default:n+=a}}return n}function U1(t){return t+gT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M6(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function yT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??an.RED,this.left=s??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new an(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z1(this.data.getIterator())}getIteratorFrom(e){return new z1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class z1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new lr([])}unionWith(e){let n=new zt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vT("Invalid base64 string: "+a):a}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const V6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=V6.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",wT="__type__",_T="__previous_value__",bT="__local_write_time__";function G0(t){return(t?.mapValue?.fields||{})[wT]?.stringValue===xT}function Tf(t){const e=t.mapValue.fields[_T];return G0(e)?Tf(e):e}function ru(t){const e=Zi(t.mapValue.fields[bT].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n,r,s,a,l,u,h,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g}}const Wh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Wh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__type__",F6="__max__",nh={mapValue:{}},TT="__vector__",qh="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G0(t)?4:B6(t)?9007199254740991:U6(t)?10:11:Ce(28295,{value:t})}function Ds(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ru(t).isEqual(ru(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Zi(s.timestampValue),u=Zi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return eo(s.bytesValue).isEqual(eo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return It(s.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return It(s.integerValue)===It(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=It(s.doubleValue),u=It(a.doubleValue);return l===u?$h(l)===$h(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],Ds);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(B1(l)!==B1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ds(l[h],u[h])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function iu(t,e){return(t.values||[]).find((n=>Ds(n,e)))!==void 0}function ml(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=It(a.integerValue||a.doubleValue),h=It(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return $1(t.timestampValue,e.timestampValue);case 4:return $1(ru(t),ru(e));case 5:return Ig(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=eo(a),h=eo(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const g=ze(u[p],h[p]);if(g!==0)return g}return ze(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=ze(It(a.latitude),It(l.latitude));return u!==0?u:ze(It(a.longitude),It(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return W1(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},h=l.fields||{},p=u[qh]?.arrayValue,g=h[qh]?.arrayValue,v=ze(p?.values?.length||0,g?.values?.length||0);return v!==0?v:W1(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===nh.mapValue&&l===nh.mapValue)return 0;if(a===nh.mapValue)return 1;if(l===nh.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const x=Ig(h[v],g[v]);if(x!==0)return x;const T=ml(u[h[v]],p[g[v]]);if(T!==0)return T}return ze(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function $1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Zi(t),r=Zi(e),s=ze(n.seconds,r.seconds);return s!==0?s:ze(n.nanos,r.nanos)}function W1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=ml(n[s],r[s]);if(a)return a}return ze(n.length,r.length)}function gl(t){return Rg(t)}function Rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return eo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Rg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Rg(n.fields[l])}`;return s+"}"})(t.mapValue):Ce(61005,{value:t})}function _h(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(t);return e?16+_h(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+_h(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return ho(r.fields,((a,l)=>{s+=a.length+_h(l)})),s})(t.mapValue);default:throw Ce(13486,{value:t})}}function q1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ag(t){return!!t&&"integerValue"in t}function K0(t){return!!t&&"arrayValue"in t}function H1(t){return!!t&&"nullValue"in t}function G1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bh(t){return!!t&&"mapValue"in t}function U6(t){return(t?.mapValue?.fields||{})[ET]?.stringValue===TT}function Fc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ho(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Fc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return{...t}}function B6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===F6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=cn.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Fc(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];bh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ho(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Gn(Fc(this.value))}}function ST(t){const e=[];return ho(t.fields,((n,r)=>{const s=new cn([n]);if(bh(r)){const a=ST(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,s,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new En(e,0,ke.min(),ke.min(),ke.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,s){return new En(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new En(e,2,n,ke.min(),ke.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,ke.min(),ke.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function K1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),n.key):r=ml(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ds(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function z6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{}class jt extends CT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W6(e,n,r):n==="array-contains"?new G6(e,r):n==="in"?new K6(e,r):n==="not-in"?new Q6(e,r):n==="array-contains-any"?new X6(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q6(e,r):new H6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ml(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends CT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yr(e,n)}matches(e){return IT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IT(t){return t.op==="and"}function RT(t){return $6(t)&&IT(t)}function $6(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function Ng(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+gl(t.value);if(RT(t))return t.filters.map((e=>Ng(e))).join(",");{const e=t.filters.map((n=>Ng(n))).join(",");return`${t.op}(${e})`}}function AT(t,e){return t instanceof jt?(function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&Ds(r.value,s.value)})(t,e):t instanceof Yr?(function(r,s){return s instanceof Yr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,u)=>a&&AT(l,s.filters[u])),!0):!1})(t,e):void Ce(19439)}function NT(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`})(t):t instanceof Yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(NT).join(" ,")+"}"})(t):"Filter"}class W6 extends jt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class q6 extends jt{constructor(e,n){super(e,"in",n),this.keys=kT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class H6 extends jt{constructor(e,n){super(e,"not-in",n),this.keys=kT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kT(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class G6 extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return K0(n)&&iu(n.arrayValue,this.value)}}class K6 extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class Q6 extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class X6 extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!K0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>iu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function X1(t,e=null,n=[],r=[],s=null,a=null,l=null){return new Y6(t,e,n,r,s,a,l)}function Q0(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ng(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>gl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>gl(r))).join(",")),e.Te=n}return e.Te}function X0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q1(t.startAt,e.startAt)&&Q1(t.endAt,e.endAt)}function kg(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n=null,r=[],s=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J6(t,e,n,r,s,a,l,u){return new Rl(t,e,n,r,s,a,l,u)}function Y0(t){return new Rl(t)}function Y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PT(t){return t.collectionGroup!==null}function Uc(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new zt(cn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ou(a,r))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new ou(cn.keyField(),r))}return e.Ie}function Rs(t){const e=Ae(t);return e.Ee||(e.Ee=jT(e,Uc(t))),e.Ee}function Z6(t){const e=Ae(t);return e.de||(e.de=jT(e,t.explicitOrderBy)),e.de}function jT(t,e){if(t.limitType==="F")return X1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new ou(s.field,a)}));const n=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;return X1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pg(t,e){const n=t.filters.concat([e]);return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gh(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sf(t,e){return X0(Rs(t),Rs(e))&&t.limitType===e.limitType}function DT(t){return`${Q0(Rs(t))}|lt:${t.limitType}`}function Ja(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>NT(s))).join(", ")}]`),Ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>gl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>gl(s))).join(",")),`Target(${r})`})(Rs(t))}; limitType=${t.limitType})`}function Cf(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of Uc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=K1(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Uc(r),s)||r.endAt&&!(function(l,u,h){const p=K1(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Uc(r),s))})(t,e)}function eD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LT(t){return(e,n)=>{let r=!1;for(const s of Uc(t)){const a=tD(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function tD(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(a,l,u){const h=l.data.field(a),p=u.data.field(a);return h!==null&&p!==null?ml(h,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new yt(ve.comparator);function ci(){return nD}const MT=new yt(ve.comparator);function jc(...t){let e=MT;for(const n of t)e=e.insert(n.key,n);return e}function VT(t){let e=MT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Xo(){return Bc()}function OT(){return Bc()}function Bc(){return new pa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const rD=new yt(ve.comparator),sD=new zt(ve.comparator);function $e(...t){let e=sD;for(const n of t)e=e.add(n);return e}const iD=new zt(ze);function oD(){return iD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function FT(t){return{integerValue:""+t}}function UT(t,e){return j6(e)?FT(e):J0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this._=void 0}}function aD(t,e,n){return t instanceof au?(function(s,a){const l={fields:{[wT]:{stringValue:xT},[bT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&G0(a)&&(a=Tf(a)),a&&(l.fields[_T]=a),{mapValue:l}})(n,e):t instanceof lu?zT(t,e):t instanceof cu?$T(t,e):(function(s,a){const l=BT(s,a),u=J1(l)+J1(s.Ae);return Ag(l)&&Ag(s.Ae)?FT(u):J0(s.serializer,u)})(t,e)}function lD(t,e,n){return t instanceof lu?zT(t,e):t instanceof cu?$T(t,e):n}function BT(t,e){return t instanceof uu?(function(r){return Ag(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class au extends If{}class lu extends If{constructor(e){super(),this.elements=e}}function zT(t,e){const n=WT(e);for(const r of t.elements)n.some((s=>Ds(s,r)))||n.push(r);return{arrayValue:{values:n}}}class cu extends If{constructor(e){super(),this.elements=e}}function $T(t,e){let n=WT(e);for(const r of t.elements)n=n.filter((s=>!Ds(s,r)));return{arrayValue:{values:n}}}class uu extends If{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function J1(t){return It(t.integerValue||t.doubleValue)}function WT(t){return K0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.field=e,this.transform=n}}function cD(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof lu&&s instanceof lu||r instanceof cu&&s instanceof cu?pl(r.elements,s.elements,Ds):r instanceof uu&&s instanceof uu?Ds(r.Ae,s.Ae):r instanceof au&&s instanceof au})(t.transform,e.transform)}class uD{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rf{}function HT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Z0(t.key,Cr.none()):new Au(t.key,t.data,Cr.none());{const n=t.data,r=Gn.empty();let s=new zt(cn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new fo(t.key,r,new lr(s.toArray()),Cr.none())}}function dD(t,e,n){t instanceof Au?(function(s,a,l){const u=s.value.clone(),h=e_(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof fo?(function(s,a,l){if(!Eh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=e_(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(GT(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function zc(t,e,n,r){return t instanceof Au?(function(a,l,u,h){if(!Eh(a.precondition,l))return u;const p=a.value.clone(),g=t_(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof fo?(function(a,l,u,h){if(!Eh(a.precondition,l))return u;const p=t_(a.fieldTransforms,h,l),g=l.data;return g.setAll(GT(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,u){return Eh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function hD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=BT(r.transform,s||null);a!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,a))}return n||null}function Z1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pl(r,s,((a,l)=>cD(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Au extends Rf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fo extends Rf{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function GT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function e_(t,e,n){const r=new Map;Je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,lD(l,u,n[s]))}return r}function t_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,aD(a,l,e))}return r}class Z0 extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fD extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&dD(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OT();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const h=HT(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,r)=>Z1(n,r)))&&pl(this.baseMutations,e.baseMutations,((n,r)=>Z1(n,r)))}}class ey{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return rD})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new ey(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,He;function vD(t){switch(t){case Z.OK:return Ce(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function KT(t){if(t===void 0)return li("GRPC error has no .code"),Z.UNKNOWN;switch(t){case kt.OK:return Z.OK;case kt.CANCELLED:return Z.CANCELLED;case kt.UNKNOWN:return Z.UNKNOWN;case kt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case kt.INTERNAL:return Z.INTERNAL;case kt.UNAVAILABLE:return Z.UNAVAILABLE;case kt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case kt.NOT_FOUND:return Z.NOT_FOUND;case kt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case kt.ABORTED:return Z.ABORTED;case kt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case kt.DATA_LOSS:return Z.DATA_LOSS;default:return Ce(39323,{code:t})}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new Qi([4294967295,4294967295],0);function n_(t){const e=xD().encode(t),n=new oT;return n.update(e),new Uint8Array(n.digest())}function r_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([s,a],0)]}class ty{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dc(`Invalid padding: ${n}`);if(r<0)throw new Dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Qi.fromNumber(r)));return s.compare(wD)===1&&(s=new Qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n_(e),[r,s]=r_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ty(a,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=n_(e),[r,s]=r_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Af(ke.min(),s,new yt(ze),ci(),$e())}}class Nu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nu(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class QT{constructor(e,n){this.targetId=e,this.Ce=n}}class XT{constructor(e,n,r=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class s_{constructor(){this.ve=0,this.Fe=i_(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce(38017,{changeType:a})}})),new Nu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=i_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _D{constructor(e){this.Ge=e,this.ze=new Map,this.je=ci(),this.Je=rh(),this.He=rh(),this.Ye=new yt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(kg(a))if(r===0){const l=new ve(a.path);this.et(n,l,En.newNoDocument(l,ke.min()))}else Je(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=eo(r).toUint8Array()}catch(h){if(h instanceof vT)return fl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new ty(l,s,a)}catch(h){return fl(h instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&kg(u.target)){const h=new ve(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,En.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=$e();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Af(e,n,this.Ye,this.je,r);return this.je=ci(),this.Je=rh(),this.He=rh(),this.Ye=new yt(ze),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new s_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new yt(ve.comparator)}function i_(){return new yt(ve.comparator)}const bD={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class SD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jg(t,e){return t.useProto3Json||Ef(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CD(t,e){return Kh(t,e.toTimestamp())}function As(t){return Je(!!t,49232),ke.fromTimestamp((function(n){const r=Zi(n);return new Ye(r.seconds,r.nanos)})(t))}function ny(t,e){return Dg(t,e).canonicalString()}function Dg(t,e){const n=(function(s){return new st(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function JT(t){const e=st.fromString(t);return Je(sS(e),10190,{key:e.toString()}),e}function Lg(t,e){return ny(t.databaseId,e.path)}function Om(t,e){const n=JT(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(eS(n))}function ZT(t,e){return ny(t.databaseId,e)}function ID(t){const e=JT(t);return e.length===4?st.emptyPath():eS(e)}function Mg(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eS(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function o_(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function RD(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Je(g===void 0||typeof g=="string",58123),dn.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),dn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?Z.UNKNOWN:KT(p.code);return new ue(g,p.message||"")})(l);n=new XT(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Om(t,r.document.name),a=As(r.document.updateTime),l=r.document.createTime?As(r.document.createTime):ke.min(),u=new Gn({mapValue:{fields:r.document.fields}}),h=En.newFoundDocument(s,a,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Th(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Om(t,r.document),a=r.readTime?As(r.readTime):ke.min(),l=En.newNoDocument(s,a),u=r.removedTargetIds||[];n=new Th([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Om(t,r.document),a=r.removedTargetIds||[];n=new Th([],a,s,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new yD(s,a),u=r.targetId;n=new QT(u,l)}}return n}function AD(t,e){let n;if(e instanceof Au)n={update:o_(t,e.key,e.value)};else if(e instanceof Z0)n={delete:Lg(t,e.key)};else if(e instanceof fo)n={update:o_(t,e.key,e.data),updateMask:OD(e.fieldMask)};else{if(!(e instanceof fD))return Ce(16599,{Vt:e.type});n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof au)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof lu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof uu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ce(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:CD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(t,e.precondition)),n}function ND(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?As(s.updateTime):As(a);return l.isEqual(ke.min())&&(l=As(a)),new uD(l,s.transformResults||[])})(n,e)))):[]}function kD(t,e){return{documents:[ZT(t,e.path)]}}function tS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZT(t,s);const a=(function(p){if(p.length!==0)return rS(Yr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(x){return{field:Wi(x.field),direction:LD(x.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=jg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function PD(t,e,n,r){const{ft:s,parent:a}=tS(t,e),l={},u=[];let h=0;return n.forEach((p=>{const g="aggregate_"+h++;l[g]=p.alias,p.aggregateType==="count"?u.push({alias:g,count:{}}):p.aggregateType==="avg"?u.push({alias:g,avg:{field:Wi(p.fieldPath)}}):p.aggregateType==="sum"&&u.push({alias:g,sum:{field:Wi(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:s.structuredQuery},parent:s.parent},gt:l,parent:a}}function jD(t){let e=ID(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Je(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const x=nS(v);return x instanceof Yr&&RT(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((x=>(function(k){return new ou(Za(k.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let x;return x=typeof v=="object"?v.value:v,Ef(x)?null:x})(n.limit));let h=null;n.startAt&&(h=(function(v){const x=!!v.before,T=v.values||[];return new Hh(T,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const x=!v.before,T=v.values||[];return new Hh(T,x)})(n.endAt)),J6(e,s,l,a,u,"F",h,p)}function DD(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Za(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Za(n.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Za(n.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Za(n.unaryFilter.field);return jt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(Za(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Yr.create(n.compositeFilter.filters.map((r=>nS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function LD(t){return bD[t]}function MD(t){return ED[t]}function VD(t){return TD[t]}function Wi(t){return{fieldPath:t.canonicalString()}}function Za(t){return cn.fromServerFormat(t.fieldPath)}function rS(t){return t instanceof jt?(function(n){if(n.op==="=="){if(G1(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NAN"}};if(H1(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G1(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NAN"}};if(H1(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wi(n.field),op:MD(n.op),value:n.value}}})(t):t instanceof Yr?(function(n){const r=n.getFilters().map((s=>rS(s)));return r.length===1?r[0]:{compositeFilter:{op:VD(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function OD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function sS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r,s,a=ke.min(),l=ke.min(),u=dn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.yt=e}}function UD(t){const e=jD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.Cn=new zD}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ji.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class zD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new zt(st.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iS=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(iS,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yl(0)}static cr(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="LruGarbageCollector",$D=1048576;function c_([t,e],[n,r]){const s=ze(t,n);return s===0?ze(e,r):s}class WD{constructor(e){this.Ir=e,this.buffer=new zt(c_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();c_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(l_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Il(n)?he(l_,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Vr(3e5)}))}}class HD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(bf.ce);const r=new WD(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(a_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,u,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),Ya()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v}))))}}function GD(t,e){return new HD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.changes=new pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&zc(r.mutation,s,lr.empty(),Ye.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=$e()){const s=Xo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=jc();return a.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Xo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,$e())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let a=ci();const l=Bc(),u=(function(){return Bc()})();return n.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof fo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),zc(g.mutation,p,g.mutation.getFieldMask(),Ye.now())):l.set(p.key,lr.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>u.set(p,new QD(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Bc();let s=new yt(((l,u)=>l-u)),a=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||lr.empty();g=u.applyToLocalView(p,g),r.set(h,g);const v=(s.get(u.batchId)||$e()).add(h);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,g=h.value,v=OT();g.forEach((x=>{if(!a.has(x)){const T=HT(n.get(x),r.get(x));T!==null&&v.set(x,T),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):te.resolve(Xo());let u=nu,h=a;return l.next((p=>te.forEach(p,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{h=h.insert(g,x)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,h,p,$e()))).next((g=>({batchId:u,changes:VT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let s=jc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=jc();return this.indexManager.getCollectionParents(e,a).next((u=>te.forEach(u,(h=>{const p=(function(v,x){return new Rl(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((v,x)=>{l=l.insert(v,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,En.newInvalidDocument(g)))}));let u=jc();return l.forEach(((h,p)=>{const g=a.get(h);g!==void 0&&zc(g.mutation,p,lr.empty(),Ye.now()),Cf(n,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:As(s.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:UD(s.bundledQuery),readTime:As(s.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.overlays=new yt(ve.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xo();return te.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const s=Xo(),a=n.length+1,l=new ve(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return te.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new yt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Xo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=Xo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return te.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new mD(n,r));let a=this.qr.get(n);a===void 0&&(a=$e(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.Qr=new zt(Qt.$r),this.Ur=new zt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new st([])),r=new Qt(n,e),s=new Qt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new st([])),r=new Qt(n,e),s=new Qt(n,e+1);let a=$e();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Qt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Qt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new pD(a,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new Qt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?H0:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),s=new Qt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);a.push(u)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(ze);return n.forEach((s=>{const a=new Qt(s,0),l=new Qt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const l=new Qt(new ve(a),0);let u=new zt(ze);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Yr)),!0)}),l),te.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(s=>{const a=new Qt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Qt(n,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.ri=e,this.docs=(function(){return new yt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=ci();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():En.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ci();const l=n.path,u=new ve(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||A6(R6(g),r)<=0||(s.has(g.key)||Cf(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ce(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new n3(this)}getSize(e){return te.resolve(this.size)}}class n3 extends KD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.persistence=e,this.si=new pa((n=>Q0(n)),X0),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new ry,this.targetCount=0,this.ai=yl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),te.waitFor(a).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.ui={},this.overlays={},this.ci=new bf(0),this.li=!1,this.li=!0,this.hi=new ZD,this.referenceDelegate=e(this),this.Pi=new r3(this),this.indexManager=new BD,this.remoteDocumentCache=(function(s){return new t3(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new FD(n),this.Ii=new YD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new e3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new s3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class s3 extends k6{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.Ri=new ry,this.Vi=null}static mi(e){return new sy(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=ve.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.pi=new pa((r=>D6(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=GD(this,n)}static mi(e,n){return new Qh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?te.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,ke.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=$e(),s=$e();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new iy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mN()?8:P6(Sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new i3;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ya()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ya()<=Be.DEBUG&&he("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ya()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(n))):te.resolve())}ys(e,n){if(Y1(n))return te.resolve(null);let r=Rs(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Gh(n,null,"F"),r=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=$e(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(n,u);return this.Cs(n,p,l,h.readTime)?this.ys(e,Gh(n,null,"F")):this.vs(e,p,n,h)}))))})))))}ws(e,n,r,s){return Y1(n)||s.isEqual(ke.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?te.resolve(null):(Ya()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ja(n)),this.vs(e,l,n,I6(s,nu)).next((u=>u)))}))}Ds(e,n){let r=new zt(LT(e));return n.forEach(((s,a)=>{Cf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Ya()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ps.getDocumentsMatchingQuery(e,n,Ji.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="LocalStore",a3=3e8;class l3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new yt(ze),this.xs=new pa((a=>Q0(a)),X0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function c3(t,e,n,r){return new l3(t,e,n,r)}async function aS(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let h=$e();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function u3(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,g){const v=p.batch,x=v.keys();let T=te.resolve();return x.forEach((k=>{T=T.next((()=>g.getEntry(h,k))).next((A=>{const C=p.docVersions.get(k);Je(C!==null,48541),A.version.compareTo(C)<0&&(v.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=$e();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function lS(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function d3(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const x=s.get(v);if(!x)return;u.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,v))));let T=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(dn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),s=s.insert(v,T),(function(A,C,L){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=a3?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(x,T,g)&&u.push(n.Pi.updateTargetData(a,T))}));let h=ci(),p=$e();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(h3(a,l,e.documentUpdates).next((g=>{h=g.ks,p=g.qs}))),!r.isEqual(ke.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return te.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,p))).next((()=>h))})).then((a=>(n.Ms=s,a)))}function h3(t,e,n){let r=$e(),s=$e();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ci();return n.forEach(((u,h)=>{const p=a.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):he(oy,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function f3(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=H0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function p3(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,te.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new Hi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Vg(t,e,n){const r=Ae(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Il(l))throw l;he(oy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function u_(t,e,n){const r=Ae(t);let s=ke.min(),a=$e();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,g){const v=Ae(h),x=v.xs.get(g);return x!==void 0?te.resolve(v.Ms.get(x)):v.Pi.getTargetData(p,g)})(r,l,Rs(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:ke.min(),n?a:$e()))).next((u=>(m3(r,eD(e),u),{documents:u,Qs:a})))))}function m3(t,e,n){let r=t.Os.get(e)||ke.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class d_{constructor(){this.activeTargetIds=oD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g3{constructor(){this.Mo=new d_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new d_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="ConnectivityMonitor";class f_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(h_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(h_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function Og(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",v3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=Og(),u=this.zo(e,n.toUriEncodedString());he(Fm,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:p}=new URL(u),g=oo(p);return this.Jo(e,u,h,r,g).then((v=>(he(Fm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw fl(Fm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=v3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class _3 extends x3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=Og();return new Promise(((u,h)=>{const p=new aT;p.setWithCredentials(!0),p.listenOnce(lT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const v=p.getResponseJson();he(_n,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case wh.TIMEOUT:he(_n,`RPC '${e}' ${l} timed out`),h(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const x=p.getStatus();if(he(_n,`RPC '${e}' ${l} failed with status:`,x,"response text:",p.getResponseText()),x>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const k=T?.error;if(k&&k.status&&k.message){const A=(function(L){const P=L.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(P)>=0?P:Z.UNKNOWN})(k.status);h(new ue(A,k.message))}else h(new ue(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(_n,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);he(_n,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Og(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=dT(),u=uT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");he(_n,`Creating RPC '${e}' stream ${s}: ${g}`,h);const v=l.createWebChannel(g,h);this.I_(v);let x=!1,T=!1;const k=new w3({Yo:C=>{T?he(_n,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(x||(he(_n,`Opening RPC '${e}' stream ${s} transport.`),v.open(),x=!0),he(_n,`RPC '${e}' stream ${s} sending:`,C),v.send(C))},Zo:()=>v.close()}),A=(C,L,P)=>{C.listen(L,(D=>{try{P(D)}catch(B){setTimeout((()=>{throw B}),0)}}))};return A(v,Pc.EventType.OPEN,(()=>{T||(he(_n,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),A(v,Pc.EventType.CLOSE,(()=>{T||(T=!0,he(_n,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(v))})),A(v,Pc.EventType.ERROR,(C=>{T||(T=!0,fl(_n,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),k.a_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),A(v,Pc.EventType.MESSAGE,(C=>{if(!T){const L=C.data[0];Je(!!L,16349);const P=L,D=P?.error||P[0]?.error;if(D){he(_n,`RPC '${e}' stream ${s} received error:`,D);const B=D.status;let K=(function(I){const j=kt[I];if(j!==void 0)return KT(j)})(B),q=D.message;K===void 0&&(K=Z.INTERNAL,q="Unknown error status: "+B+" with message "+D.message),T=!0,k.a_(new ue(K,q)),v.close()}else he(_n,`RPC '${e}' stream ${s} received:`,L),k.u_(L)}})),A(u,cT.STAT_EVENT,(C=>{C.stat===Cg.PROXY?he(_n,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Cg.NOPROXY&&he(_n,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){return new SD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class uS{constructor(e,n,r,s,a,l,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ue(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class b3 extends uS{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=RD(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?As(l.readTime):ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Mg(this.serializer),n.addTarget=(function(a,l){let u;const h=l.target;if(u=kg(h)?{documents:kD(a,h)}:{query:tS(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=YT(a,l.resumeToken);const p=jg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){u.readTime=Kh(a,l.snapshotVersion.toTimestamp());const p=jg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=DD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Mg(this.serializer),n.removeTarget=e,this.q_(n)}}class E3 extends uS{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ND(e.writeResults,e.commitTime),r=As(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Mg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>AD(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{}class S3 extends T3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Dg(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(Z.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Dg(n,r),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(Z.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class C3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class I3{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{ma(this)&&(he(la,"Restarting streams for network reachability change."),await(async function(h){const p=Ae(h);p.Ea.add(4),await ku(p),p.Ra.set("Unknown"),p.Ea.delete(4),await kf(p)})(this))}))})),this.Ra=new C3(r,s)}}async function kf(t){if(ma(t))for(const e of t.da)await e(!0)}async function ku(t){for(const e of t.da)await e(!1)}function dS(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uy(n)?cy(n):Al(n).O_()&&ly(n,e))}function ay(t,e){const n=Ae(t),r=Al(n);n.Ia.delete(e),r.O_()&&hS(n,e),n.Ia.size===0&&(r.O_()?r.L_():ma(n)&&n.Ra.set("Unknown"))}function ly(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Al(t).Y_(e)}function hS(t,e){t.Va.Ue(e),Al(t).Z_(e)}function cy(t){t.Va=new _D({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Al(t).start(),t.Ra.ua()}function uy(t){return ma(t)&&!Al(t).x_()&&t.Ia.size>0}function ma(t){return Ae(t).Ea.size===0}function fS(t){t.Va=void 0}async function R3(t){t.Ra.set("Online")}async function A3(t){t.Ia.forEach(((e,n)=>{ly(t,e)}))}async function N3(t,e){fS(t),uy(t)?(t.Ra.ha(e),cy(t)):t.Ra.set("Unknown")}async function k3(t,e,n){if(t.Ra.set("Online"),e instanceof XT&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(r){he(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(t,r)}else if(e instanceof Th?t.Va.Ze(e):e instanceof QT?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const r=await lS(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(dn.EMPTY_BYTE_STRING,g.snapshotVersion)),hS(a,h);const v=new Hi(g.target,h,p,g.sequenceNumber);ly(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){he(la,"Failed to raise snapshot:",r),await Xh(t,r)}}async function Xh(t,e,n){if(!Il(e))throw e;t.Ea.add(1),await ku(t),t.Ra.set("Offline"),n||(n=()=>lS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(la,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kf(t)}))}function pS(t,e){return e().catch((n=>Xh(t,n,e)))}async function Pf(t){const e=Ae(t),n=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:H0;for(;P3(e);)try{const s=await f3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,j3(e,s)}catch(s){await Xh(e,s)}mS(e)&&gS(e)}function P3(t){return ma(t)&&t.Ta.length<10}function j3(t,e){t.Ta.push(e);const n=no(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mS(t){return ma(t)&&!no(t).x_()&&t.Ta.length>0}function gS(t){no(t).start()}async function D3(t){no(t).ra()}async function L3(t){const e=no(t);for(const n of t.Ta)e.ea(n.mutations)}async function M3(t,e,n){const r=t.Ta.shift(),s=ey.from(r,e,n);await pS(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Pf(t)}async function V3(t,e){e&&no(t).X_&&await(async function(r,s){if((function(l){return vD(l)&&l!==Z.ABORTED})(s.code)){const a=r.Ta.shift();no(r).B_(),await pS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Pf(r)}})(t,e),mS(t)&&gS(t)}async function m_(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),he(la,"RemoteStore received new credentials");const r=ma(n);n.Ea.add(3),await ku(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kf(n)}async function O3(t,e){const n=Ae(t);e?(n.Ea.delete(2),await kf(n)):e||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function Al(t){return t.ma||(t.ma=(function(n,r,s){const a=Ae(n);return a.sa(),new b3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:R3.bind(null,t),t_:A3.bind(null,t),r_:N3.bind(null,t),H_:k3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),uy(t)?cy(t):t.Ra.set("Unknown")):(await t.ma.stop(),fS(t))}))),t.ma}function no(t){return t.fa||(t.fa=(function(n,r,s){const a=Ae(n);return a.sa(),new E3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:D3.bind(null,t),r_:V3.bind(null,t),ta:L3.bind(null,t),na:M3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Pf(t)):(await t.fa.stop(),t.Ta.length>0&&(he(la,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,u=new dy(e,n,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(li("AsyncQueue",`${e}: ${t}`),Il(t))return new ue(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=jc(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.ga=new yt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class vl{constructor(e,n,r,s,a,l,u,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new vl(e,n,cl.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class U3{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ae(n),a=s.queries;s.queries=y_(),a.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function y_(){return new pa((t=>DT(t)),Sf)}async function yS(t,e){const n=Ae(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new F3,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=hy(l,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&fy(n)}async function vS(t,e){const n=Ae(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B3(t,e){const n=Ae(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&fy(n)}function z3(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function fy(t){t.Ca.forEach((e=>{e.next()}))}var Fg,v_;(v_=Fg||(Fg={})).Ma="default",v_.Cache="cache";class xS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class $3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=LT(e),this.tu=new cl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new g_,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const x=s.get(g),T=Cf(this.query,v)?v:null,k=!!x&&this.mutatedKeys.has(x.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;x&&T?x.data.isEqual(T.data)?k!==A&&(r.track({type:3,doc:T}),C=!0):this.su(x,T)||(r.track({type:2,doc:T}),C=!0,(h&&this.eu(T,h)>0||p&&this.eu(T,p)<0)&&(u=!0)):!x&&T?(r.track({type:0,doc:T}),C=!0):x&&!T&&(r.track({type:1,doc:x}),C=!0,(h||p)&&(u=!0)),C&&(T?(l=l.add(T),a=A?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(T,k){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:C})}};return A(T)-A(k)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,p=h!==this.Za;return this.Za=h,l.length!==0||p?{snapshot:new vl(this.query,e.tu,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new _S(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new wS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const py="SyncEngine";class W3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class q3{constructor(e){this.key=e,this.hu=!1}}class H3{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new pa((u=>DT(u)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ve.comparator),this.Au=new Map,this.Ru=new ry,this.Vu={},this.mu=new Map,this.fu=yl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function G3(t,e,n=!0){const r=IS(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await bS(r,e,n,!0),s}async function K3(t,e){const n=IS(t);await bS(n,e,!0,!1)}async function bS(t,e,n,r){const s=await p3(t.localStore,Rs(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await Q3(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&dS(t.remoteStore,s),u}async function Q3(t,e,n,r,s){t.pu=(v,x,T)=>(async function(A,C,L,P){let D=C.view.ru(L);D.Cs&&(D=await u_(A.localStore,C.query,!1).then((({documents:R})=>C.view.ru(R,D))));const B=P&&P.targetChanges.get(C.targetId),K=P&&P.targetMismatches.get(C.targetId)!=null,q=C.view.applyChanges(D,A.isPrimaryClient,B,K);return w_(A,C.targetId,q.au),q.snapshot})(t,v,x,T);const a=await u_(t.localStore,e,!0),l=new $3(e,a.Qs),u=l.ru(a.documents),h=Nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(u,t.isPrimaryClient,h);w_(t,n,p.au);const g=new W3(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function X3(t,e,n){const r=Ae(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Sf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Vg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ay(r.remoteStore,s.targetId),Ug(r,s.targetId)})).catch(Cl)):(Ug(r,s.targetId),await Vg(r.localStore,s.targetId,!0))}async function Y3(t,e){const n=Ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ay(n.remoteStore,r.targetId))}async function J3(t,e,n){const r=iL(t);try{const s=await(function(l,u){const h=Ae(l),p=Ye.now(),g=u.reduce(((T,k)=>T.add(k.key)),$e());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let k=ci(),A=$e();return h.Ns.getEntries(T,g).next((C=>{k=C,k.forEach(((L,P)=>{P.isValidDocument()||(A=A.add(L))}))})).next((()=>h.localDocuments.getOverlayedDocuments(T,k))).next((C=>{v=C;const L=[];for(const P of u){const D=hD(P,v.get(P.key).overlayedDocument);D!=null&&L.push(new fo(P.key,D,ST(D.value.mapValue),Cr.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,L,u)})).next((C=>{x=C;const L=C.applyToLocalDocumentSet(v,A);return h.documentOverlayCache.saveOverlays(T,C.batchId,L)}))})).then((()=>({batchId:x.batchId,changes:VT(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let p=l.Vu[l.currentUser.toKey()];p||(p=new yt(ze)),p=p.insert(u,h),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,n),await Pu(r,s.changes),await Pf(r.remoteStore)}catch(s){const a=hy(s,"Failed to persist write");n.reject(a)}}async function ES(t,e){const n=Ae(t);try{const r=await d3(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(Je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Je(l.hu,14607):s.removedDocuments.size>0&&(Je(l.hu,42227),l.hu=!1))})),await Pu(n,r,e)}catch(r){await Cl(r)}}function x_(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Ae(l);h.onlineState=u;let p=!1;h.queries.forEach(((g,v)=>{for(const x of v.Sa)x.va(u)&&(p=!0)})),p&&fy(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z3(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new yt(ve.comparator);l=l.insert(a,En.newNoDocument(a,ke.min()));const u=$e().add(a),h=new Af(ke.min(),new Map,new yt(ze),l,u);await ES(r,h),r.du=r.du.remove(a),r.Au.delete(e),my(r)}else await Vg(r.localStore,e,!1).then((()=>Ug(r,e,n))).catch(Cl)}async function eL(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await u3(n.localStore,e);SS(n,r,null),TS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,s)}catch(s){await Cl(s)}}async function tL(t,e,n){const r=Ae(t);try{const s=await(function(l,u){const h=Ae(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,u).next((v=>(Je(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);SS(r,e,n),TS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,s)}catch(s){await Cl(s)}}function TS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function SS(t,e,n){const r=Ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ug(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||CS(t,r)}))}function CS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ay(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),my(t))}function w_(t,e,n){for(const r of n)r instanceof wS?(t.Ru.addReference(r.key,e),nL(t,r)):r instanceof _S?(he(py,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||CS(t,r.key)):Ce(19791,{wu:r})}function nL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(py,"New document in limbo: "+n),t.Eu.add(r),my(t))}function my(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(st.fromString(e)),r=t.fu.next();t.Au.set(r,new q3(n)),t.du=t.du.insert(n,r),dS(t.remoteStore,new Hi(Rs(Y0(n.path)),r,"TargetPurposeLimboResolution",bf.ce))}}async function Pu(t,e,n){const r=Ae(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(p){s.push(p);const g=iy.As(h.targetId,p);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,p){const g=Ae(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(p,(x=>te.forEach(x.Es,(T=>g.persistence.referenceDelegate.addReference(v,x.targetId,T))).next((()=>te.forEach(x.ds,(T=>g.persistence.referenceDelegate.removeReference(v,x.targetId,T)))))))))}catch(v){if(!Il(v))throw v;he(oy,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const T=g.Ms.get(x),k=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(x,A)}}})(r.localStore,a))}async function rL(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){he(py,"User change. New user:",e.toKey());const r=await aS(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((h=>{h.reject(new ue(Z.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Ls)}}function sL(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let s=$e();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function IS(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z3.bind(null,e),e.Pu.H_=B3.bind(null,e.eventManager),e.Pu.yu=z3.bind(null,e.eventManager),e}function iL(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tL.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return c3(this.persistence,new o3,e.initialUser,this.serializer)}Cu(e){return new oS(sy.mi,this.serializer)}Du(e){return new g3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class oL extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Qh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new oS((r=>Qh.mi(r,n)),this.serializer)}}class Bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rL.bind(null,this.syncEngine),await O3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new U3})()}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),r=(function(a){return new _3(a)})(e.databaseInfo);return(function(a,l,u,h){return new S3(a,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,u){return new I3(r,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>x_(this.syncEngine,n,0)),(function(){return f_.v()?new f_:new y3})())}createSyncEngine(e,n){return(function(s,a,l,u,h,p,g){const v=new H3(s,a,l,u,h,p);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);he(la,"RemoteStore shutting down."),r.Ea.add(5),await ku(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class aL{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{he(ro,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(ro,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bm(t,e){t.asyncQueue.verifyOperationInProgress(),he(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await aS(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function __(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lL(t);he(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>m_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>m_(e.remoteStore,s))),t._onlineComponents=e}async function lL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(ro,"Using user provided OfflineComponentProvider");try{await Bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),await Bm(t,new Yh)}}else he(ro,"Using default OfflineComponentProvider"),await Bm(t,new oL(void 0));return t._offlineComponents}async function gy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(ro,"Using user provided OnlineComponentProvider"),await __(t,t._uninitializedComponentsProvider._online)):(he(ro,"Using default OnlineComponentProvider"),await __(t,new Bg))),t._onlineComponents}function cL(t){return gy(t).then((e=>e.syncEngine))}function uL(t){return gy(t).then((e=>e.datastore))}async function AS(t){const e=await gy(t),n=e.eventManager;return n.onListen=G3.bind(null,e.syncEngine),n.onUnlisten=X3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y3.bind(null,e.syncEngine),n}function dL(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,p){const g=new RS({next:x=>{g.Nu(),l.enqueueAndForget((()=>vS(a,v)));const T=x.docs.has(u);!T&&x.fromCache?p.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&h&&h.source==="server"?p.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new xS(Y0(u.path),g,{includeMetadataChanges:!0,qa:!0});return yS(a,v)})(await AS(t),t.asyncQueue,e,n,r))),r.promise}function hL(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,p){const g=new RS({next:x=>{g.Nu(),l.enqueueAndForget((()=>vS(a,v))),x.fromCache&&h.source==="server"?p.reject(new ue(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new xS(u,g,{includeMetadataChanges:!0,qa:!0});return yS(a,v)})(await AS(t),t.asyncQueue,e,n,r))),r.promise}function fL(t,e,n){const r=new Is;return t.asyncQueue.enqueueAndForget((async()=>{try{const s=await uL(t);r.resolve((async function(l,u,h){const p=Ae(l),{request:g,gt:v,parent:x}=PD(p.serializer,Z6(u),h);p.connection.$o||delete g.parent;const T=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,x,g,1)).filter((A=>!!A.result));Je(T.length===1,64727);const k=T[0].result?.aggregateFields;return Object.keys(k).reduce(((A,C)=>(A[v[C]]=k[C],A)),{})})(s,e,n))}catch(s){r.reject(s)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firestore.googleapis.com",E_=!0;class T_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kS,this.ssl=E_}else this.host=e.host,this.ssl=e.ssl??E_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$D)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new g6;switch(r.type){case"firstParty":return new w6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=b_.get(n);r&&(he("ComponentProvider","Removing Datastore"),b_.delete(n),r.terminate())})(this),Promise.resolve()}}function pL(t,e,n,r={}){t=kr(t,jf);const s=oo(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(S0(`https://${u}`),C0("Firestore",!0)),a.host!==kS&&a.host!==u&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:s,emulatorOptions:r};if(!Yi(h,l)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=bn.MOCK_USER;else{p=G2(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new bn(v)}t._authCredentials=new y6(new fT(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ru(n,Rt._jsonSchema))return new Rt(e,r||null,new ve(st.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Dt("string",Rt._jsonSchemaVersion),referencePath:Dt("string")};class Xi extends po{constructor(e,n,r){super(e,n,Y0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ve(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function Lt(t,e,...n){if(t=ct(t),pT("collection","path",e),t instanceof jf){const r=st.fromString(e,...n);return V1(r),new Xi(t,null,r)}{if(!(t instanceof Rt||t instanceof Xi))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return V1(r),new Xi(t.firestore,null,r)}}function Mt(t,e,...n){if(t=ct(t),arguments.length===1&&(e=q0.newId()),pT("doc","path",e),t instanceof jf){const r=st.fromString(e,...n);return M1(r),new Rt(t,null,new ve(r))}{if(!(t instanceof Rt||t instanceof Xi))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return M1(r),new Rt(t.firestore,t instanceof Xi?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="AsyncQueue";class C_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cS(this,"async_queue_retry"),this._c=()=>{const r=Um();r&&he(S_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;he(S_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",I_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=dy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ce(47125,{Pc:I_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function I_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class mo extends jf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new C_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C_(e),this._firestoreClient=void 0,await e}}}function mL(t,e){const n=typeof t=="object"?t:mf(),r=typeof t=="string"?t:Wh,s=ao(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=W2("firestore");a&&pL(s,...a)}return s}function Df(t){if(t._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gL(t),t._firestoreClient}function gL(t){const e=t._freezeSettings(),n=(function(s,a,l,u){return new O6(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,NS(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new aL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class vL{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tr(dn.fromBase64String(e))}catch(n){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,Tr._jsonSchema))return Tr.fromBase64String(e.bytes)}}Tr._jsonSchemaVersion="firestore/bytes/1.0",Tr._jsonSchema={type:Dt("string",Tr._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ns._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,Ns._jsonSchema))return new Ns(e.latitude,e.longitude)}}Ns._jsonSchemaVersion="firestore/geoPoint/1.0",Ns._jsonSchema={type:Dt("string",Ns._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ks(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:Dt("string",ks._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=/^__.*__$/;class wL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class PS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class yy{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jS(this.Ac)&&xL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _L{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nf(e)}Cc(e,n,r,s=!1){return new yy({Ac:e,methodName:n,Dc:r,path:cn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(t){const e=t._freezeSettings(),n=Nf(t._databaseId);return new _L(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DS(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);wy("Data must be an object, but it was:",l,r);const u=LS(r,l);let h,p;if(a.merge)h=new lr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const x=zg(e,v,n);if(!l.contains(x))throw new ue(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);VS(g,x)||g.push(x)}h=new lr(g),p=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=l.fieldTransforms;return new wL(new Gn(u),h,p)}class Vf extends ju{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}class vy extends ju{_toFieldTransform(e){return new qT(e.path,new au)}isEqual(e){return e instanceof vy}}class xy extends ju{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new uu(e.serializer,UT(e.serializer,this.Fc));return new qT(e.path,n)}isEqual(e){return e instanceof xy&&this.Fc===e.Fc}}function bL(t,e,n,r){const s=t.Cc(1,e,n);wy("Data must be an object, but it was:",s,r);const a=[],l=Gn.empty();ho(r,((h,p)=>{const g=_y(e,h,n);p=ct(p);const v=s.yc(g);if(p instanceof Vf)a.push(g);else{const x=Du(p,v);x!=null&&(a.push(g),l.set(g,x))}}));const u=new lr(a);return new PS(l,u,s.fieldTransforms)}function EL(t,e,n,r,s,a){const l=t.Cc(1,e,n),u=[zg(e,r,n)],h=[s];if(a.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(zg(e,a[x])),h.push(a[x+1]);const p=[],g=Gn.empty();for(let x=u.length-1;x>=0;--x)if(!VS(p,u[x])){const T=u[x];let k=h[x];k=ct(k);const A=l.yc(T);if(k instanceof Vf)p.push(T);else{const C=Du(k,A);C!=null&&(p.push(T),g.set(T,C))}}const v=new lr(p);return new PS(g,v,l.fieldTransforms)}function TL(t,e,n,r=!1){return Du(n,t.Cc(r?4:3,e))}function Du(t,e){if(MS(t=ct(t)))return wy("Unsupported field value:",e,t),LS(t,e);if(t instanceof ju)return(function(r,s){if(!jS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const u of r){let h=Du(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ye.fromDate(r);return{timestampValue:Kh(s.serializer,a)}}if(r instanceof Ye){const a=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(s.serializer,a)}}if(r instanceof Ns)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tr)return{bytesValue:YT(s.serializer,r._byteString)};if(r instanceof Rt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ny(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ks)return(function(l,u){return{mapValue:{fields:{[ET]:{stringValue:TT},[qh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return J0(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${_f(r)}`)})(t,e)}function LS(t,e){const n={};return yT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(t,((r,s)=>{const a=Du(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function MS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Ns||t instanceof Tr||t instanceof Rt||t instanceof ju||t instanceof ks)}function wy(t,e,n){if(!MS(n)||!mT(n)){const r=_f(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function zg(t,e,n){if((e=ct(e))instanceof Lf)return e._internalPath;if(typeof e=="string")return _y(t,e);throw Jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const SL=new RegExp("[~\\*/\\[\\]]");function _y(t,e,n){if(e.search(SL)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lf(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new ue(Z.INVALID_ARGUMENT,u+t+h)}function VS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Of("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CL extends OS{data(){return super.data()}}function Of(t,e){return typeof e=="string"?_y(t,e):e instanceof Lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class Ey extends by{}function Cn(t,e,...n){let r=[];e instanceof by&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((h=>h instanceof Ty)).length,u=a.filter((h=>h instanceof Ff)).length;if(l>1||l>0&&u>0)throw new ue(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Ff extends Ey{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ff(e,n,r)}_apply(e){const n=this._parse(e);return FS(e._query,n),new po(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=Mf(e.firestore);return(function(a,l,u,h,p,g,v){let x;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){A_(v,g);const k=[];for(const A of v)k.push(R_(h,a,A));x={arrayValue:{values:k}}}else x=R_(h,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||A_(v,g),x=TL(u,l,v,g==="in"||g==="not-in");return jt.create(p,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function un(t,e,n){const r=e,s=Of("where",t);return Ff._create(s,r,n)}class Ty extends by{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ty(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const h of u)FS(l,h),l=Pg(l,h)})(e._query,n),new po(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sy extends Ey{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sy(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(a,l)})(e._query,this._field,this._direction);return new po(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new Rl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Nl(t,e="asc"){const n=e,r=Of("orderBy",t);return Sy._create(r,n)}class Cy extends Ey{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Cy(e,n,r)}_apply(e){return new po(e.firestore,e.converter,Gh(e._query,this._limit,this._limitType))}}function RL(t){return Cy._create("limit",t,"F")}function R_(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ue(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PT(e)&&n.indexOf("/")!==-1)throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ve.isDocumentKey(r))throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q1(t,new ve(r))}if(n instanceof Rt)return q1(t,n._key);throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(n)}.`)}function A_(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FS(t,e){const n=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AL{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ho(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[qh].arrayValue?.values?.map((r=>It(r.doubleValue)));return new ks(n)}convertGeoPoint(e){return new Ns(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Je(sS(r),9688,{name:e});const s=new su(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return s.isEqual(n)||li(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function NL(){return new yL("count")}class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zo extends OS{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Of("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zo._jsonSchema={type:Dt("string",Zo._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Sh extends Zo{data(e={}){return super.data(e)}}class ul{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Lc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Sh(this._firestore,this._userDataWriter,r.key,r,new Lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new Sh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Lc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const h=new Sh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Lc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:kL(u.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=q0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t){t=kr(t,Rt);const e=kr(t.firestore,mo);return dL(Df(e),t._key).then((n=>PL(e,t,n)))}ul._jsonSchemaVersion="firestore/querySnapshot/1.0",ul._jsonSchema={type:Dt("string",ul._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Iy extends AL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Mn(t){t=kr(t,po);const e=kr(t.firestore,mo),n=Df(e),r=new Iy(e);return IL(t._query),hL(n,t._query).then((s=>new ul(e,r,t,s)))}function BS(t,e,n){t=kr(t,Rt);const r=kr(t.firestore,mo),s=US(t.converter,e,n);return Uf(r,[DS(Mf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Cr.none())])}function Lu(t,e,n,...r){t=kr(t,Rt);const s=kr(t.firestore,mo),a=Mf(s);let l;return l=typeof(e=ct(e))=="string"||e instanceof Lf?EL(a,"updateDoc",t._key,e,n,r):bL(a,"updateDoc",t._key,e),Uf(s,[l.toMutation(t._key,Cr.exists(!0))])}function Ry(t){return Uf(kr(t.firestore,mo),[new Z0(t._key,Cr.none())])}function ga(t,e){const n=kr(t.firestore,mo),r=Mt(t),s=US(t.converter,e);return Uf(n,[DS(Mf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then((()=>r))}function Uf(t,e){return(function(r,s){const a=new Is;return r.asyncQueue.enqueueAndForget((async()=>J3(await cL(r),s,a))),a.promise})(Df(t),e)}function PL(t,e,n){const r=n.docs.get(e._key),s=new Iy(t);return new Zo(t,s,e._key,r,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}function N_(t){return jL(t,{count:NL()})}function jL(t,e){const n=kr(t.firestore,mo),r=Df(n),s=M6(e,((a,l)=>new gD(l,a.aggregateType,a._internalFieldPath)));return fL(r,t._query,s).then((a=>(function(u,h,p){const g=new Iy(u);return new vL(h,g,p)})(n,t,a)))}function Zh(){return new vy("serverTimestamp")}function DL(t){return new xy("increment",t)}(function(e,n=!0){(function(s){Sl=s})(ha),Xr(new Ar("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new mo(new v6(r.getProvider("auth-internal")),new _6(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(p.options.projectId,g)})(l,s),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Qn(P1,j1,e),Qn(P1,j1,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebasestorage.googleapis.com",$S="storageBucket",LL=120*1e3,ML=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt extends jr{constructor(e,n,r=0){super(zm(e),`Firebase Storage: ${n} (${zm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function zm(t){return"storage/"+t}function Ay(){const t="An unknown error occurred, please check the error payload for server response.";return new bt(_t.UNKNOWN,t)}function VL(t){return new bt(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function OL(t){return new bt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bt(_t.UNAUTHENTICATED,t)}function UL(){return new bt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BL(t){return new bt(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function zL(){return new bt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $L(){return new bt(_t.CANCELED,"User canceled the upload/download.")}function WL(t){return new bt(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function qL(t){return new bt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function HL(){return new bt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$S+"' property when initializing the app?")}function GL(){return new bt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KL(){return new bt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function QL(t){return new bt(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $g(t){return new bt(_t.INVALID_ARGUMENT,t)}function WS(){return new bt(_t.APP_DELETED,"The Firebase app was deleted.")}function XL(t){return new bt(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $c(t,e){return new bt(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Cc(t){throw new bt(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cr.makeFromUrl(e,n)}catch{return new cr(e,"")}if(r.path==="")return r;throw qL(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function p(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${g}/b/${s}/o${x}`,"i"),k={bucket:1,path:3},A=n===zS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",L=new RegExp(`^https?://${A}/${s}/${C}`,"i"),D=[{regex:u,indices:h,postModify:a},{regex:T,indices:k,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let B=0;B<D.length;B++){const K=D[B],q=K.regex.exec(e);if(q){const R=q[K.indices.bucket];let I=q[K.indices.path];I||(I=""),r=new cr(R,I),K.postModify(r);break}}if(r==null)throw WL(e);return r}}class YL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t,e,n){let r=1,s=null,a=null,l=!1,u=0;function h(){return u===2}let p=!1;function g(...C){p||(p=!0,e.apply(null,C))}function v(C){s=setTimeout(()=>{s=null,t(T,h())},C)}function x(){a&&clearTimeout(a)}function T(C,...L){if(p){x();return}if(C){x(),g.call(null,C,...L);return}if(h()||l){x(),g.call(null,C,...L);return}r<64&&(r*=2);let D;u===1?(u=2,D=0):D=(r+Math.random())*1e3,v(D)}let k=!1;function A(C){k||(k=!0,x(),!p&&(s!==null?(C||(u=2),clearTimeout(s),v(0)):C||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,A(!0)},n),A}function ZL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){return t!==void 0}function tM(t){return typeof t=="object"&&!Array.isArray(t)}function Ny(t){return typeof t=="string"||t instanceof String}function k_(t){return ky()&&t instanceof Blob}function ky(){return typeof Blob<"u"}function P_(t,e,n,r){if(r<e)throw $g(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $g(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ea;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ea||(ea={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r,s,a,l,u,h,p,g,v,x=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,A)=>{this.resolve_=k,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ih(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===ea.NO_ERROR,h=a.getStatus();if(!u||nM(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ea.ABORT;r(!1,new ih(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new ih(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());eM(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=Ay();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(s.canceled){const h=this.appDelete_?WS():$L();l(h)}else{const h=zL();l(h)}};this.canceled_?n(!1,new ih(!1,null,!0)):this.backoffId_=JL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function sM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lM(t,e,n,r,s,a,l=!0,u=!1){const h=qS(t.urlParams),p=t.url+h,g=Object.assign({},t.headers);return oM(g,e),sM(g,n),iM(g,a),aM(g,r),new rM(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uM(...t){const e=cM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ky())return new Blob(t);throw new bt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){if(typeof atob>"u")throw QL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $m{constructor(e,n){this.data=e,this.contentType=n||null}}function fM(t,e){switch(t){case Ss.RAW:return new $m(HS(e));case Ss.BASE64:case Ss.BASE64URL:return new $m(GS(t,e));case Ss.DATA_URL:return new $m(mM(e),gM(e))}throw Ay()}function HS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function pM(t){let e;try{e=decodeURIComponent(t)}catch{throw $c(Ss.DATA_URL,"Malformed data URL.")}return HS(e)}function GS(t,e){switch(t){case Ss.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw $c(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ss.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw $c(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=hM(e)}catch(s){throw s.message.includes("polyfill")?s:$c(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class KS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $c(Ss.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=yM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function mM(t){const e=new KS(t);return e.base64?GS(Ss.BASE64,e.rest):pM(e.rest)}function gM(t){return new KS(t).contentType}function yM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){let r=0,s="";k_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(k_(this.data_)){const r=this.data_,s=dM(r,e,n);return s===null?null:new qi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qi(r,!0)}}static getBlob(...e){if(ky()){const n=e.map(r=>r instanceof qi?r.data_:r);return new qi(uM.apply(null,n))}else{const n=e.map(l=>Ny(l)?fM(Ss.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[a++]=l[u]}),new qi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){let e;try{e=JSON.parse(t)}catch{return null}return tM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function XS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t,e){return e}class jn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||wM}}let oh=null;function _M(t){return!Ny(t)||t.length<2?t:XS(t)}function YS(){if(oh)return oh;const t=[];t.push(new jn("bucket")),t.push(new jn("generation")),t.push(new jn("metageneration")),t.push(new jn("name","fullPath",!0));function e(a,l){return _M(l)}const n=new jn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new jn("size");return s.xform=r,t.push(s),t.push(new jn("timeCreated")),t.push(new jn("updated")),t.push(new jn("md5Hash",null,!0)),t.push(new jn("cacheControl",null,!0)),t.push(new jn("contentDisposition",null,!0)),t.push(new jn("contentEncoding",null,!0)),t.push(new jn("contentLanguage",null,!0)),t.push(new jn("contentType",null,!0)),t.push(new jn("metadata","customMetadata",!0)),oh=t,oh}function bM(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new cr(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function EM(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return bM(r,t),r}function JS(t,e,n){const r=QS(e);return r===null?null:EM(t,r,n)}function TM(t,e,n,r){const s=QS(e);if(s===null||!Ny(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,v=t.fullPath,x="/b/"+l(g)+"/o/"+l(v),T=Py(x,n,r),k=qS({alt:"media",token:p});return T+k})[0]}function SM(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class ZS{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){if(!t)throw Ay()}function CM(t,e){function n(r,s){const a=JS(t,s,e);return eC(a!==null),a}return n}function IM(t,e){function n(r,s){const a=JS(t,s,e);return eC(a!==null),TM(a,s,t.host,t._protocol)}return n}function tC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=UL():s=FL():n.getStatus()===402?s=OL(t.bucket):n.getStatus()===403?s=BL(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function RM(t){const e=tC(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=VL(t.path)),a.serverResponse=s.serverResponse,a}return n}function AM(t,e,n){const r=e.fullServerUrl(),s=Py(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new ZS(s,a,IM(t,n),l);return u.errorHandler=RM(e),u}function NM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function kM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=NM(null,e)),r}function PM(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let D="";for(let B=0;B<2;B++)D=D+Math.random().toString().slice(2);return D}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const p=kM(e,r,s),g=SM(p,n),v="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,x=`\r
--`+h+"--",T=qi.getBlob(v,r,x);if(T===null)throw GL();const k={name:p.fullPath},A=Py(a,t.host,t._protocol),C="POST",L=t.maxUploadRetryTime,P=new ZS(A,C,CM(t,n),L);return P.urlParams=k,P.headers=l,P.body=T.uploadData(),P.errorHandler=tC(e),P}class jM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ea.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ea.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ea.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Cc("cannot .send() more than once");if(oo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class DM extends jM{initXhr(){this.xhr_.responseType="text"}}function nC(){return new DM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this._service=e,n instanceof cr?this._location=n:this._location=cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ca(e,n)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XS(this._location.path)}get storage(){return this._service}get parent(){const e=vM(this._location.path);if(e===null)return null;const n=new cr(this._location.bucket,e);return new ca(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw XL(e)}}function LM(t,e,n){t._throwIfRoot("uploadBytes");const r=PM(t.storage,t._location,YS(),new qi(e,!0),n);return t.storage.makeRequestWithTokens(r,nC).then(s=>({metadata:s,ref:t}))}function MM(t){t._throwIfRoot("getDownloadURL");const e=AM(t.storage,t._location,YS());return t.storage.makeRequestWithTokens(e,nC).then(n=>{if(n===null)throw KL();return n})}function VM(t,e){const n=xM(t._location.path,e),r=new cr(t._location.bucket,n);return new ca(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){return/^[A-Za-z]+:\/\//.test(t)}function FM(t,e){return new ca(t,e)}function rC(t,e){if(t instanceof jy){const n=t;if(n._bucket==null)throw HL();const r=new ca(n,n._bucket);return e!=null?rC(r,e):r}else return e!==void 0?VM(t,e):t}function UM(t,e){if(e&&OM(e)){if(t instanceof jy)return FM(t,e);throw $g("To use ref(service, url), the first argument must be a Storage instance.")}else return rC(t,e)}function j_(t,e){const n=e?.[$S];return n==null?null:cr.makeFromBucketSpec(n,t)}function BM(t,e,n,r={}){t.host=`${e}:${n}`;const s=oo(e);s&&(S0(`https://${t.host}/b`),C0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:G2(a,t.app.options.projectId))}class jy{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=zS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LL,this._maxUploadRetryTime=ML,this._requests=new Set,s!=null?this._bucket=cr.makeFromBucketSpec(s,this._host):this._bucket=j_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,e):this._bucket=j_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ca(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new YL(WS());{const l=lM(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const D_="@firebase/storage",L_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="storage";function zM(t,e,n){return t=ct(t),LM(t,e,n)}function $M(t){return t=ct(t),MM(t)}function WM(t,e){return t=ct(t),UM(t,e)}function qM(t=mf(),e){t=ct(t);const r=ao(t,sC).getImmediate({identifier:e}),s=W2("storage");return s&&HM(r,...s),r}function HM(t,e,n,r={}){BM(t,e,n,r)}function GM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new jy(n,r,s,e,ha)}function KM(){Xr(new Ar(sC,GM,"PUBLIC").setMultipleInstances(!0)),Qn(D_,L_,""),Qn(D_,L_,"esm2020")}KM();const QM={apiKey:"AIzaSyBwN_5jlQ3edG8WRIOWnBCUKnjyfnXtEPo",authDomain:"collabx-a055c.firebaseapp.com",projectId:"collabx-a055c",storageBucket:"collabx-a055c.firebasestorage.app",messagingSenderId:"348756055784",appId:"1:348756055784:web:803b0214061b74dff01b5d",measurementId:"G-NKNYLWZV4L"},Bf=eE(QM);ZP(Bf);const Ke=p6(Bf),Oe=mL(Bf),XM=qM(Bf),iC=new ei,Dy=b.createContext({});function Ly(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const My=typeof window<"u",oC=My?b.useLayoutEffect:b.useEffect,zf=b.createContext(null);function Vy(t,e){t.indexOf(e)===-1&&t.push(e)}function Oy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ui=(t,e,n)=>n>e?e:n<t?t:n;let Fy=()=>{};const di={},aC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lC(t){return typeof t=="object"&&t!==null}const cC=t=>/^0[^.\s]+$/u.test(t);function Uy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ir=t=>t,YM=(t,e)=>n=>e(t(n)),Mu=(...t)=>t.reduce(YM),du=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class By{constructor(){this.subscriptions=[]}add(e){return Vy(this.subscriptions,e),()=>Oy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ps=t=>t*1e3,Sr=t=>t/1e3;function uC(t,e){return e?t*(1e3/e):0}const dC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,JM=1e-7,ZM=12;function eV(t,e,n,r,s){let a,l,u=0;do l=e+(n-e)/2,a=dC(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>JM&&++u<ZM);return l}function Vu(t,e,n,r){if(t===e&&n===r)return Ir;const s=a=>eV(a,0,1,t,n);return a=>a===0||a===1?a:dC(s(a),e,r)}const hC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fC=t=>e=>1-t(1-e),pC=Vu(.33,1.53,.69,.99),zy=fC(pC),mC=hC(zy),gC=t=>(t*=2)<1?.5*zy(t):.5*(2-Math.pow(2,-10*(t-1))),$y=t=>1-Math.sin(Math.acos(t)),yC=fC($y),vC=hC($y),tV=Vu(.42,0,1,1),nV=Vu(0,0,.58,1),xC=Vu(.42,0,.58,1),rV=t=>Array.isArray(t)&&typeof t[0]!="number",wC=t=>Array.isArray(t)&&typeof t[0]=="number",sV={linear:Ir,easeIn:tV,easeInOut:xC,easeOut:nV,circIn:$y,circInOut:vC,circOut:yC,backIn:zy,backInOut:mC,backOut:pC,anticipate:gC},iV=t=>typeof t=="string",M_=t=>{if(wC(t)){Fy(t.length===4);const[e,n,r,s]=t;return Vu(e,n,r,s)}else if(iV(t))return sV[t];return t},ah=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oV(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(g){l.has(g)&&(p.schedule(g),t()),g(u)}const p={schedule:(g,v=!1,x=!1)=>{const k=x&&s?n:r;return v&&l.add(g),k.has(g)||k.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),n.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const aV=40;function _C(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ah.reduce((D,B)=>(D[B]=oV(a),D),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:g,update:v,preRender:x,render:T,postRender:k}=l,A=()=>{const D=di.useManualTiming?s.timestamp:performance.now();n=!1,di.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(D-s.timestamp,aV),1)),s.timestamp=D,s.isProcessing=!0,u.process(s),h.process(s),p.process(s),g.process(s),v.process(s),x.process(s),T.process(s),k.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(A))},C=()=>{n=!0,r=!0,s.isProcessing||t(A)};return{schedule:ah.reduce((D,B)=>{const K=l[B];return D[B]=(q,R=!1,I=!1)=>(n||C(),K.schedule(q,R,I)),D},{}),cancel:D=>{for(let B=0;B<ah.length;B++)l[ah[B]].cancel(D)},state:s,steps:l}}const{schedule:ht,cancel:so,state:on,steps:Wm}=_C(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ir,!0);let Ch;function lV(){Ch=void 0}const Kn={now:()=>(Ch===void 0&&Kn.set(on.isProcessing||di.useManualTiming?on.timestamp:performance.now()),Ch),set:t=>{Ch=t,queueMicrotask(lV)}},bC=t=>e=>typeof e=="string"&&e.startsWith(t),Wy=bC("--"),cV=bC("var(--"),qy=t=>cV(t)?uV.test(t.split("/*")[0].trim()):!1,uV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hu={...kl,transform:t=>ui(0,1,t)},lh={...kl,default:1},Wc=t=>Math.round(t*1e5)/1e5,Hy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dV(t){return t==null}const hV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gy=(t,e)=>n=>!!(typeof n=="string"&&hV.test(n)&&n.startsWith(t)||e&&!dV(n)&&Object.prototype.hasOwnProperty.call(n,e)),EC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,u]=r.match(Hy);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},fV=t=>ui(0,255,t),qm={...kl,transform:t=>Math.round(fV(t))},Yo={test:Gy("rgb","red"),parse:EC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qm.transform(t)+", "+qm.transform(e)+", "+qm.transform(n)+", "+Wc(hu.transform(r))+")"};function pV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Wg={test:Gy("#"),parse:pV,transform:Yo.transform},Ou=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fi=Ou("deg"),js=Ou("%"),Ie=Ou("px"),mV=Ou("vh"),gV=Ou("vw"),V_={...js,parse:t=>js.parse(t)/100,transform:t=>js.transform(t*100)},el={test:Gy("hsl","hue"),parse:EC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+js.transform(Wc(e))+", "+js.transform(Wc(n))+", "+Wc(hu.transform(r))+")"},Pt={test:t=>Yo.test(t)||Wg.test(t)||el.test(t),parse:t=>Yo.test(t)?Yo.parse(t):el.test(t)?el.parse(t):Wg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yo.transform(t):el.transform(t),getAnimatableNone:t=>{const e=Pt.parse(t);return e.alpha=0,Pt.transform(e)}},yV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vV(t){return isNaN(t)&&typeof t=="string"&&(t.match(Hy)?.length||0)+(t.match(yV)?.length||0)>0}const TC="number",SC="color",xV="var",wV="var(",O_="${}",_V=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(_V,h=>(Pt.test(h)?(r.color.push(a),s.push(SC),n.push(Pt.parse(h))):h.startsWith(wV)?(r.var.push(a),s.push(xV),n.push(h)):(r.number.push(a),s.push(TC),n.push(parseFloat(h))),++a,O_)).split(O_);return{values:n,split:u,indexes:r,types:s}}function CC(t){return fu(t).values}function IC(t){const{split:e,types:n}=fu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===TC?a+=Wc(s[l]):u===SC?a+=Pt.transform(s[l]):a+=s[l]}return a}}const bV=t=>typeof t=="number"?0:Pt.test(t)?Pt.getAnimatableNone(t):t;function EV(t){const e=CC(t);return IC(t)(e.map(bV))}const io={test:vV,parse:CC,createTransformer:IC,getAnimatableNone:EV};function Hm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=Hm(h,u,t+1/3),a=Hm(h,u,t),l=Hm(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function ef(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,Gm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},SV=[Wg,Yo,el],CV=t=>SV.find(e=>e.test(t));function F_(t){const e=CV(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=TV(n)),n}const U_=(t,e)=>{const n=F_(t),r=F_(e);if(!n||!r)return ef(t,e);const s={...n};return a=>(s.red=Gm(n.red,r.red,a),s.green=Gm(n.green,r.green,a),s.blue=Gm(n.blue,r.blue,a),s.alpha=gt(n.alpha,r.alpha,a),Yo.transform(s))},qg=new Set(["none","hidden"]);function IV(t,e){return qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RV(t,e){return n=>gt(t,e,n)}function Ky(t){return typeof t=="number"?RV:typeof t=="string"?qy(t)?ef:Pt.test(t)?U_:kV:Array.isArray(t)?RC:typeof t=="object"?Pt.test(t)?U_:AV:ef}function RC(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Ky(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function AV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Ky(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function NV(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],u=t.values[l]??0;n[s]=u,r[a]++}return n}const kV=(t,e)=>{const n=io.createTransformer(e),r=fu(t),s=fu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?qg.has(t)&&!s.values.length||qg.has(e)&&!r.values.length?IV(t,e):Mu(RC(NV(r,s),s.values),n):ef(t,e)};function AC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):Ky(t)(t,e)}const PV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>so(e),now:()=>on.isProcessing?on.timestamp:Kn.now()}},NC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tf=2e4;function Qy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tf;)e+=n,r=t.next(e);return e>=tf?1/0:e}function jV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Qy(r),tf);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Sr(s)}}const DV=5;function kC(t,e,n){const r=Math.max(e-DV,0);return uC(n-t(r),e-r)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Km=.001;function LV({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:r=wt.mass}){let s,a,l=1-e;l=ui(wt.minDamping,wt.maxDamping,l),t=ui(wt.minDuration,wt.maxDuration,Sr(t)),l<1?(s=p=>{const g=p*l,v=g*t,x=g-n,T=Hg(p,l),k=Math.exp(-v);return Km-x/T*k},a=p=>{const v=p*l*t,x=v*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,k=Math.exp(-v),A=Hg(Math.pow(p,2),l);return(-s(p)+Km>0?-1:1)*((x-T)*k)/A}):(s=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-Km+g*v},a=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const u=5/t,h=VV(s,a,u);if(t=Ps(t),isNaN(h))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const MV=12;function VV(t,e,n){let r=n;for(let s=1;s<MV;s++)r=r-t(r)/e(r);return r}function Hg(t,e){return t*Math.sqrt(1-e*e)}const OV=["duration","bounce"],FV=["stiffness","damping","mass"];function B_(t,e){return e.some(n=>t[n]!==void 0)}function UV(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!B_(t,FV)&&B_(t,OV))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*ui(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:wt.mass,stiffness:s,damping:a}}else{const n=LV(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function nf(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:p,mass:g,duration:v,velocity:x,isResolvedFromDuration:T}=UV({...n,velocity:-Sr(n.velocity||0)}),k=x||0,A=p/(2*Math.sqrt(h*g)),C=l-a,L=Sr(Math.sqrt(h/g)),P=Math.abs(C)<5;r||(r=P?wt.restSpeed.granular:wt.restSpeed.default),s||(s=P?wt.restDelta.granular:wt.restDelta.default);let D;if(A<1){const K=Hg(L,A);D=q=>{const R=Math.exp(-A*L*q);return l-R*((k+A*L*C)/K*Math.sin(K*q)+C*Math.cos(K*q))}}else if(A===1)D=K=>l-Math.exp(-L*K)*(C+(k+L*C)*K);else{const K=L*Math.sqrt(A*A-1);D=q=>{const R=Math.exp(-A*L*q),I=Math.min(K*q,300);return l-R*((k+A*L*C)*Math.sinh(I)+K*C*Math.cosh(I))/K}}const B={calculatedDuration:T&&v||null,next:K=>{const q=D(K);if(T)u.done=K>=v;else{let R=K===0?k:0;A<1&&(R=K===0?Ps(k):kC(D,K,q));const I=Math.abs(R)<=r,j=Math.abs(l-q)<=s;u.done=I&&j}return u.value=u.done?l:q,u},toString:()=>{const K=Math.min(Qy(B),tf),q=NC(R=>B.next(K*R).value,K,30);return K+"ms "+q},toTransition:()=>{}};return B}nf.applyToOptions=t=>{const e=jV(t,100,nf);return t.ease=e.ease,t.duration=Ps(e.duration),t.type="keyframes",t};function Gg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:p=.5,restSpeed:g}){const v=t[0],x={done:!1,value:v},T=I=>u!==void 0&&I<u||h!==void 0&&I>h,k=I=>u===void 0?h:h===void 0||Math.abs(u-I)<Math.abs(h-I)?u:h;let A=n*e;const C=v+A,L=l===void 0?C:l(C);L!==C&&(A=L-v);const P=I=>-A*Math.exp(-I/r),D=I=>L+P(I),B=I=>{const j=P(I),M=D(I);x.done=Math.abs(j)<=p,x.value=x.done?L:M};let K,q;const R=I=>{T(x.value)&&(K=I,q=nf({keyframes:[x.value,k(x.value)],velocity:kC(D,I,x.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return R(0),{calculatedDuration:null,next:I=>{let j=!1;return!q&&K===void 0&&(j=!0,B(I),R(I)),K!==void 0&&I>=K?q.next(I-K):(!j&&B(I),x)}}}function BV(t,e,n){const r=[],s=n||di.mix||AC,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Ir:e;u=Mu(h,u)}r.push(u)}return r}function zV(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Fy(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=BV(e,r,s),h=u.length,p=g=>{if(l&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const x=du(t[v],t[v+1],g);return u[v](x)};return n?g=>p(ui(t[0],t[a-1],g)):p}function $V(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=du(0,e,r);t.push(gt(n,1,s))}}function WV(t){const e=[0];return $V(e,t.length-1),e}function qV(t,e){return t.map(n=>n*e)}function HV(t,e){return t.map(()=>e||xC).splice(0,t.length-1)}function qc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=rV(r)?r.map(M_):M_(r),a={done:!1,value:e[0]},l=qV(n&&n.length===e.length?n:WV(e),t),u=zV(l,e,{ease:Array.isArray(s)?s:HV(e,s)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const GV=t=>t!==null;function Xy(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(GV),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const KV={decay:Gg,inertia:Gg,tween:qc,keyframes:qc,spring:nf};function PC(t){typeof t.type=="string"&&(t.type=KV[t.type])}class Yy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const QV=t=>t/100;class Jy extends Yy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Kn.now()&&this.tick(Kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PC(e);const{type:n=qc,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=n||qc;h!==qc&&typeof u[0]!="number"&&(this.mixKeyframes=Mu(QV,AC(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Qy(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:x,repeatDelay:T,type:k,onUpdate:A,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?L<0:L>s;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let D=this.currentTime,B=r;if(v){const I=Math.min(this.currentTime,s)/u;let j=Math.floor(I),M=I%1;!M&&I>=1&&(M=1),M===1&&j--,j=Math.min(j,v+1),!!(j%2)&&(x==="reverse"?(M=1-M,T&&(M-=T/u)):x==="mirror"&&(B=l)),D=ui(0,1,M)*u}const K=P?{done:!1,value:g[0]}:B.next(D);a&&(K.value=a(K.value));let{done:q}=K;!P&&h!==null&&(q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return R&&k!==Gg&&(K.value=Xy(g,this.options,C,this.speed)),A&&A(K.value),R&&this.finish(),K}then(e,n){return this.finished.then(e,n)}get duration(){return Sr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Sr(e)}get time(){return Sr(this.currentTime)}set time(e){e=Ps(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Kn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Sr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=PV,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function XV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Jo=t=>t*180/Math.PI,Kg=t=>{const e=Jo(Math.atan2(t[1],t[0]));return Qg(e)},YV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Kg,rotateZ:Kg,skewX:t=>Jo(Math.atan(t[1])),skewY:t=>Jo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Qg=t=>(t=t%360,t<0&&(t+=360),t),z_=Kg,$_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),W_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),JV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$_,scaleY:W_,scale:t=>($_(t)+W_(t))/2,rotateX:t=>Qg(Jo(Math.atan2(t[6],t[5]))),rotateY:t=>Qg(Jo(Math.atan2(-t[2],t[0]))),rotateZ:z_,rotate:z_,skewX:t=>Jo(Math.atan(t[4])),skewY:t=>Jo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Xg(t){return t.includes("scale")?1:0}function Yg(t,e){if(!t||t==="none")return Xg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=JV,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=YV,s=u}if(!s)return Xg(e);const a=r[e],l=s[1].split(",").map(eO);return typeof a=="function"?a(l):l[a]}const ZV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Yg(n,e)};function eO(t){return parseFloat(t.trim())}const Pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(Pl),q_=t=>t===kl||t===Ie,tO=new Set(["x","y","z"]),nO=Pl.filter(t=>!tO.has(t));function rO(t){const e=[];return nO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Yg(e,"x"),y:(t,{transform:e})=>Yg(e,"y")};ta.translateX=ta.x;ta.translateY=ta.y;const na=new Set;let Jg=!1,Zg=!1,e0=!1;function jC(){if(Zg){const t=Array.from(na).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=rO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zg=!1,Jg=!1,na.forEach(t=>t.complete(e0)),na.clear()}function DC(){na.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zg=!0)})}function sO(){e0=!0,DC(),jC(),e0=!1}class Zy{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(na.add(this),Jg||(Jg=!0,ht.read(DC),ht.resolveKeyframes(jC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}XV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),na.delete(this)}cancel(){this.state==="scheduled"&&(na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iO=t=>t.startsWith("--");function oO(t,e,n){iO(e)?t.style.setProperty(e,n):t.style[e]=n}const aO=Uy(()=>window.ScrollTimeline!==void 0),lO={};function cO(t,e){const n=Uy(t);return()=>lO[e]??n()}const LC=cO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,H_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mc([0,.65,.55,1]),circOut:Mc([.55,0,1,.45]),backIn:Mc([.31,.01,.66,-.59]),backOut:Mc([.33,1.53,.69,.99])};function MC(t,e){if(t)return typeof t=="function"?LC()?NC(t,e):"ease-out":wC(t)?Mc(t):Array.isArray(t)?t.map(n=>MC(n,e)||H_.easeOut):H_[t]}function uO(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},p=void 0){const g={[e]:n};h&&(g.offset=h);const v=MC(u,s);Array.isArray(v)&&(g.easing=v);const x={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(g,x)}function VC(t){return typeof t=="function"&&"applyToOptions"in t}function dO({type:t,...e}){return VC(t)&&LC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hO extends Yy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Fy(typeof e.type!="string");const p=dO(e);this.animation=uO(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=Xy(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):oO(n,r,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Sr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Sr(e)}get time(){return Sr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ps(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&aO()?(this.animation.timeline=e,Ir):n(this)}}const OC={anticipate:gC,backInOut:mC,circInOut:vC};function fO(t){return t in OC}function pO(t){typeof t.ease=="string"&&fO(t.ease)&&(t.ease=OC[t.ease])}const G_=10;class mO extends hO{constructor(e){pO(e),PC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Jy({...l,autoplay:!1}),h=Ps(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-G_).value,u.sample(h).value,G_),u.stop()}}const K_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(io.test(t)||t==="0")&&!t.startsWith("url("));function gO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function yO(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=K_(s,e),u=K_(a,e);return!l||!u?!1:gO(t)||(n==="spring"||VC(n))&&r}function t0(t){t.duration=0,t.type="keyframes"}const vO=new Set(["opacity","clipPath","filter","transform"]),xO=Uy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wO(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return xO()&&n&&vO.has(n)&&(n!=="transform"||!p)&&!h&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const _O=40;class bO extends Yy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Kn.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:p,element:g,...v},T=g?.KeyframeResolver||Zy;this.keyframeResolver=new T(u,(k,A,C)=>this.onKeyframesResolved(k,A,x,!C),h,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Kn.now(),yO(e,a,l,u)||((di.instantAnimations||!h)&&g?.(Xy(e,r,n)),e[0]=e[e.length-1],t0(r),r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>_O?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!p&&wO(x)?new mO({...x,element:x.motionValue.owner.current}):new Jy(x);T.finished.then(()=>this.notifyFinished()).catch(Ir),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const EO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TO(t){const e=EO.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function FC(t,e,n=1){const[r,s]=TO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return aC(l)?parseFloat(l):l}return qy(s)?FC(s,e,n+1):s}function ev(t,e){return t?.[e]??t?.default??t}const UC=new Set(["width","height","top","left","right","bottom",...Pl]),SO={test:t=>t==="auto",parse:t=>t},BC=t=>e=>e.test(t),zC=[kl,Ie,js,Fi,gV,mV,SO],Q_=t=>zC.find(BC(t));function CO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cC(t):!0}const IO=new Set(["brightness","contrast","saturate","opacity"]);function RO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Hy)||[];if(!r)return t;const s=n.replace(r,"");let a=IO.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const AO=/\b([a-z-]*)\(.*?\)/gu,n0={...io,getAnimatableNone:t=>{const e=t.match(AO);return e?e.map(RO).join(" "):t}},X_={...kl,transform:Math.round},NO={rotate:Fi,rotateX:Fi,rotateY:Fi,rotateZ:Fi,scale:lh,scaleX:lh,scaleY:lh,scaleZ:lh,skew:Fi,skewX:Fi,skewY:Fi,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:hu,originX:V_,originY:V_,originZ:Ie},tv={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...NO,zIndex:X_,fillOpacity:hu,strokeOpacity:hu,numOctaves:X_},kO={...tv,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:n0,WebkitFilter:n0},$C=t=>kO[t];function WC(t,e){let n=$C(t);return n!==n0&&(n=io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PO=new Set(["auto","none","0"]);function jO(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!PO.has(a)&&fu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=WC(n,s)}class DO extends Zy{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),qy(p))){const g=FC(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!UC.has(r)||e.length!==2)return;const[s,a]=e,l=Q_(s),u=Q_(a);if(l!==u)if(q_(l)&&q_(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else ta[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||CO(e[s]))&&r.push(s);r.length&&jO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=ta[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function LO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const qC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function HC(t){return lC(t)&&"offsetHeight"in t}const Y_=30,MO=t=>!isNaN(parseFloat(t));class VO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Kn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new By);const r=this.events[e].add(n);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Y_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Y_);return uC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(t,e){return new VO(t,e)}const{schedule:nv}=_C(queueMicrotask,!1),Gr={x:!1,y:!1};function GC(){return Gr.x||Gr.y}function OO(t){return t==="x"||t==="y"?Gr[t]?null:(Gr[t]=!0,()=>{Gr[t]=!1}):Gr.x||Gr.y?null:(Gr.x=Gr.y=!0,()=>{Gr.x=Gr.y=!1})}function KC(t,e){const n=LO(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function J_(t){return!(t.pointerType==="touch"||GC())}function FO(t,e,n={}){const[r,s,a]=KC(t,n),l=u=>{if(!J_(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const g=v=>{J_(v)&&(p(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const QC=(t,e)=>e?t===e?!0:QC(t,e.parentElement):!1,rv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BO(t){return UO.has(t.tagName)||t.tabIndex!==-1}const Ih=new WeakSet;function Z_(t){return e=>{e.key==="Enter"&&t(e)}}function Qm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zO=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Z_(()=>{if(Ih.has(n))return;Qm(n,"down");const s=Z_(()=>{Qm(n,"up")}),a=()=>Qm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function eb(t){return rv(t)&&!GC()}function $O(t,e,n={}){const[r,s,a]=KC(t,n),l=u=>{const h=u.currentTarget;if(!eb(u))return;Ih.add(h);const p=e(h,u),g=(T,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Ih.has(h)&&Ih.delete(h),eb(T)&&typeof p=="function"&&p(T,{success:k})},v=T=>{g(T,h===window||h===document||n.useGlobalTarget||QC(h,T.target))},x=T=>{g(T,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),HC(u)&&(u.addEventListener("focus",p=>zO(p,s)),!BO(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function XC(t){return lC(t)&&"ownerSVGElement"in t}function WO(t){return XC(t)&&t.tagName==="svg"}const Tn=t=>!!(t&&t.getVelocity),qO=[...zC,Pt,io],HO=t=>qO.find(BC(t)),sv=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function GO(...t){return e=>{let n=!1;const r=t.map(s=>{const a=tb(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():tb(t[s],null)}}}}function KO(...t){return b.useCallback(GO(...t),t)}class QO extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=HC(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function XO({children:t,isPresent:e,anchorX:n,root:r}){const s=b.useId(),a=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(sv),h=KO(a,t?.ref);return b.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:x,right:T}=l.current;if(e||!a.current||!p||!g)return;const k=n==="left"?`left: ${x}`:`right: ${T}`;a.current.dataset.motionPopId=s;const A=document.createElement("style");u&&(A.nonce=u);const C=r??document.head;return C.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${k}px !important;
            top: ${v}px !important;
          }
        `),()=>{C.contains(A)&&C.removeChild(A)}},[e]),d.jsx(QO,{isPresent:e,childRef:a,sizeRef:l,children:b.cloneElement(t,{ref:h})})}const YO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,root:h})=>{const p=Ly(JO),g=b.useId();let v=!0,x=b.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:T=>{p.set(T,!0);for(const k of p.values())if(!k)return;r&&r()},register:T=>(p.set(T,!1),()=>p.delete(T))}),[n,p,r]);return a&&v&&(x={...x}),b.useMemo(()=>{p.forEach((T,k)=>p.set(k,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=d.jsx(XO,{isPresent:n,anchorX:u,root:h,children:t})),d.jsx(zf.Provider,{value:x,children:t})};function JO(){return new Map}function YC(t=!0){const e=b.useContext(zf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=b.useId();b.useEffect(()=>{if(t)return s(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const ch=t=>t.key||"";function nb(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const Ms=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[p,g]=YC(l),v=b.useMemo(()=>nb(t),[t]),x=l&&!p?[]:v.map(ch),T=b.useRef(!0),k=b.useRef(v),A=Ly(()=>new Map),[C,L]=b.useState(v),[P,D]=b.useState(v);oC(()=>{T.current=!1,k.current=v;for(let q=0;q<P.length;q++){const R=ch(P[q]);x.includes(R)?A.delete(R):A.get(R)!==!0&&A.set(R,!1)}},[P,x.length,x.join("-")]);const B=[];if(v!==C){let q=[...v];for(let R=0;R<P.length;R++){const I=P[R],j=ch(I);x.includes(j)||(q.splice(R,0,I),B.push(I))}return a==="wait"&&B.length&&(q=B),D(nb(q)),L(v),null}const{forceRender:K}=b.useContext(Dy);return d.jsx(d.Fragment,{children:P.map(q=>{const R=ch(q),I=l&&!p?!1:v===P||x.includes(R),j=()=>{if(A.has(R))A.set(R,!0);else return;let M=!0;A.forEach(F=>{F||(M=!1)}),M&&(K?.(),D(k.current),l&&g?.(),r&&r())};return d.jsx(YO,{isPresent:I,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:h,onExitComplete:I?void 0:j,anchorX:u,children:q},R)})})},JC=b.createContext({strict:!1}),rb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const t in rb)wl[t]={isEnabled:e=>rb[t].some(n=>!!e[n])};function ZO(t){for(const e in t)wl[e]={...wl[e],...t[e]}}const eF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eF.has(t)}let ZC=t=>!rf(t);function tF(t){typeof t=="function"&&(ZC=e=>e.startsWith("on")?!rf(e):t(e))}try{tF(require("@emotion/is-prop-valid").default)}catch{}function nF(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(ZC(s)||n===!0&&rf(s)||!e&&!rf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const $f=b.createContext({});function Wf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pu(t){return typeof t=="string"||Array.isArray(t)}const iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ov=["initial",...iv];function qf(t){return Wf(t.animate)||ov.some(e=>pu(t[e]))}function eI(t){return!!(qf(t)||t.variants)}function rF(t,e){if(qf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pu(n)?n:void 0,animate:pu(r)?r:void 0}}return t.inherit!==!1?e:{}}function sF(t){const{initial:e,animate:n}=rF(t,b.useContext($f));return b.useMemo(()=>({initial:e,animate:n}),[sb(e),sb(n)])}function sb(t){return Array.isArray(t)?t.join(" "):t}const mu={};function iF(t){for(const e in t)mu[e]=t[e],Wy(e)&&(mu[e].isCSSVariable=!0)}function tI(t,{layout:e,layoutId:n}){return jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mu[t]||t==="opacity")}const oF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aF=Pl.length;function lF(t,e,n){let r="",s=!0;for(let a=0;a<aF;a++){const l=Pl[a],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const p=qC(u,tv[l]);if(!h){s=!1;const g=oF[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function av(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const h in e){const p=e[h];if(jl.has(h)){l=!0;continue}else if(Wy(h)){s[h]=p;continue}else{const g=qC(p,tv[h]);h.startsWith("origin")?(u=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=lF(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${p} ${g}`}}const lv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nI(t,e,n){for(const r in e)!Tn(e[r])&&!tI(r,n)&&(t[r]=e[r])}function cF({transformTemplate:t},e){return b.useMemo(()=>{const n=lv();return av(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uF(t,e){const n=t.style||{},r={};return nI(r,n,t),Object.assign(r,cF(t,e)),r}function dF(t,e){const n={},r=uF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const hF={offset:"stroke-dashoffset",array:"stroke-dasharray"},fF={offset:"strokeDashoffset",array:"strokeDasharray"};function pF(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?hF:fF;t[a.offset]=Ie.transform(-r);const l=Ie.transform(e),u=Ie.transform(n);t[a.array]=`${l} ${u}`}function rI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,p,g){if(av(t,u,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&pF(v,s,a,l,!1)}const sI=()=>({...lv(),attrs:{}}),iI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mF(t,e,n,r){const s=b.useMemo(()=>{const a=sI();return rI(a,e,iI(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};nI(a,t.style,t),s.style={...a,...s.style}}return s}const gF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cv(t){return typeof t!="string"||t.includes("-")?!1:!!(gF.indexOf(t)>-1||/[A-Z]/u.test(t))}function yF(t,e,n,{latestValues:r},s,a=!1){const u=(cv(t)?mF:dF)(e,r,s,t),h=nF(e,typeof t=="string",a),p=t!==b.Fragment?{...h,...u,ref:n}:{},{children:g}=e,v=b.useMemo(()=>Tn(g)?g.get():g,[g]);return b.createElement(t,{...p,children:v})}function ib(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uv(t,e,n,r){if(typeof e=="function"){const[s,a]=ib(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=ib(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function Rh(t){return Tn(t)?t.get():t}function vF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:xF(n,r,s,t),renderState:e()}}function xF(t,e,n,r){const s={},a=r(t,{});for(const x in a)s[x]=Rh(a[x]);let{initial:l,animate:u}=t;const h=qf(t),p=eI(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!Wf(v)){const x=Array.isArray(v)?v:[v];for(let T=0;T<x.length;T++){const k=uv(t,x[T]);if(k){const{transitionEnd:A,transition:C,...L}=k;for(const P in L){let D=L[P];if(Array.isArray(D)){const B=g?D.length-1:0;D=D[B]}D!==null&&(s[P]=D)}for(const P in A)s[P]=A[P]}}}return s}const oI=t=>(e,n)=>{const r=b.useContext($f),s=b.useContext(zf),a=()=>vF(t,e,r,s);return n?a():Ly(a)};function dv(t,e,n){const{style:r}=t,s={};for(const a in r)(Tn(r[a])||e.style&&Tn(e.style[a])||tI(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const wF=oI({scrapeMotionValuesFromProps:dv,createRenderState:lv});function aI(t,e,n){const r=dv(t,e,n);for(const s in t)if(Tn(t[s])||Tn(e[s])){const a=Pl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const _F=oI({scrapeMotionValuesFromProps:aI,createRenderState:sI}),bF=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EF(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tl(n)&&(n.current=r))},[e])}const hv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TF="framerAppearId",lI="data-"+hv(TF),cI=b.createContext({});function SF(t,e,n,r,s){const{visualElement:a}=b.useContext($f),l=b.useContext(JC),u=b.useContext(zf),h=b.useContext(sv).reducedMotion,p=b.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=p.current,v=b.useContext(cI);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&CF(p.current,n,s,v);const x=b.useRef(!1);b.useInsertionEffect(()=>{g&&x.current&&g.update(n,u)});const T=n[lI],k=b.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return oC(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),k.current=!1),g.enteringChildren=void 0)}),g}function CF(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:uI(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&tl(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:p})}function uI(t){if(t)return t.options.allowProjection!==!1?t.projection:uI(t.parent)}function Xm(t,{forwardMotionProps:e=!1}={},n,r){n&&ZO(n);const s=cv(t)?_F:wF;function a(u,h){let p;const g={...b.useContext(sv),...u,layoutId:IF(u)},{isStatic:v}=g,x=sF(u),T=s(u,v);if(!v&&My){RF();const k=AF(g);p=k.MeasureLayout,x.visualElement=SF(t,T,g,r,k.ProjectionNode)}return d.jsxs($f.Provider,{value:x,children:[p&&x.visualElement?d.jsx(p,{visualElement:x.visualElement,...g}):null,yF(t,u,EF(T,x.visualElement,h),T,v,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[bF]=t,l}function IF({layoutId:t}){const e=b.useContext(Dy).id;return e&&t!==void 0?e+"-"+t:t}function RF(t,e){b.useContext(JC).strict}function AF(t){const{drag:e,layout:n}=wl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function NF(t,e){if(typeof Proxy>"u")return Xm;const n=new Map,r=(a,l)=>Xm(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Xm(l,void 0,t,e)),n.get(l))})}function dI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function kF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ym(t){return t===void 0||t===1}function r0({scale:t,scaleX:e,scaleY:n}){return!Ym(t)||!Ym(e)||!Ym(n)}function Go(t){return r0(t)||hI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hI(t){return ob(t.x)||ob(t.y)}function ob(t){return t&&t!=="0%"}function sf(t,e,n){const r=t-n,s=e*r;return n+s}function ab(t,e,n,r,s){return s!==void 0&&(t=sf(t,s,r)),sf(t,n,r)+e}function s0(t,e=0,n=1,r,s){t.min=ab(t.min,e,n,r,s),t.max=ab(t.max,e,n,r,s)}function fI(t,{x:e,y:n}){s0(t.x,e.translate,e.scale,e.originPoint),s0(t.y,n.translate,n.scale,n.originPoint)}const lb=.999999999999,cb=1.0000000000001;function jF(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&rl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,fI(t,l)),r&&Go(a.latestValues)&&rl(t,a.latestValues))}e.x<cb&&e.x>lb&&(e.x=1),e.y<cb&&e.y>lb&&(e.y=1)}function nl(t,e){t.min=t.min+e,t.max=t.max+e}function ub(t,e,n,r,s=.5){const a=gt(t.min,t.max,s);s0(t,e,n,a,r)}function rl(t,e){ub(t.x,e.x,e.scaleX,e.scale,e.originX),ub(t.y,e.y,e.scaleY,e.scale,e.originY)}function pI(t,e){return dI(PF(t.getBoundingClientRect(),e))}function DF(t,e,n){const r=pI(t,n),{scroll:s}=e;return s&&(nl(r.x,s.offset.x),nl(r.y,s.offset.y)),r}const db=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:db(),y:db()}),hb=()=>({min:0,max:0}),Ct=()=>({x:hb(),y:hb()}),i0={current:null},mI={current:!1};function LF(){if(mI.current=!0,!!My)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>i0.current=t.matches;t.addEventListener("change",e),e()}else i0.current=!1}const MF=new WeakMap;function VF(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Tn(s))t.addValue(r,s);else if(Tn(a))t.addValue(r,xl(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,xl(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Kn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ht.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=qf(n),this.isVariantNode=eI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const T=v[x];h[x]!==void 0&&Tn(T)&&T.set(h[x])}}mount(e){this.current=e,MF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),mI.current||LF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:i0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wl){const n=wl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fb.length;r++){const s=fb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=VF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(aC(r)||cC(r))?r=parseFloat(r):!HO(r)&&io.test(n)&&(r=WC(e,n)),this.setBaseTarget(e,Tn(r)?r.get():r)),Tn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=uv(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Tn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new By),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){nv.render(this.render)}}class gI extends OF{constructor(){super(...arguments),this.KeyframeResolver=DO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yI(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function FF(t){return window.getComputedStyle(t)}class UF extends gI{constructor(){super(...arguments),this.type="html",this.renderInstance=yI}readValueFromInstance(e,n){if(jl.has(n))return this.projection?.isProjecting?Xg(n):ZV(e,n);{const r=FF(e),s=(Wy(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pI(e,n)}build(e,n,r){av(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return dv(e,n,r)}}const vI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BF(t,e,n,r){yI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(vI.has(s)?s:hv(s),e.attrs[s])}class zF extends gI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jl.has(n)){const r=$C(n);return r&&r.default||0}return n=vI.has(n)?n:hv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return aI(e,n,r)}build(e,n,r){rI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){BF(e,n,r,s)}mount(e){this.isSVGTag=iI(e.tagName),super.mount(e)}}const $F=(t,e)=>cv(t)?new zF(e):new UF(e,{allowProjection:t!==b.Fragment});function dl(t,e,n){const r=t.getProps();return uv(r,e,n!==void 0?n:r.custom,t)}const o0=t=>Array.isArray(t);function WF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xl(n))}function qF(t){return o0(t)?t[t.length-1]||0:t}function HF(t,e){const n=dl(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const u=qF(a[l]);WF(t,l,u)}}function GF(t){return!!(Tn(t)&&t.add)}function a0(t,e){const n=t.getValue("willChange");if(GF(n))return n.add(e);if(!n&&di.WillChange){const r=new di.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function xI(t){return t.props[lI]}const KF=t=>t!==null;function QF(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(KF),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const XF={type:"spring",stiffness:500,damping:25,restSpeed:10},YF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JF={type:"keyframes",duration:.8},ZF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e9=(t,{keyframes:e})=>e.length>2?JF:jl.has(t)?t.startsWith("scale")?YF(e[1]):XF:ZF;function t9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const fv=(t,e,n,r={},s,a)=>l=>{const u=ev(r,t)||{},h=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ps(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};t9(u)||Object.assign(g,e9(t,g)),g.duration&&(g.duration=Ps(g.duration)),g.repeatDelay&&(g.repeatDelay=Ps(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(t0(g),g.delay===0&&(v=!0)),(di.instantAnimations||di.skipAnimations)&&(v=!0,t0(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const x=QF(g.keyframes,u);if(x!==void 0){ht.update(()=>{g.onUpdate(x),g.onComplete()});return}}return u.isSync?new Jy(g):new bO(g)};function n9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function wI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const h=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const v=t.getValue(g,t.latestValues[g]??null),x=u[g];if(x===void 0||p&&n9(p,g))continue;const T={delay:n,...ev(a||{},g)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===k&&!T.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const L=xI(t);if(L){const P=window.MotionHandoffAnimation(L,g,ht);P!==null&&(T.startTime=P,A=!0)}}a0(t,g),v.start(fv(g,v,x,t.shouldReduceMotion&&UC.has(g)?{type:!1}:T,t,A));const C=v.animation;C&&h.push(C)}return l&&Promise.all(h).then(()=>{ht.update(()=>{l&&HF(t,l)})}),h}function _I(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:u-a*r}function l0(t,e,n={}){const r=dl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(wI(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return r9(t,e,h,p,g,v,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,p]=u==="beforeChildren"?[a,l]:[l,a];return h().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function r9(t,e,n=0,r=0,s=0,a=1,l){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(l0(h,e,{...l,delay:n+(typeof r=="function"?0:r)+_I(t.variantChildren,h,r,s,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function s9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>l0(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=l0(t,e,n);else{const s=typeof e=="function"?dl(t,e,n.custom):e;r=Promise.all(wI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function bI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const i9=ov.length;function EI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?EI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<i9;n++){const r=ov[n],s=t.props[r];(pu(s)||s===!1)&&(e[r]=s)}return e}const o9=[...iv].reverse(),a9=iv.length;function l9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>s9(t,n,r)))}function c9(t){let e=l9(t),n=pb(),r=!0;const s=h=>(p,g)=>{const v=dl(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:T,...k}=v;p={...p,...k,...T}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,g=EI(t.parent)||{},v=[],x=new Set;let T={},k=1/0;for(let C=0;C<a9;C++){const L=o9[C],P=n[L],D=p[L]!==void 0?p[L]:g[L],B=pu(D),K=L===h?P.isActive:null;K===!1&&(k=C);let q=D===g[L]&&D!==p[L]&&B;if(q&&r&&t.manuallyAnimateOnMount&&(q=!1),P.protectedKeys={...T},!P.isActive&&K===null||!D&&!P.prevProp||Wf(D)||typeof D=="boolean")continue;const R=u9(P.prevProp,D);let I=R||L===h&&P.isActive&&!q&&B||C>k&&B,j=!1;const M=Array.isArray(D)?D:[D];let F=M.reduce(s(L),{});K===!1&&(F={});const{prevResolvedValues:$={}}=P,V={...$,...F},Le=se=>{I=!0,x.has(se)&&(j=!0,x.delete(se)),P.needsAnimating[se]=!0;const ee=t.getValue(se);ee&&(ee.liveStyle=!1)};for(const se in V){const ee=F[se],ce=$[se];if(T.hasOwnProperty(se))continue;let ae=!1;o0(ee)&&o0(ce)?ae=!bI(ee,ce):ae=ee!==ce,ae?ee!=null?Le(se):x.add(se):ee!==void 0&&x.has(se)?Le(se):P.protectedKeys[se]=!0}P.prevProp=D,P.prevResolvedValues=F,P.isActive&&(T={...T,...F}),r&&t.blockInitialAnimation&&(I=!1);const et=q&&R;I&&(!et||j)&&v.push(...M.map(se=>{const ee={type:L};if(typeof se=="string"&&r&&!et&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,ae=dl(ce,se);if(ce.enteringChildren&&ae){const{delayChildren:W}=ae.transition||{};ee.delay=_I(ce.enteringChildren,t,W)}}return{animation:se,options:ee}}))}if(x.size){const C={};if(typeof p.initial!="boolean"){const L=dl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(C.transition=L.transition)}x.forEach(L=>{const P=t.getBaseTarget(L),D=t.getValue(L);D&&(D.liveStyle=!0),C[L]=P??null}),v.push({animation:C})}let A=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function u(h,p){if(n[h].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,p)),n[h].isActive=p;const g=l(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=pb()}}}function u9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bI(e,t):!1}function Wo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pb(){return{animate:Wo(!0),whileInView:Wo(),whileHover:Wo(),whileTap:Wo(),whileDrag:Wo(),whileFocus:Wo(),exit:Wo()}}class go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class d9 extends go{constructor(e){super(e),e.animationState||(e.animationState=c9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let h9=0;class f9 extends go{constructor(){super(...arguments),this.id=h9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const p9={animation:{Feature:d9},exit:{Feature:f9}};function gu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Fu(t){return{point:{x:t.pageX,y:t.pageY}}}const m9=t=>e=>rv(e)&&t(e,Fu(e));function Hc(t,e,n,r){return gu(t,e,m9(n),r)}const TI=1e-4,g9=1-TI,y9=1+TI,SI=.01,v9=0-SI,x9=0+SI;function Dn(t){return t.max-t.min}function w9(t,e,n){return Math.abs(t-e)<=n}function mb(t,e,n,r=.5){t.origin=r,t.originPoint=gt(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=g9&&t.scale<=y9||isNaN(t.scale))&&(t.scale=1),(t.translate>=v9&&t.translate<=x9||isNaN(t.translate))&&(t.translate=0)}function Gc(t,e,n,r){mb(t.x,e.x,n.x,r?r.originX:void 0),mb(t.y,e.y,n.y,r?r.originY:void 0)}function gb(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function _9(t,e,n){gb(t.x,e.x,n.x),gb(t.y,e.y,n.y)}function yb(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function Kc(t,e,n){yb(t.x,e.x,n.x),yb(t.y,e.y,n.y)}function _r(t){return[t("x"),t("y")]}const CI=({current:t})=>t?t.ownerDocument.defaultView:null,vb=(t,e)=>Math.abs(t-e);function b9(t,e){const n=vb(t.x,e.x),r=vb(t.y,e.y);return Math.sqrt(n**2+r**2)}class II{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Zm(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,k=b9(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!k)return;const{point:A}=x,{timestamp:C}=on;this.history.push({...A,timestamp:C});const{onStart:L,onMove:P}=this.handlers;T||(L&&L(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,x)},this.handlePointerMove=(x,T)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Jm(T,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(x,T)=>{this.end();const{onEnd:k,onSessionEnd:A,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Zm(x.type==="pointercancel"?this.lastMoveEventInfo:Jm(T,this.transformPagePoint),this.history);this.startEvent&&k&&k(x,L),A&&A(x,L)},!rv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const u=Fu(e),h=Jm(u,this.transformPagePoint),{point:p}=h,{timestamp:g}=on;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,Zm(h,this.history)),this.removeListeners=Mu(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),so(this.updatePoint)}}function Jm(t,e){return e?{point:e(t.point)}:t}function xb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zm({point:t},e){return{point:t,delta:xb(t,RI(e)),offset:xb(t,E9(e)),velocity:T9(e,.1)}}function E9(t){return t[0]}function RI(t){return t[t.length-1]}function T9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=RI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const a=Sr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function S9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?gt(n,t,r.max):Math.min(t,n)),t}function wb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function C9(t,{top:e,left:n,bottom:r,right:s}){return{x:wb(t.x,n,s),y:wb(t.y,e,r)}}function _b(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function I9(t,e){return{x:_b(t.x,e.x),y:_b(t.y,e.y)}}function R9(t,e){let n=.5;const r=Dn(t),s=Dn(e);return s>r?n=du(e.min,e.max-r,t.min):r>s&&(n=du(t.min,t.max-s,e.min)),ui(0,1,n)}function A9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const c0=.35;function N9(t=c0){return t===!1?t=0:t===!0&&(t=c0),{x:bb(t,"left","right"),y:bb(t,"top","bottom")}}function bb(t,e,n){return{min:Eb(t,e),max:Eb(t,n)}}function Eb(t,e){return typeof t=="number"?t:t[e]||0}const k9=new WeakMap;class P9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fu(v).point)},l=(v,x)=>{const{drag:T,dragPropagation:k,onDragStart:A}=this.getProps();if(T&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OO(T),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_r(L=>{let P=this.getAxisMotionValue(L).get()||0;if(js.test(P)){const{projection:D}=this.visualElement;if(D&&D.layout){const B=D.layout.layoutBox[L];B&&(P=Dn(B)*(parseFloat(P)/100))}}this.originPoint[L]=P}),A&&ht.postRender(()=>A(v,x)),a0(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:T,dragDirectionLock:k,onDirectionLock:A,onDrag:C}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:L}=x;if(k&&this.currentDirection===null){this.currentDirection=j9(L),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",x.point,L),this.updateAxis("y",x.point,L),this.visualElement.render(),C&&C(v,x)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>_r(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new II(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:CI(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&ht.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!uh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=S9(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=C9(r.layoutBox,e):this.constraints=!1,this.elastic=N9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_r(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=A9(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=DF(r,s.root,this.visualElement.getTransformPagePoint());let l=I9(s.layout.layoutBox,a);if(n){const u=n(kF(l));this.hasMutatedConstraints=!!u,u&&(l=dI(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=_r(g=>{if(!uh(g,n,this.currentDirection))return;let v=h&&h[g]||{};l&&(v={min:0,max:0});const x=s?200:1e6,T=s?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return a0(this.visualElement,e),r.start(fv(e,r,0,n,this.visualElement,!1))}stopAnimation(){_r(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_r(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_r(n=>{const{drag:r}=this.getProps();if(!uh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];a.set(e[n]-gt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_r(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=R9({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_r(l=>{if(!uh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];u.set(gt(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;k9.set(this.visualElement,this);const e=this.visualElement.current,n=Hc(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();tl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ht.read(r);const l=gu(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(_r(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=c0,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function uh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function j9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class D9 extends go{constructor(e){super(e),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new P9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tb=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class L9 extends go{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(e){this.session=new II(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Tb(e),onStart:Tb(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ht.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ic={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=Sb(t,e.target.x),r=Sb(t,e.target.y);return`${n}% ${r}%`}},M9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=io.parse(t);if(s.length>5)return r;const a=io.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=h;const p=gt(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};let eg=!1;class V9 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;iF(O9),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),eg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,eg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ht.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),nv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;eg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AI(t){const[e,n]=YC(),r=b.useContext(Dy);return d.jsx(V9,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(cI),isPresent:e,safeToRemove:n})}const O9={borderRadius:{...Ic,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ic,borderTopRightRadius:Ic,borderBottomLeftRadius:Ic,borderBottomRightRadius:Ic,boxShadow:M9};function F9(t,e,n){const r=Tn(t)?t:xl(t);return r.start(fv("",r,e,n)),r.animation}const U9=(t,e)=>t.depth-e.depth;class B9{constructor(){this.children=[],this.isDirty=!1}add(e){Vy(this.children,e),this.isDirty=!0}remove(e){Oy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(U9),this.isDirty=!1,this.children.forEach(e)}}function z9(t,e){const n=Kn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(so(r),t(a-e))};return ht.setup(r,!0),()=>so(r)}const NI=["TopLeft","TopRight","BottomLeft","BottomRight"],$9=NI.length,Cb=t=>typeof t=="string"?parseFloat(t):t,Ib=t=>typeof t=="number"||Ie.test(t);function W9(t,e,n,r,s,a){s?(t.opacity=gt(0,n.opacity??1,q9(r)),t.opacityExit=gt(e.opacity??1,0,H9(r))):a&&(t.opacity=gt(e.opacity??1,n.opacity??1,r));for(let l=0;l<$9;l++){const u=`border${NI[l]}Radius`;let h=Rb(e,u),p=Rb(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Ib(h)===Ib(p)?(t[u]=Math.max(gt(Cb(h),Cb(p),r),0),(js.test(p)||js.test(h))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,r))}function Rb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const q9=kI(0,.5,yC),H9=kI(.5,.95,Ir);function kI(t,e,n){return r=>r<t?0:r>e?1:n(du(t,e,r))}function Ab(t,e){t.min=e.min,t.max=e.max}function xr(t,e){Ab(t.x,e.x),Ab(t.y,e.y)}function Nb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kb(t,e,n,r,s){return t-=e,t=sf(t,1/n,r),s!==void 0&&(t=sf(t,1/s,r)),t}function G9(t,e=0,n=1,r=.5,s,a=t,l=t){if(js.test(e)&&(e=parseFloat(e),e=gt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=gt(a.min,a.max,r);t===a&&(u-=e),t.min=kb(t.min,e,n,u,s),t.max=kb(t.max,e,n,u,s)}function Pb(t,e,[n,r,s],a,l){G9(t,e[n],e[r],e[s],e.scale,a,l)}const K9=["x","scaleX","originX"],Q9=["y","scaleY","originY"];function jb(t,e,n,r){Pb(t.x,e,K9,n?n.x:void 0,r?r.x:void 0),Pb(t.y,e,Q9,n?n.y:void 0,r?r.y:void 0)}function Db(t){return t.translate===0&&t.scale===1}function PI(t){return Db(t.x)&&Db(t.y)}function Lb(t,e){return t.min===e.min&&t.max===e.max}function X9(t,e){return Lb(t.x,e.x)&&Lb(t.y,e.y)}function Mb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jI(t,e){return Mb(t.x,e.x)&&Mb(t.y,e.y)}function Vb(t){return Dn(t.x)/Dn(t.y)}function Ob(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Y9{constructor(){this.members=[]}add(e){Vy(this.members,e),e.scheduleRender()}remove(e){if(Oy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J9(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:x,skewX:T,skewY:k}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),T&&(r+=`skewX(${T}deg) `),k&&(r+=`skewY(${k}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const tg=["","X","Y","Z"],Z9=1e3;let e7=0;function ng(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DI(r)}function LI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=e7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(r7),this.nodes.forEach(a7),this.nodes.forEach(l7),this.nodes.forEach(s7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new B9)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new By),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=XC(l)&&!WO(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let g,v=0;const x=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{v=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,g&&g(),g=z9(x,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(Bb)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||f7,{onLayoutAnimationStart:A,onLayoutAnimationComplete:C}=p.getProps(),L=!this.targetLayout||!jI(this.targetLayout,T),P=!v&&x;if(this.options.layoutRoot||this.resumeFrom||P||v&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...ev(k,"layout"),onPlay:A,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(g,P)}else v||Bb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c7),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ub);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o7),this.nodes.forEach(t7),this.nodes.forEach(n7)):this.nodes.forEach(Ub),this.clearAllSnapshots();const u=Kn.now();on.delta=ui(0,1e3/60,u-on.timestamp),on.timestamp=u,on.isProcessing=!0,Wm.update.process(on),Wm.preRender.process(on),Wm.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i7),this.sharedNodes.forEach(u7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!PI(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||Go(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),p7(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ct();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(m7))){const{scroll:p}=this.root;p&&(nl(u.x,p.offset.x),nl(u.y,p.offset.y))}return u}removeElementScroll(l){const u=Ct();if(xr(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&xr(u,l),nl(u.x,g.offset.x),nl(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const h=Ct();xr(h,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&rl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Go(g.latestValues)&&rl(h,g.latestValues)}return Go(this.latestValues)&&rl(h,this.latestValues),h}removeTransform(l){const u=Ct();xr(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Go(p.latestValues))continue;r0(p.latestValues)&&p.updateSnapshot();const g=Ct(),v=p.measurePageBox();xr(g,v),jb(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Go(this.latestValues)&&jb(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Kc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xr(this.target,this.layout.layoutBox),fI(this.target,this.targetDelta)):xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Kc(this.relativeTargetOrigin,this.target,x.target),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||r0(this.parent.latestValues)||hI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===on.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;xr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;jF(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ct());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nb(this.prevProjectionDelta.x,this.projectionDelta.x),Nb(this.prevProjectionDelta.y,this.projectionDelta.y)),Gc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!Ob(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ob(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sl(),this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},v=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Ct(),T=h?h.source:void 0,k=this.layout?this.layout.source:void 0,A=T!==k,C=this.getStack(),L=!C||C.members.length<=1,P=!!(A&&!L&&this.options.crossfade===!0&&!this.path.some(h7));this.animationProgress=0;let D;this.mixTargetDelta=B=>{const K=B/1e3;zb(v.x,l.x,K),zb(v.y,l.y,K),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d7(this.relativeTarget,this.relativeTargetOrigin,x,K),D&&X9(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Ct()),xr(D,this.relativeTarget)),A&&(this.animationValues=g,W9(g,p,this.latestValues,K,P,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Ah.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xl(0)),this.currentAnimation=F9(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Z9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:g}=l;if(!(!u||!h||!p)){if(this!==l&&this.layout&&p&&MI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Ct();const v=Dn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const x=Dn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}xr(u,h),rl(u,g),Gc(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Y9),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&ng("z",l,p,this.animationValues);for(let g=0;g<tg.length;g++)ng(`rotate${tg[g]}`,l,p,this.animationValues),ng(`skew${tg[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Rh(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Rh(u?.pointerEvents)||""),this.hasProjected&&!Go(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=J9(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),l.transform=v;const{x,y:T}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${T.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in mu){if(g[k]===void 0)continue;const{correct:A,applyTo:C,isCSSVariable:L}=mu[k],P=v==="none"?g[k]:A(g[k],p);if(C){const D=C.length;for(let B=0;B<D;B++)l[C[B]]=P}else L?this.options.visualElement.renderState.vars[k]=P:l[k]=P}this.options.layoutId&&(l.pointerEvents=p===this?Rh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Fb),this.root.sharedNodes.clear()}}}function t7(t){t.updateLayout()}function n7(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?_r(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],x=Dn(v);v.min=n[g].min,v.max=v.min+x}):MI(s,e.layoutBox,n)&&_r(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],x=Dn(n[g]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const l=sl();Gc(l,n,e.layoutBox);const u=sl();a?Gc(u,t.applyTransform(r,!0),e.measuredBox):Gc(u,n,e.layoutBox);const h=!PI(l);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const T=Ct();Kc(T,e.layoutBox,v.layoutBox);const k=Ct();Kc(k,n,x.layoutBox),jI(T,k)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function r7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function i7(t){t.clearSnapshot()}function Fb(t){t.clearMeasurements()}function Ub(t){t.isLayoutDirty=!1}function o7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function a7(t){t.resolveTargetDelta()}function l7(t){t.calcProjection()}function c7(t){t.resetSkewAndRotation()}function u7(t){t.removeLeadSnapshot()}function zb(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $b(t,e,n,r){t.min=gt(e.min,n.min,r),t.max=gt(e.max,n.max,r)}function d7(t,e,n,r){$b(t.x,e.x,n.x,r),$b(t.y,e.y,n.y,r)}function h7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const f7={duration:.45,ease:[.4,0,.1,1]},Wb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qb=Wb("applewebkit/")&&!Wb("chrome/")?Math.round:Ir;function Hb(t){t.min=qb(t.min),t.max=qb(t.max)}function p7(t){Hb(t.x),Hb(t.y)}function MI(t,e,n){return t==="position"||t==="preserve-aspect"&&!w9(Vb(e),Vb(n),.2)}function m7(t){return t!==t.root&&t.scroll?.wasRoot}const g7=LI({attachResizeListener:(t,e)=>gu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rg={current:void 0},VI=LI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rg.current){const t=new g7({});t.mount(window),t.setOptions({layoutScroll:!0}),rg.current=t}return rg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),y7={pan:{Feature:L9},drag:{Feature:D9,ProjectionNode:VI,MeasureLayout:AI}};function Gb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&ht.postRender(()=>a(e,Fu(e)))}class v7 extends go{mount(){const{current:e}=this.node;e&&(this.unmount=FO(e,(n,r)=>(Gb(this.node,r,"Start"),s=>Gb(this.node,s,"End"))))}unmount(){}}class x7 extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mu(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&ht.postRender(()=>a(e,Fu(e)))}class w7 extends go{mount(){const{current:e}=this.node;e&&(this.unmount=$O(e,(n,r)=>(Kb(this.node,r,"Start"),(s,{success:a})=>Kb(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u0=new WeakMap,sg=new WeakMap,_7=t=>{const e=u0.get(t.target);e&&e(t)},b7=t=>{t.forEach(_7)};function E7({root:t,...e}){const n=t||document;sg.has(n)||sg.set(n,{});const r=sg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(b7,{root:t,...e})),r[s]}function T7(t,e,n){const r=E7(e);return u0.set(t,n),r.observe(t),()=>{u0.delete(t),r.unobserve(t)}}const S7={some:0,all:1};class C7 extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:S7[s]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=p?g:v;x&&x(h)};return T7(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(I7(e,n))&&this.startObserver()}unmount(){}}function I7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const R7={inView:{Feature:C7},tap:{Feature:w7},focus:{Feature:x7},hover:{Feature:v7}},A7={layout:{ProjectionNode:VI,MeasureLayout:AI}},N7={...p9,...R7,...y7,...A7},we=NF(N7,$F),pv=({isOpen:t,onClose:e,initialView:n="login"})=>{const[r,s]=b.useState(n==="login"),[a,l]=b.useState(""),[u,h]=b.useState(""),[p,g]=b.useState(!1),[v,x]=b.useState(""),[T,k]=b.useState(""),A=async L=>{L.preventDefault(),g(!0),x(""),k("");try{r?(await GE(Ke,a,u),e()):(await HE(Ke,a,u),k("Account created successfully! You can now sign in."),s(!0))}catch(P){P instanceof Error?x(P.message):x("An unexpected error occurred")}finally{g(!1)}},C=async()=>{try{await sT(Ke,iC),e()}catch(L){L instanceof Error?x(L.message):x("An unexpected error occurred")}};return d.jsx(Ms,{children:t&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[d.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),d.jsx(we.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:d.jsxs("div",{className:"p-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:r?"Welcome Back":"Join CollabX"}),d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("button",{type:"button",onClick:C,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),d.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[d.jsx("div",{className:"border-t border-gray-200 w-full"}),d.jsx("span",{className:"bg-white px-3 text-sm text-gray-400 font-medium absolute",children:"OR"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",required:!0,value:a,onChange:L=>l(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",required:!0,value:u,onChange:L=>h(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",minLength:6})]}),v&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:v}),T&&d.jsx("p",{className:"text-green-500 text-sm text-center",children:T}),d.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:p?"Processing...":r?"Sign In":"Sign Up"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",d.jsx("button",{onClick:()=>s(!r),className:"text-blue-600 font-medium hover:underline",children:r?"Sign Up":"Sign In"})]})})]})})]})})};function k7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const OI=b.forwardRef(k7);function P7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const j7=b.forwardRef(P7);function D7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"}))}const L7=b.forwardRef(D7);function M7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const V7=b.forwardRef(M7);function O7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const F7=b.forwardRef(O7);function U7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const FI=b.forwardRef(U7);function B7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const z7=b.forwardRef(B7);function $7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const of=b.forwardRef($7);function W7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const UI=b.forwardRef(W7);function q7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const H7=b.forwardRef(q7);function G7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const K7=b.forwardRef(G7);function Q7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const X7=b.forwardRef(Q7);function Y7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const J7=b.forwardRef(Y7);function Z7({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const e8=b.forwardRef(Z7);function t8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const n8=b.forwardRef(t8);function r8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const s8=b.forwardRef(r8);function i8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const o8=b.forwardRef(i8);function a8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const l8=b.forwardRef(a8);function c8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const u8=b.forwardRef(c8);function d8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const h8=b.forwardRef(d8);function f8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const p8=b.forwardRef(f8);function m8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const g8=b.forwardRef(m8);function y8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Uu=b.forwardRef(y8);function v8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const Nh=b.forwardRef(v8);function x8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const w8=b.forwardRef(x8);function _8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const b8=b.forwardRef(_8);function E8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const BI=b.forwardRef(E8);function T8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const S8=b.forwardRef(T8);function C8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const I8=b.forwardRef(C8);function R8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const zI=b.forwardRef(R8);function A8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const N8=b.forwardRef(A8);function k8({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const P8=b.forwardRef(k8),$I=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,a]=b.useState(null),[l,u]=b.useState(""),h=ts();b.useEffect(()=>{const x=fa(Ke,T=>{a(T)});return()=>x()},[]);const p=async()=>{try{await sj(Ke)}catch(x){console.error("Error signing out:",x)}},g=[{name:"Home",path:"/",icon:g8},{name:"Projects",path:"/projects",icon:of},{name:"Students",path:"/students",icon:N8},{name:"Resources",path:"/resources",icon:FI},{name:"Roadmaps",path:"/roadmaps",icon:Nh}],v=x=>h.pathname===x;return d.jsxs(d.Fragment,{children:[d.jsx("nav",{className:"fixed top-0 left-0 w-full h-16 bg-white border-b border-gray-200 z-50 transition-all duration-300",children:d.jsxs("div",{className:"max-w-7xl mx-auto h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-md",children:[d.jsxs(Er,{to:"/",className:"shrink-0 flex items-center gap-1",children:[d.jsx("div",{className:"w-8 h-8 bg-[#0066FF] rounded-md flex items-center justify-center font-black text-white text-lg",children:"C"}),d.jsx("span",{className:"text-xl font-black text-[#0066FF] tracking-tighter hidden sm:block",children:"CollabX"})]}),d.jsxs("div",{className:"relative flex-1 hidden md:block ml-4",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Uu,{className:"h-4 w-4 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search",value:l,onChange:x=>u(x.target.value),className:"block w-full pl-9 pr-3 py-1.5 bg-[#edf3f8] border-transparent rounded-md text-sm transition-all focus:bg-white focus:ring-1 focus:ring-gray-300 focus:w-full border"})]})]}),d.jsxs("div",{className:"hidden lg:flex items-center h-full ml-auto",children:[g.map(x=>d.jsxs(Er,{to:x.path,className:`flex flex-col items-center justify-center w-20 h-full border-b-2 transition-all group ${v(x.path)?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-900"}`,children:[d.jsx(x.icon,{className:`h-6 w-6 ${v(x.path)?"text-gray-900":"text-gray-500 group-hover:text-gray-900"}`}),d.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:x.name})]},x.name)),d.jsx("div",{className:"h-8 w-[1px] bg-gray-200 mx-2"}),d.jsxs(Er,{to:"/messaging",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[d.jsx(H7,{className:"h-6 w-6"}),d.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Messaging"}),d.jsx("span",{className:"absolute top-2 right-6 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:"2"})]}),d.jsxs(Er,{to:"/notifications",className:"flex flex-col items-center justify-center w-20 h-full text-gray-500 hover:text-gray-900 transition-all relative",children:[d.jsx(F7,{className:"h-6 w-6"}),d.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:"Notifications"}),d.jsx("span",{className:"absolute top-2 right-5 w-4 h-4 bg-red-500 rounded-full text-[10px] text-white flex items-center justify-center font-bold",children:"5"})]}),s?d.jsxs("div",{className:"relative group ml-4",children:[d.jsxs("button",{className:"flex flex-col items-center justify-center w-16 h-full text-gray-500 hover:text-gray-900 transition-all",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-xs font-bold text-[#0066FF]",children:s.displayName?.[0]||s.email?.[0]||"U"}),d.jsx("span",{className:"text-[10px] mt-0.5 font-medium flex items-center gap-0.5",children:"Me"})]}),d.jsxs("div",{className:"absolute right-0 top-16 w-64 bg-white border border-gray-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all py-2 z-50",children:[d.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-lg font-bold text-[#0066FF]",children:s.displayName?.[0]||s.email?.[0]||"U"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.displayName||"Contributor"}),d.jsx("span",{className:"text-xs text-gray-500 line-clamp-1",children:s.email})]})]}),d.jsx(Er,{to:"/profile",className:"mt-3 block w-full text-center py-1 border border-[#0066FF] text-[#0066FF] rounded-full text-sm font-bold hover:bg-blue-50 transition-all",children:"View Profile"})]}),d.jsx("button",{onClick:p,className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-100",children:"Sign Out"})]})]}):d.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[d.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Log in"}),d.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 border border-[#0066FF] text-[#0066FF] font-bold text-sm hover:bg-blue-50 rounded-full transition-all",children:"Join Now"})]})]}),d.jsx("button",{onClick:()=>e(!t),className:"lg:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:t?d.jsx(P8,{className:"h-6 w-6"}):d.jsx(V7,{className:"h-6 w-6"})})]})}),d.jsx("div",{className:`fixed inset-0 bg-white z-40 transition-transform duration-300 lg:hidden pt-16 ${t?"translate-x-0":"translate-x-full"}`,children:d.jsxs("div",{className:"p-4 space-y-4",children:[g.map(x=>d.jsxs(Er,{to:x.path,onClick:()=>e(!1),className:"flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-gray-50 text-gray-900 font-medium border border-transparent hover:border-gray-100",children:[d.jsx(x.icon,{className:"h-6 w-6 text-gray-500"}),d.jsx("span",{children:x.name})]},x.name)),!s&&d.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mt-4 border-t border-gray-100",children:[d.jsx("button",{onClick:()=>{r(!0),e(!1)},className:"px-4 py-3 border border-[#0066FF] text-[#0066FF] font-bold rounded-full",children:"Log in"}),d.jsx("button",{onClick:()=>{r(!0),e(!1)},className:"px-4 py-3 bg-[#0066FF] text-white font-bold rounded-full",children:"Sign Up"})]})]})}),d.jsx(pv,{isOpen:n,onClose:()=>r(!1)})]})},j8=()=>{const t=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})};return d.jsx("section",{className:"relative w-full pt-32 pb-20 overflow-hidden bg-white",children:d.jsxs("div",{className:"container-custom mx-auto flex flex-col items-center text-center",children:[d.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:d.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-[#0066FF] text-xs font-bold tracking-wide uppercase",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066FF]"}),"Beta is Live"]})}),d.jsxs(we.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 leading-tight max-w-4xl",children:["Build. Learn. ",d.jsx("br",{}),d.jsx("span",{className:"text-[#0066FF]",children:"Collaborate."})]}),d.jsx(we.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg md:text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed",children:"The all-in-one platform for students to find exam resources, join ambitious projects, and connect with peers across colleges."}),d.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl relative mb-10",children:d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("div",{className:"absolute left-4 text-gray-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),d.jsx("input",{type:"text",placeholder:"Search for 'GATE Notes' or 'React Projects'...",className:"w-full pl-12 pr-32 py-4 rounded-2xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none text-gray-700 bg-white"}),d.jsx("button",{className:"absolute right-2 top-2 bottom-2 bg-[#0f172a] text-white px-6 rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors",children:"Search"})]})}),d.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 mb-20",children:[d.jsxs("button",{onClick:()=>t("roadmaps"),className:"btn-primary flex items-center gap-2 px-8 py-3.5 rounded-xl text-base shadow-lg shadow-blue-500/20",children:["Find Resources",d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),d.jsx("button",{onClick:()=>t("projects"),className:"btn-secondary px-8 py-3.5 rounded-xl text-base",children:"Join a Project"})]}),d.jsxs(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"border-t border-gray-100 w-full pt-10",children:[d.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Trusted by students from"}),d.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["IIT Bombay","BITS Pilani","NIT Trichy","Delhi University"].map(e=>d.jsx("span",{className:"text-lg font-bold text-gray-400 hover:text-[#0066FF] transition-colors cursor-default",children:e},e))})]})]})})},D8=()=>{const t=Pr(),[e,n]=b.useState([]),[r,s]=b.useState(null),[a,l]=b.useState(!1),[u,h]=b.useState(!1),[p,g]=b.useState(""),[v,x]=b.useState({title:"",description:"",category:"General",link:""});b.useEffect(()=>{const P=fa(Ke,async D=>{if(s(D),D)try{const B=await Ls(Mt(Oe,"users",D.uid));B.exists()&&l(B.data().role==="admin"||B.data().isAdmin===!0)}catch(B){console.error("Error checking admin status:",B),l(!1)}else l(!1)});return T(),()=>P()},[]);const T=async()=>{try{const P=Lt(Oe,"roadmaps"),D=Cn(P,Nl("created_at","desc")),K=(await Mn(D)).docs.map(q=>({id:q.id,...q.data()}));n(K)}catch(P){console.error("Error fetching roadmaps:",P)}},k=async P=>{if(P.preventDefault(),!!r)try{await ga(Lt(Oe,"roadmaps"),{...v,is_official:!0,created_at:Ye.now().toDate().toISOString()}),h(!1),x({title:"",description:"",category:"General",link:""}),T()}catch(D){console.error("Error adding roadmap:",D),alert("Failed to add roadmap.")}},A=async(P,D)=>{if(D.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this roadmap?"))try{await Ry(Mt(Oe,"roadmaps",P)),T()}catch(B){console.error("Error deleting roadmap:",B),alert("Failed to delete roadmap.")}},C=P=>{P.link&&(P.link.startsWith("http")||P.link.startsWith("https"))?window.open(P.link,"_blank"):(t(`/roadmap/${P.id}`),window.scrollTo(0,0))},L=e.filter(P=>P.title.toLowerCase().includes(p.toLowerCase())||P.description.toLowerCase().includes(p.toLowerCase()));return d.jsxs("section",{id:"roadmaps",className:"py-24 bg-gray-50",children:[d.jsxs("div",{className:"container-custom mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Find Learning Roadmaps"}),d.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto",children:"Browse through our extensive library of free educational content, notes, and exam preparation materials."}),d.jsxs("div",{className:"max-w-2xl mx-auto mt-8 relative",children:[d.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),d.jsx("input",{type:"text",placeholder:"Search roadmaps...",value:p,onChange:P=>g(P.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 shadow-sm focus:ring-2 focus:ring-[#0066FF] focus:border-transparent outline-none bg-white"})]}),a&&d.jsx("div",{className:"mt-8 flex justify-center",children:d.jsx("button",{onClick:()=>h(!0),className:"bg-[#0066FF] text-white px-6 py-2 rounded-lg shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-colors",children:"+ Add Roadmap"})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:L.length===0?d.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No roadmaps found."}):L.map((P,D)=>d.jsxs(we.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:D*.1},onClick:()=>C(P),className:"bg-white rounded-2xl p-8 border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group relative",children:[a&&d.jsx("button",{onClick:B=>A(P.id,B),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",title:"Delete Roadmap",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})}),d.jsx("div",{className:"flex justify-between items-start mb-6",children:d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-[#0066FF]",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})}),d.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-3 group-hover:text-[#0066FF] transition-colors",children:P.title}),d.jsx("p",{className:"text-gray-500 leading-relaxed text-sm",children:P.description})]},P.id))})]}),u&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Roadmap"}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),d.jsx("input",{type:"text",required:!0,value:v.title,onChange:P=>x({...v,title:P.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("textarea",{required:!0,value:v.description,onChange:P=>x({...v,description:P.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none",rows:3})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link (Optional)"}),d.jsx("input",{type:"text",placeholder:"https://...",value:v.link,onChange:P=>x({...v,link:P.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-[#0066FF] outline-none"})]}),d.jsxs("div",{className:"flex gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-200 font-medium hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg bg-[#0066FF] text-white font-medium hover:bg-blue-600",children:"Add Roadmap"})]})]})]})})]})},WI=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,s]=b.useState({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"}),[a,l]=b.useState(!1),[u,h]=b.useState(""),[p,g]=b.useState(!1);b.useEffect(()=>{if(t&&Ke.currentUser){const x=Ke.currentUser;x.email&&s(T=>({...T,author:x.email.split("@")[0]}))}},[t]);const v=async x=>{x.preventDefault(),l(!0),h("");try{await ga(Lt(Oe,"projects"),{title:r.title,description:r.description,github_url:r.githubUrl,live_url:r.liveUrl,tags:r.tags.split(",").map(T=>T.trim()),author:r.author,author_avatar:Ke.currentUser?.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.author}`,language:r.language,stars:0,likes:0,comments:0,category:"Web Dev",created_at:Ye.now().toDate().toISOString(),user_id:Ke.currentUser?.uid}),g(!0),n&&n(),setTimeout(()=>{e(),g(!1),s({title:"",description:"",githubUrl:"",liveUrl:"",tags:"",author:"",language:"JavaScript"})},2e3)}catch(T){console.error("Error submitting project:",T),h("Failed to submit project. Please try again.")}finally{l(!1)}};return d.jsx(Ms,{children:t&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[d.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),d.jsx(we.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:d.jsxs("div",{className:"p-6 md:p-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Share Your Project"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your work to the community."}),p?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-5xl mb-4",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Project Submitted!"}),d.jsx("p",{className:"text-gray-600",children:"Your project has been added successfully."})]}):d.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),d.jsx("input",{type:"text",required:!0,value:r.title,onChange:x=>s({...r,title:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., AI Study Assistant"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("textarea",{required:!0,value:r.description,onChange:x=>s({...r,description:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"What does your project do?"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GitHub URL"}),d.jsx("input",{type:"url",required:!0,value:r.githubUrl,onChange:x=>s({...r,githubUrl:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://github.com/..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Live Demo URL"}),d.jsx("input",{type:"url",value:r.liveUrl,onChange:x=>s({...r,liveUrl:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name"}),d.jsx("input",{type:"text",required:!0,value:r.author,onChange:x=>s({...r,author:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your Name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Language"}),d.jsxs("select",{value:r.language,onChange:x=>s({...r,language:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{children:"JavaScript"}),d.jsx("option",{children:"TypeScript"}),d.jsx("option",{children:"Python"}),d.jsx("option",{children:"Java"}),d.jsx("option",{children:"C++"}),d.jsx("option",{children:"Rust"}),d.jsx("option",{children:"Go"}),d.jsx("option",{children:"Swift"}),d.jsx("option",{children:"Other"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated)"}),d.jsx("input",{type:"text",value:r.tags,onChange:x=>s({...r,tags:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"react, ai, machine-learning"})]}),u&&d.jsx("p",{className:"text-red-500 text-sm",children:u}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Submitting...":"Submit Project"})]})]})]})})]})})},L8=()=>{const[t,e]=b.useState("All"),[n,r]=b.useState(""),[s,a]=b.useState([]),[l,u]=b.useState(!0),[h,p]=b.useState(null),[g,v]=b.useState(!1),[x,T]=b.useState(!1),[k,A]=b.useState(""),[C,L]=b.useState(!1);b.useEffect(()=>{P();const R=fa(Ke,I=>{p(I)});return()=>R()},[]);const P=async()=>{try{const R=Lt(Oe,"projects"),I=Cn(R,Nl("created_at","desc")),M=(await Mn(I)).docs.map(F=>({id:F.id,...F.data()}));a(M)}catch(R){console.error("Error fetching projects:",R)}finally{u(!1)}},D=async R=>{if(R.preventDefault(),!!k)try{await ga(Lt(Oe,"newsletter_subscribers"),{email:k,created_at:Ye.now()}),L(!0),A(""),setTimeout(()=>L(!1),3e3)}catch(I){console.error("Error subscribing:",I)}},B=()=>{h?T(!0):v(!0)},K=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],q=s.filter(R=>{const I=t==="All"||R.category===t,j=R.title.toLowerCase().includes(n.toLowerCase())||R.description.toLowerCase().includes(n.toLowerCase())||R.tags.some(M=>M.toLowerCase().includes(n.toLowerCase()));return I&&j});return d.jsxs("section",{id:"projects",className:"py-20 bg-gray-50 relative overflow-hidden",children:[d.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-[10%] left-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),d.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[d.jsxs("div",{children:[d.jsx(we.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-2 mb-4",children:d.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-[#0066FF] text-xs font-bold uppercase tracking-wider",children:"Showcase"})}),d.jsx(we.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4 tracking-tight",children:"Explore Projects"}),d.jsx(we.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg text-gray-600 max-w-2xl",children:"Discover innovative projects built by students from top universities."})]}),d.jsxs(we.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search projects...",value:n,onChange:R=>r(R.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-3 rounded-xl bg-white border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#0066FF] shadow-sm"}),d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]}),d.jsxs("button",{onClick:B,className:"px-6 py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Share Project"]})]})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[d.jsxs("div",{className:"lg:w-3/4",children:[d.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:K.map(R=>d.jsx("button",{onClick:()=>e(R),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t===R?"bg-[#0f172a] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:R},R))}),l?d.jsx("div",{className:"flex justify-center py-20",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q.map(R=>d.jsxs(we.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[d.jsxs("div",{className:"relative h-48 overflow-hidden",children:[d.jsx("img",{src:R.image_url,alt:R.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),d.jsx("div",{className:"absolute top-4 left-4",children:d.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 backdrop-blur-sm text-xs font-bold text-[#0f172a] shadow-sm",children:R.category})})]}),d.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("img",{src:R.author_avatar,alt:R.author,className:"w-8 h-8 rounded-full border border-gray-100"}),d.jsx("span",{className:"text-sm font-medium text-gray-600",children:R.author}),d.jsxs("span",{className:"text-xs text-gray-400",children:[" ",new Date(R.created_at).toLocaleDateString()]})]}),d.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#0066FF] transition-colors",children:R.title}),d.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-1",children:R.description}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:R.tags.map(I=>d.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-50 text-gray-500 text-xs font-medium border border-gray-100",children:["#",I]},I))}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 mt-auto",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-red-500 transition-colors text-sm",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),R.likes]}),d.jsxs("button",{className:"flex items-center gap-1.5 text-gray-500 hover:text-[#0066FF] transition-colors text-sm",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9m-9 3.75h9"})}),R.comments]})]}),d.jsxs("a",{href:R.link||"#",className:"text-[#0066FF] font-bold text-sm hover:underline flex items-center gap-1",children:["View Details",d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})})]})]})]})]},R.id))}),!l&&q.length===0&&d.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-gray-400",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No projects found"}),d.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),d.jsxs("div",{className:"lg:w-1/4 space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[d.jsxs("h3",{className:"text-lg font-bold text-[#0f172a] mb-4 flex items-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-yellow-500",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),"Weekly Highlights"]}),d.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>d.jsxs("div",{className:"flex gap-3 group cursor-pointer",children:[d.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0",children:d.jsx("img",{src:`https://source.unsplash.com/random/100x100?tech&sig=${R}`,alt:"Thumbnail",className:"w-full h-full object-cover"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors line-clamp-1",children:"AI-Powered Study Assistant"}),d.jsx("p",{className:"text-xs text-gray-500",children:"By Sarah Chen"})]})]},R))}),d.jsx("button",{className:"w-full mt-4 py-2 text-sm font-bold text-[#0066FF] border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",children:"View All Highlights"})]}),d.jsxs("div",{className:"bg-[#0f172a] rounded-2xl p-6 text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#0066FF] rounded-full blur-3xl opacity-20 transform translate-x-1/2 -translate-y-1/2"}),d.jsx("h3",{className:"text-lg font-bold mb-2 relative z-10",children:"Join the Newsletter"}),d.jsx("p",{className:"text-gray-400 text-sm mb-4 relative z-10",children:"Get the latest projects and resources delivered to your inbox."}),d.jsxs("form",{onSubmit:D,className:"relative z-10",children:[d.jsx("input",{type:"email",placeholder:"Your email",value:k,onChange:R=>A(R.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] mb-3 text-sm",required:!0}),d.jsx("button",{type:"submit",disabled:C,className:"w-full py-2.5 rounded-xl bg-[#0066FF] text-white font-bold text-sm hover:bg-blue-600 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:C?"Subscribed!":"Subscribe"})]})]})]})]})]}),d.jsx(pv,{isOpen:g,onClose:()=>v(!1)}),d.jsx(WI,{isOpen:x,onClose:()=>T(!1),onSuccess:P})]})},M8=()=>{const t=Pr(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState(!1),[u,h]=b.useState(!1),[p,g]=b.useState({title:"",description:"",icon:"",color:"badge-blue",link:""});b.useEffect(()=>{v();const C=fa(Ke,async L=>{if(L)try{const P=await Ls(Mt(Oe,"users",L.uid));P.exists()&&l(P.data().role==="admin"||P.data().isAdmin===!0)}catch(P){console.error("Error checking admin status:",P),l(!1)}else l(!1)});return()=>C()},[]);const v=async()=>{try{const C=Lt(Oe,"resources"),L=Cn(C),D=(await Mn(L)).docs.map(B=>({id:B.id,...B.data()}));D.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(D)}catch(C){console.error("Error fetching resources:",C)}finally{s(!1)}},x=async C=>{if(C.preventDefault(),!(!p.title||!p.description))try{await ga(Lt(Oe,"resources"),p),h(!1),g({title:"",description:"",icon:"",color:"badge-blue",link:""}),v()}catch(L){console.error("Error adding resource:",L)}},T=async(C,L)=>{if(L.stopPropagation(),!!window.confirm("Are you sure you want to delete this resource?"))try{await Ry(Mt(Oe,"resources",C)),v()}catch(P){console.error("Error deleting resource:",P)}},k={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},A={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return d.jsxs("section",{id:"resources",className:"section-padding relative z-10 min-h-[80vh] flex flex-col justify-center bg-gray-50",children:[d.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[500px] h-[500px] bg-blue-100 rounded-full blur-3xl opacity-30"}),d.jsx("div",{className:"absolute bottom-[10%] left-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-30"})]}),d.jsxs("div",{className:"container-custom relative z-10",children:[d.jsxs(we.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[d.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-6 drop-shadow-sm",children:"Student Resources"}),d.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Curated study materials and exam preparation guides to help you excel in your academic journey."})]}),a&&d.jsx("div",{className:"mb-8 flex justify-center",children:d.jsx("button",{onClick:()=>h(!u),className:"bg-[#0066FF] text-white px-6 py-2 rounded-full font-medium hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30",children:u?"Cancel":"+ Add Resource"})}),u&&d.jsx(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"max-w-md mx-auto mb-12 bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:d.jsxs("form",{onSubmit:x,className:"space-y-4",children:[d.jsx("input",{type:"text",placeholder:"Title",value:p.title,onChange:C=>g({...p,title:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),d.jsx("textarea",{placeholder:"Description",value:p.description,onChange:C=>g({...p,description:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",required:!0}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("input",{type:"text",placeholder:"Icon (emoji)",value:p.icon,onChange:C=>g({...p,icon:C.target.value}),className:"w-1/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none"}),d.jsxs("select",{value:p.color,onChange:C=>g({...p,color:C.target.value}),className:"w-2/3 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#0066FF] outline-none",children:[d.jsx("option",{value:"badge-blue",children:"Blue"}),d.jsx("option",{value:"badge-yellow",children:"Yellow"}),d.jsx("option",{value:"badge-green",children:"Green"}),d.jsx("option",{value:"badge-purple",children:"Purple"}),d.jsx("option",{value:"badge-red",children:"Red"})]})]}),d.jsx("button",{type:"submit",className:"w-full bg-[#0066FF] text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"Save Resource"})]})}),r?d.jsx("div",{className:"flex justify-center py-20",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):d.jsx(we.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",variants:k,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map(C=>d.jsxs(we.div,{className:"bg-white rounded-2xl p-8 cursor-pointer group border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 relative",variants:A,whileHover:{scale:1.03},onClick:()=>t(`/resource/${C.id}`),children:[a&&d.jsx("button",{onClick:L=>T(C.id,L),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 p-2",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),d.jsx("div",{className:"mb-6 flex justify-center",children:d.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300",children:C.icon})}),d.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-4 text-center group-hover:text-[#0066FF] transition-colors",children:C.title}),d.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed text-center font-light flex-1",children:C.description}),d.jsx("div",{className:"mt-auto text-center",children:d.jsxs("span",{className:"text-[#0066FF] font-medium group-hover:underline underline-offset-4 flex items-center justify-center gap-2",children:["View Materials ",d.jsx("span",{children:""})]})})]},C.id))})]})]})},Qb=20,qI=async(t,e)=>{const n=Ke.currentUser;if(!n)throw new Error("User not authenticated");if(n.uid===t)throw new Error("Cannot connect with yourself");const r=new Date().toISOString().split("T")[0],s=Mt(Oe,"userActivity",`${n.uid}_${r}`),a=await Ls(s);if(a.exists()&&a.data().connectionRequestsSent>=Qb)throw new Error(`Daily limit of ${Qb} requests reached.`);const l=Mt(Oe,"blocks",`${t}_${n.uid}`);if((await Ls(l)).exists())throw new Error("This user has blocked you.");const h=Lt(Oe,"connections"),p=Cn(h,un("requesterId","==",n.uid),un("recipientId","==",t));if(!(await Mn(p)).empty)throw new Error("Connection request already exists.");await ga(h,{requesterId:n.uid,recipientId:t,status:"pending",note:e?e.substring(0,300):"",createdAt:Zh(),updatedAt:Zh()}),await BS(s,{userId:n.uid,date:r,connectionRequestsSent:DL(1)},{merge:!0})},V8=async t=>{const e=Mt(Oe,"connections",t);await Lu(e,{status:"accepted",updatedAt:Zh()})},O8=async t=>{const e=Mt(Oe,"connections",t);await Lu(e,{status:"ignored",updatedAt:Zh()})},F8=async t=>{const e=Ke.currentUser;if(!e)return"none";const n=Lt(Oe,"connections"),r=Cn(n,un("requesterId","==",e.uid),un("recipientId","==",t)),s=await Mn(r);if(!s.empty)return s.docs[0].data().status==="accepted"?"connected":"pending";const a=Cn(n,un("requesterId","==",t),un("recipientId","==",e.uid)),l=await Mn(a);return l.empty?"none":l.docs[0].data().status==="accepted"?"connected":"received"},U8=async()=>{const t=Ke.currentUser;if(!t)return[];const e=Lt(Oe,"connections"),n=Cn(e,un("recipientId","==",t.uid),un("status","==","pending"),Nl("createdAt","desc"));return(await Mn(n)).docs.map(s=>({id:s.id,...s.data()}))},Xb=async t=>{const e=Lt(Oe,"connections"),n=Cn(e,un("requesterId","==",t),un("status","==","accepted")),r=Cn(e,un("recipientId","==",t),un("status","==","accepted")),[s,a]=await Promise.all([N_(n),N_(r)]);return s.data().count+a.data().count},HI=({student:t,onClick:e})=>{const[n,r]=b.useState("none"),[s,a]=b.useState(!1),l=Ke.currentUser;b.useEffect(()=>{(async()=>{if(l&&l.uid!==t.uid)try{const v=await F8(t.uid);r(v)}catch(v){console.error("Error fetching status:",v)}})()},[t.uid,l]);const u=async g=>{if(g.stopPropagation(),!!l){a(!0);try{await qI(t.uid),r("pending")}catch(v){const x=v;console.error("Error connecting:",x),alert(x.message)}finally{a(!1)}}},h=()=>{if(s)return"...";switch(n){case"pending":return"Pending";case"received":return"Accept";case"connected":return"Connected";default:return"Connect"}},p=n==="pending"||n==="connected"||t.uid===l?.uid;return d.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer flex flex-col items-center text-center",onClick:e,children:[d.jsx("div",{className:"w-full h-20 bg-gradient-to-r from-[#0066FF]/10 to-[#5865F2]/10 relative",children:d.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:d.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white shadow-md overflow-hidden bg-white",children:d.jsx("img",{src:t.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,alt:t.name,className:"w-full h-full object-cover"})})})}),d.jsxs("div",{className:"pt-12 pb-5 px-4 flex flex-col items-center flex-grow w-full",children:[d.jsx("h3",{className:"font-bold text-[#0f172a] text-lg line-clamp-1",children:t.name}),d.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 h-8 mb-1 px-2",children:t.headline||t.role}),d.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-[10px] mb-3 uppercase tracking-wider font-bold",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),t.institution||"University"]}),t.mutualConnectionsCount!==void 0&&t.mutualConnectionsCount>0&&d.jsxs("div",{className:"text-[10px] text-gray-400 mb-4 flex items-center gap-1",children:[d.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(g=>d.jsx("div",{className:"w-4 h-4 rounded-full border border-white bg-gray-200 overflow-hidden",children:d.jsx("img",{src:`https://i.pravatar.cc/150?u=${t.uid}${g}`,alt:"",className:"w-full h-full"})},g))}),d.jsxs("span",{children:[t.mutualConnectionsCount," mutual connections"]})]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mb-5 h-10 overflow-hidden items-start w-full",children:[t.skills?.slice(0,3).map((g,v)=>d.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-400 text-[9px] font-bold rounded-md border border-gray-100 uppercase",children:g},v)),t.skills?.length>3&&d.jsxs("span",{className:"px-2 py-0.5 text-gray-400 text-[9px] font-bold",children:["+",t.skills.length-3]})]}),d.jsxs("div",{className:"flex gap-2 w-full mt-auto",children:[d.jsx("button",{onClick:u,disabled:p||s,className:`flex-1 py-1.5 rounded-full font-bold text-xs transition-colors border ${n==="connected"?"bg-gray-100 text-gray-500 border-transparent cursor-not-allowed":n==="pending"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":"border-[#0066FF] text-[#0066FF] hover:bg-[#0066FF] hover:text-white"}`,children:h()}),d.jsx("button",{className:"flex-1 py-1.5 rounded-full border border-gray-200 text-gray-600 font-bold text-xs hover:bg-gray-50 transition-colors",children:"View Profile"})]})]})]})},B8=()=>{const t=Pr(),[e,n]=b.useState([]);return b.useEffect(()=>{(async()=>{try{const s=Lt(Oe,"users"),a=Cn(s,RL(8)),u=(await Mn(a)).docs.map(h=>{const p=h.data();return{uid:h.id,...p,name:p.name||p.full_name||"Anonymous",avatar:p.avatar||p.avatar_url||"",institution:p.institution||p.university||"University",skills:p.skills||[]}});n(u)}catch(s){console.error("Error fetching profiles:",s)}})()},[]),d.jsx("section",{id:"community",className:"py-24 bg-white",children:d.jsxs("div",{className:"container-custom mx-auto",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[d.jsxs("div",{className:"max-w-2xl",children:[d.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Students"}),d.jsx("p",{className:"text-lg text-gray-500",children:"Connect with ambitious students from top universities who are building the next big thing."})]}),d.jsx("a",{href:"https://chat.whatsapp.com/L4AfqBc5pIh5o2D5BGt5rv",target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-8 py-3 rounded-xl shadow-lg shadow-blue-500/20 whitespace-nowrap",children:"Join the Community"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.length===0?d.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"Join the community to be featured here!"}):e.map(r=>d.jsx(HI,{student:r,onClick:()=>t(`/profile/${r.uid}`)},r.uid))})]})})},z8=async(t,e)=>{try{return(await ga(Lt(Oe,"projects"),{...e,userId:t,createdAt:Ye.now()})).id}catch(n){throw console.error("Error adding project:",n),n}},$8=async(t,e)=>{try{const n=Mt(Oe,"projects",t);await Lu(n,{...e,updatedAt:Ye.now()})}catch(n){throw console.error("Error updating project:",n),n}},W8=async t=>{try{await Ry(Mt(Oe,"projects",t))}catch(e){throw console.error("Error deleting project:",e),e}},Yb=async t=>{try{const e=Cn(Lt(Oe,"projects"),un("userId","==",t),Nl("createdAt","desc"));return(await Mn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching user projects:",e),e}};var d0=function(t,e){return d0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},d0(t,e)};function q8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");d0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Kt=function(){return Kt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kt.apply(this,arguments)};var ig,Jb;function H8(){if(Jb)return ig;Jb=1;var t=!1,e,n,r,s,a,l,u,h,p,g,v,x,T,k,A;function C(){if(!t){t=!0;var P=navigator.userAgent,D=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(P),B=/(Mac OS X)|(Windows)|(Linux)/.exec(P);if(x=/\b(iPhone|iP[ao]d)/.exec(P),T=/\b(iP[ao]d)/.exec(P),g=/Android/i.exec(P),k=/FBAN\/\w+;/i.exec(P),A=/Mobile/i.exec(P),v=!!/Win64/.exec(P),D){e=D[1]?parseFloat(D[1]):D[5]?parseFloat(D[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var K=/(?:Trident\/(\d+.\d+))/.exec(P);l=K?parseFloat(K[1])+4:e,n=D[2]?parseFloat(D[2]):NaN,r=D[3]?parseFloat(D[3]):NaN,s=D[4]?parseFloat(D[4]):NaN,s?(D=/(?:Chrome\/(\d+\.\d+))/.exec(P),a=D&&D[1]?parseFloat(D[1]):NaN):a=NaN}else e=n=r=a=s=NaN;if(B){if(B[1]){var q=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(P);u=q?parseFloat(q[1].replace("_",".")):!0}else u=!1;h=!!B[2],p=!!B[3]}else u=h=p=!1}}var L={ie:function(){return C()||e},ieCompatibilityMode:function(){return C()||l>e},ie64:function(){return L.ie()&&v},firefox:function(){return C()||n},opera:function(){return C()||r},webkit:function(){return C()||s},safari:function(){return L.webkit()},chrome:function(){return C()||a},windows:function(){return C()||h},osx:function(){return C()||u},linux:function(){return C()||p},iphone:function(){return C()||x},mobile:function(){return C()||x||T||g||A},nativeApp:function(){return C()||k},android:function(){return C()||g},ipad:function(){return C()||T}};return ig=L,ig}var og,Zb;function G8(){if(Zb)return og;Zb=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return og=e,og}var ag,e2;function K8(){if(e2)return ag;e2=1;var t=G8(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!t.canUseDOM||s&&!("addEventListener"in document))return!1;var a="on"+r,l=a in document;if(!l){var u=document.createElement("div");u.setAttribute(a,"return;"),l=typeof u[a]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return ag=n,ag}var lg,t2;function Q8(){if(t2)return lg;t2=1;var t=H8(),e=K8(),n=10,r=40,s=800;function a(l){var u=0,h=0,p=0,g=0;return"detail"in l&&(h=l.detail),"wheelDelta"in l&&(h=-l.wheelDelta/120),"wheelDeltaY"in l&&(h=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(u=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(u=h,h=0),p=u*n,g=h*n,"deltaY"in l&&(g=l.deltaY),"deltaX"in l&&(p=l.deltaX),(p||g)&&l.deltaMode&&(l.deltaMode==1?(p*=r,g*=r):(p*=s,g*=s)),p&&!u&&(u=p<1?-1:1),g&&!h&&(h=g<1?-1:1),{spinX:u,spinY:h,pixelX:p,pixelY:g}}return a.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},lg=a,lg}var cg,n2;function X8(){return n2||(n2=1,cg=Q8()),cg}var Y8=X8();const J8=E2(Y8);function Z8(t,e,n,r,s,a){a===void 0&&(a=0);var l=_l(t,e,a),u=l.width,h=l.height,p=Math.min(u,n),g=Math.min(h,r);return p>g*s?{width:g*s,height:g}:{width:p,height:p/s}}function eU(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Rc(t,e,n,r,s){s===void 0&&(s=0);var a=_l(e.width,e.height,s),l=a.width,u=a.height;return{x:r2(t.x,l,n.width,r),y:r2(t.y,u,n.height,r)}}function r2(t,e,n,r){var s=e*r/2-n/2;return Hf(t,-s,s)}function s2(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function i2(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function tU(t,e,n,r,s,a,l){a===void 0&&(a=0),l===void 0&&(l=!0);var u=l?nU:rU,h=_l(e.width,e.height,a),p=_l(e.naturalWidth,e.naturalHeight,a),g={x:u(100,((h.width-n.width/s)/2-t.x/s)/h.width*100),y:u(100,((h.height-n.height/s)/2-t.y/s)/h.height*100),width:u(100,n.width/h.width*100/s),height:u(100,n.height/h.height*100/s)},v=Math.round(u(p.width,g.width*p.width/100)),x=Math.round(u(p.height,g.height*p.height/100)),T=p.width>=p.height*r,k=T?{width:Math.round(x*r),height:x}:{width:v,height:Math.round(v/r)},A=Kt(Kt({},k),{x:Math.round(u(p.width-k.width,g.x*p.width/100)),y:Math.round(u(p.height-k.height,g.y*p.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:A}}function nU(t,e){return Math.min(t,Math.max(0,e))}function rU(t,e){return e}function sU(t,e,n,r,s,a){var l=_l(e.width,e.height,n),u=Hf(r.width/l.width*(100/t.width),s,a),h={x:u*l.width/2-r.width/2-l.width*u*(t.x/100),y:u*l.height/2-r.height/2-l.height*u*(t.y/100)};return{crop:h,zoom:u}}function iU(t,e,n){var r=eU(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function oU(t,e,n,r,s,a){n===void 0&&(n=0);var l=_l(e.naturalWidth,e.naturalHeight,n),u=Hf(iU(t,e,r),s,a),h=r.height>r.width?r.height/t.height:r.width/t.width,p={x:((l.width-t.width)/2-t.x)*h,y:((l.height-t.height)/2-t.y)*h};return{crop:p,zoom:u}}function o2(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function aU(t){return t*Math.PI/180}function _l(t,e,n){var r=aU(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Hf(t,e,n){return Math.min(Math.max(t,e),n)}function dh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var lU=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,cU=1,uU=3,dU=1,hU=(function(t){q8(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=b.createRef(),n.imageRef=b.createRef(),n.videoRef=b.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=sU(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=s.crop,l=s.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}else if(n.props.initialCroppedAreaPixels){var u=oU(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=u.crop,l=u.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}},n.computeSizes=function(){var r,s,a,l,u,h,p=n.imageRef.current||n.videoRef.current;if(p&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,v=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,x=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,T=p.offsetWidth<v||p.offsetHeight<x,k=v/x,A=void 0;if(T)switch(n.state.mediaObjectFit){default:case"contain":A=g>k?{width:n.containerRect.height*k,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/k};break;case"horizontal-cover":A={width:n.containerRect.width,height:n.containerRect.width/k};break;case"vertical-cover":A={width:n.containerRect.height*k,height:n.containerRect.height};break}else A={width:p.offsetWidth,height:p.offsetHeight};n.mediaSize=Kt(Kt({},A),{naturalWidth:v,naturalHeight:x}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var C=n.props.cropSize?n.props.cropSize:Z8(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((u=n.state.cropSize)===null||u===void 0?void 0:u.height)!==C.height||((h=n.state.cropSize)===null||h===void 0?void 0:h.width)!==C.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(C),n.setState({cropSize:C},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(C),C}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),a=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(a,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var l=n.gestureRotationStart+r.rotation;n.props.onRotationChange(l)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,a,l=r.x,u=r.y;n.dragStartPosition={x:l,y:u},n.dragStartCrop=Kt({},n.props.crop),(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s)},n.onDrag=function(r){var s=r.x,a=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||a===void 0)){var l=s-n.dragStartPosition.x,u=a-n.dragStartPosition.y,h={x:n.dragStartCrop.x+l,y:n.dragStartCrop.y+u},p=n.props.restrictPosition?Rc(h,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):h;n.props.onCropChange(p)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),a=J8(r).pixelY,l=n.props.zoom-a*n.props.zoomSpeed/200;n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var u,h;return(h=(u=n.props).onInteractionStart)===null||h===void 0?void 0:h.call(u)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var u,h;return(h=(u=n.props).onInteractionEnd)===null||h===void 0?void 0:h.call(u)})},250)}},n.getPointOnContainer=function(r,s){var a=r.x,l=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(a-s.x),y:n.containerRect.height/2-(l-s.y)}},n.getPointOnMedia=function(r){var s=r.x,a=r.y,l=n.props,u=l.crop,h=l.zoom;return{x:(s+u.x)/h,y:(a+u.y)/h}},n.setNewZoom=function(r,s,a){var l=a===void 0?{}:a,u=l.shouldUpdatePosition,h=u===void 0?!0:u;if(!(!n.state.cropSize||!n.props.onZoomChange)){var p=Hf(r,n.props.minZoom,n.props.maxZoom);if(h){var g=n.getPointOnContainer(s,n.containerPosition),v=n.getPointOnMedia(g),x={x:v.x*p-g.x,y:v.y*p-g.y},T=n.props.restrictPosition?Rc(x,n.mediaSize,n.state.cropSize,p,n.props.rotation):x;n.props.onCropChange(T)}n.props.onZoomChange(p)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Rc(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return tU(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,a),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.recomputeCropPosition=function(){var r,s;if(n.state.cropSize){var a=n.props.crop;if(n.isInitialized&&(!((r=n.previousCropSize)===null||r===void 0)&&r.width)&&(!((s=n.previousCropSize)===null||s===void 0)&&s.height)){var l=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(l){var u=n.state.cropSize.width/n.previousCropSize.width,h=n.state.cropSize.height/n.previousCropSize.height;a={x:n.props.crop.x*u,y:n.props.crop.y*h}}}var p=n.props.restrictPosition?Rc(a,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):a;n.previousCropSize=n.state.cropSize,n.props.onCropChange(p),n.emitCropData()}},n.onKeyDown=function(r){var s,a,l=n.props,u=l.crop,h=l.onCropChange,p=l.keyboardStep,g=l.zoom,v=l.rotation,x=p;if(n.state.cropSize){r.shiftKey&&(x*=.2);var T=Kt({},u);switch(r.key){case"ArrowUp":T.y-=x,r.preventDefault();break;case"ArrowDown":T.y+=x,r.preventDefault();break;case"ArrowLeft":T.x-=x,r.preventDefault();break;case"ArrowRight":T.x+=x,r.preventDefault();break;default:return}n.props.restrictPosition&&(T=Rc(T,n.mediaSize,n.state.cropSize,g,v)),r.repeat||(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s),h(T)}},n.onKeyUp=function(r){var s,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(a=(s=n.props).onInteractionEnd)===null||a===void 0||a.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=lU,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,a,l,u,h,p,g,v;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((a=n.cropSize)===null||a===void 0?void 0:a.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((u=n.crop)===null||u===void 0?void 0:u.x)!==((h=this.props.crop)===null||h===void 0?void 0:h.x)||((p=n.crop)===null||p===void 0?void 0:p.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var x=this.getObjectFit();x!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:x},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,a;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,h=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,g=h/p;return g<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=s2(r,s),this.lastPinchRotation=i2(r,s),this.onDragStart(o2(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),a=e.getTouchPoint(n.touches[1]),l=o2(s,a);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=s2(s,a),h=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(h,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var p=i2(s,a),g=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=p})}},e.prototype.render=function(){var n=this,r,s=this.props,a=s.image,l=s.video,u=s.mediaProps,h=s.cropperProps,p=s.transform,g=s.crop,v=g.x,x=g.y,T=s.rotation,k=s.zoom,A=s.cropShape,C=s.showGrid,L=s.roundCropAreaPixels,P=s.style,D=P.containerStyle,B=P.cropAreaStyle,K=P.mediaStyle,q=s.classes,R=q.containerClassName,I=q.cropAreaClassName,j=q.mediaClassName,M=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function($){return n.containerRef=$},"data-testid":"container",style:D,className:dh("reactEasyCrop_Container",R)},a?b.createElement("img",Kt({alt:"",className:dh("reactEasyCrop_Image",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",j)},u,{src:a,ref:this.imageRef,style:Kt(Kt({},K),{transform:p||"translate(".concat(v,"px, ").concat(x,"px) rotate(").concat(T,"deg) scale(").concat(k,")")}),onLoad:this.onMediaLoad})):l&&b.createElement("video",Kt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:dh("reactEasyCrop_Video",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",j)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Kt(Kt({},K),{transform:p||"translate(".concat(v,"px, ").concat(x,"px) rotate(").concat(T,"deg) scale(").concat(k,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(F){return b.createElement("source",Kt({key:F.src},F))})),this.state.cropSize&&b.createElement("div",Kt({ref:this.cropperRef,style:Kt(Kt({},B),{width:L?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:L?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:dh("reactEasyCrop_CropArea",A==="round"&&"reactEasyCrop_CropAreaRound",C&&"reactEasyCrop_CropAreaGrid",I)},h)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:uU,minZoom:cU,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:dU},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e})(b.Component);const fU=({userId:t,currentAvatar:e,onUploadComplete:n})=>{const[r,s]=b.useState(null),[a,l]=b.useState({x:0,y:0}),[u,h]=b.useState(1),[p,g]=b.useState(null),[v,x]=b.useState(!1),[T,k]=b.useState(!1),A=b.useCallback((B,K)=>{g(K)},[]),C=async B=>{if(B.target.files&&B.target.files.length>0){const K=B.target.files[0],q=new FileReader;q.addEventListener("load",()=>{s(q.result),k(!0)}),q.readAsDataURL(K)}},L=B=>new Promise((K,q)=>{const R=new Image;R.addEventListener("load",()=>K(R)),R.addEventListener("error",I=>q(I)),R.setAttribute("crossOrigin","anonymous"),R.src=B}),P=async(B,K)=>{const q=await L(B),R=document.createElement("canvas"),I=R.getContext("2d");if(!I)throw new Error("No 2d context");return R.width=K.width,R.height=K.height,I.drawImage(q,K.x,K.y,K.width,K.height,0,0,K.width,K.height),new Promise((j,M)=>{R.toBlob(F=>{if(!F){M(new Error("Canvas is empty"));return}j(F)},"image/jpeg")})},D=async()=>{if(!(!r||!p)){x(!0),console.log("Starting upload process...");try{console.log("Cropping image...");const B=await P(r,p);console.log("Image cropped successfully");const K=`avatars/${t}_${Date.now()}.jpg`,q=WM(XM,K);console.log("Uploading to Storage:",K);const R=await zM(q,B);console.log("Upload complete");const I=await $M(R.ref);console.log("Download URL obtained:",I),console.log("Updating Firestore..."),await Lu(Mt(Oe,"users",t),{avatar:I}),console.log("Firestore updated"),n(I),k(!1),s(null)}catch(B){console.error("Detailed upload error:",B),alert("Failed to save image. Please check your internet connection or try again.")}finally{x(!1)}}};return d.jsxs("div",{className:"relative group",children:[d.jsxs("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:[d.jsx("img",{src:e||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t}`,alt:"Avatar",className:"w-full h-full object-cover"}),d.jsxs("label",{className:"absolute inset-0 bg-black/20 md:bg-black/0 md:group-hover:bg-black/40 flex items-center justify-center transition-all cursor-pointer",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden"}),d.jsx("div",{className:"md:opacity-0 md:group-hover:opacity-100 transition-opacity flex items-center justify-center",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-white",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})})]})]}),d.jsx("div",{className:"absolute bottom-2 right-2 p-3 bg-[#0066FF] text-white rounded-full shadow-lg border-2 border-white pointer-events-none md:pointer-events-auto",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})}),d.jsx(Ms,{children:T&&r&&d.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[d.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70"}),d.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-lg bg-white rounded-3xl overflow-hidden shadow-2xl",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Crop Profile Picture"}),d.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("div",{className:"relative h-96 bg-gray-900",children:d.jsx(hU,{image:r,crop:a,zoom:u,aspect:1,onCropChange:l,onCropComplete:A,onZoomChange:h})}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Zoom"}),d.jsx("input",{type:"range",value:u,min:1,max:3,step:.1,onChange:B=>h(Number(B.target.value)),className:"flex-grow accent-[#0066FF]"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),d.jsx("button",{onClick:D,disabled:v,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:v?"Processing...":"Save Picture"})]})]})]})]})})]})};function pU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Gf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Dl(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function mv(t){return"nodeType"in t}function Xn(t){var e,n;return t?Dl(t)?t:mv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function gv(t){const{Document:e}=Xn(t);return t instanceof e}function Bu(t){return Dl(t)?!1:t instanceof Xn(t).HTMLElement}function GI(t){return t instanceof Xn(t).SVGElement}function Ll(t){return t?Dl(t)?t.document:mv(t)?gv(t)?t:Bu(t)||GI(t)?t.ownerDocument:document:document:document}const Vs=Gf?b.useLayoutEffect:b.useEffect;function yv(t){const e=b.useRef(t);return Vs(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function mU(){const t=b.useRef(null),e=b.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function yu(t,e){e===void 0&&(e=[t]);const n=b.useRef(t);return Vs(()=>{n.current!==t&&(n.current=t)},e),n}function zu(t,e){const n=b.useRef();return b.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function af(t){const e=yv(t),n=b.useRef(null),r=b.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function h0(t){const e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}let ug={};function $u(t,e){return b.useMemo(()=>{if(e)return e;const n=ug[t]==null?0:ug[t]+1;return ug[t]=n,t+"-"+n},[t,e])}function KI(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>{const u=Object.entries(l);for(const[h,p]of u){const g=a[h];g!=null&&(a[h]=g+t*p)}return a},{...e})}}const hl=KI(1),vu=KI(-1);function gU(t){return"clientX"in t&&"clientY"in t}function vv(t){if(!t)return!1;const{KeyboardEvent:e}=Xn(t.target);return e&&t instanceof e}function yU(t){if(!t)return!1;const{TouchEvent:e}=Xn(t.target);return e&&t instanceof e}function f0(t){if(yU(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return gU(t)?{x:t.clientX,y:t.clientY}:null}const xu=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[xu.Translate.toString(t),xu.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),a2="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function vU(t){return t.matches(a2)?t:t.querySelector(a2)}const xU={display:"none"};function wU(t){let{id:e,value:n}=t;return ln.createElement("div",{id:e,style:xU},n)}function _U(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ln.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function bU(){const[t,e]=b.useState("");return{announce:b.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const QI=b.createContext(null);function EU(t){const e=b.useContext(QI);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function TU(){const[t]=b.useState(()=>new Set),e=b.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[b.useCallback(r=>{let{type:s,event:a}=r;t.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,a)})},[t]),e]}const SU={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},CU={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function IU(t){let{announcements:e=CU,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=SU}=t;const{announce:a,announcement:l}=bU(),u=$u("DndLiveRegion"),[h,p]=b.useState(!1);if(b.useEffect(()=>{p(!0)},[]),EU(b.useMemo(()=>({onDragStart(v){let{active:x}=v;a(e.onDragStart({active:x}))},onDragMove(v){let{active:x,over:T}=v;e.onDragMove&&a(e.onDragMove({active:x,over:T}))},onDragOver(v){let{active:x,over:T}=v;a(e.onDragOver({active:x,over:T}))},onDragEnd(v){let{active:x,over:T}=v;a(e.onDragEnd({active:x,over:T}))},onDragCancel(v){let{active:x,over:T}=v;a(e.onDragCancel({active:x,over:T}))}}),[a,e])),!h)return null;const g=ln.createElement(ln.Fragment,null,ln.createElement(wU,{id:r,value:s.draggable}),ln.createElement(_U,{id:u,announcement:l}));return n?Ac.createPortal(g,n):g}var Bt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Bt||(Bt={}));function lf(){}function l2(t,e){return b.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function RU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Jr=Object.freeze({x:0,y:0});function XI(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function YI(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function AU(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function c2(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function JI(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function u2(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const NU=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=u2(e,e.left,e.top),a=[];for(const l of r){const{id:u}=l,h=n.get(u);if(h){const p=XI(u2(h),s);a.push({id:u,data:{droppableContainer:l,value:p}})}}return a.sort(YI)},kU=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=c2(e),a=[];for(const l of r){const{id:u}=l,h=n.get(u);if(h){const p=c2(h),g=s.reduce((x,T,k)=>x+XI(p[k],T),0),v=Number((g/4).toFixed(4));a.push({id:u,data:{droppableContainer:l,value:v}})}}return a.sort(YI)};function PU(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),l=s-r,u=a-n;if(r<s&&n<a){const h=e.width*e.height,p=t.width*t.height,g=l*u,v=g/(h+p-g);return Number(v.toFixed(4))}return 0}const jU=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const h=PU(u,e);h>0&&s.push({id:l,data:{droppableContainer:a,value:h}})}}return s.sort(AU)};function DU(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function ZI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Jr}function LU(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((l,u)=>({...l,top:l.top+t*u.y,bottom:l.bottom+t*u.y,left:l.left+t*u.x,right:l.right+t*u.x}),{...n})}}const MU=LU(1);function VU(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function OU(t,e,n){const r=VU(e);if(!r)return t;const{scaleX:s,scaleY:a,x:l,y:u}=r,h=t.left-l-(1-s)*parseFloat(n),p=t.top-u-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?t.width/s:t.width,v=a?t.height/a:t.height;return{width:g,height:v,top:p,right:h+g,bottom:p+v,left:h}}const FU={ignoreTransform:!1};function Ml(t,e){e===void 0&&(e=FU);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:g}=Xn(t).getComputedStyle(t);p&&(n=OU(n,p,g))}const{top:r,left:s,width:a,height:l,bottom:u,right:h}=n;return{top:r,left:s,width:a,height:l,bottom:u,right:h}}function d2(t){return Ml(t,{ignoreTransform:!0})}function UU(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function BU(t,e){return e===void 0&&(e=Xn(t).getComputedStyle(t)),e.position==="fixed"}function zU(t,e){e===void 0&&(e=Xn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=e[s];return typeof a=="string"?n.test(a):!1})}function Kf(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(gv(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Bu(s)||GI(s)||n.includes(s))return n;const a=Xn(t).getComputedStyle(s);return s!==t&&zU(s,a)&&n.push(s),BU(s,a)?n:r(s.parentNode)}return t?r(t):n}function eR(t){const[e]=Kf(t,1);return e??null}function dg(t){return!Gf||!t?null:Dl(t)?t:mv(t)?gv(t)||t===Ll(t).scrollingElement?window:Bu(t)?t:null:null}function tR(t){return Dl(t)?t.scrollX:t.scrollLeft}function nR(t){return Dl(t)?t.scrollY:t.scrollTop}function p0(t){return{x:tR(t),y:nR(t)}}var Xt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Xt||(Xt={}));function rR(t){return!Gf||!t?!1:t===document.scrollingElement}function sR(t){const e={x:0,y:0},n=rR(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,u=t.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:l,isRight:u,maxScroll:r,minScroll:e}}const $U={x:.2,y:.2};function WU(t,e,n,r,s){let{top:a,left:l,right:u,bottom:h}=n;r===void 0&&(r=10),s===void 0&&(s=$U);const{isTop:p,isBottom:g,isLeft:v,isRight:x}=sR(t),T={x:0,y:0},k={x:0,y:0},A={height:e.height*s.y,width:e.width*s.x};return!p&&a<=e.top+A.height?(T.y=Xt.Backward,k.y=r*Math.abs((e.top+A.height-a)/A.height)):!g&&h>=e.bottom-A.height&&(T.y=Xt.Forward,k.y=r*Math.abs((e.bottom-A.height-h)/A.height)),!x&&u>=e.right-A.width?(T.x=Xt.Forward,k.x=r*Math.abs((e.right-A.width-u)/A.width)):!v&&l<=e.left+A.width&&(T.x=Xt.Backward,k.x=r*Math.abs((e.left+A.width-l)/A.width)),{direction:T,speed:k}}function qU(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function iR(t){return t.reduce((e,n)=>hl(e,p0(n)),Jr)}function HU(t){return t.reduce((e,n)=>e+tR(n),0)}function GU(t){return t.reduce((e,n)=>e+nR(n),0)}function KU(t,e){if(e===void 0&&(e=Ml),!t)return;const{top:n,left:r,bottom:s,right:a}=e(t);eR(t)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const QU=[["x",["left","right"],HU],["y",["top","bottom"],GU]];class xv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Kf(n),s=iR(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,l,u]of QU)for(const h of l)Object.defineProperty(this,h,{get:()=>{const p=u(r),g=s[a]-p;return this.rect[h]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Qc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function XU(t){const{EventTarget:e}=Xn(t);return t instanceof e?t:Ll(t)}function hg(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var br;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(br||(br={}));function h2(t){t.preventDefault()}function YU(t){t.stopPropagation()}var qe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(qe||(qe={}));const oR={start:[qe.Space,qe.Enter],cancel:[qe.Esc],end:[qe.Space,qe.Enter,qe.Tab]},JU=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case qe.Right:return{...n,x:n.x+25};case qe.Left:return{...n,x:n.x-25};case qe.Down:return{...n,y:n.y+25};case qe.Up:return{...n,y:n.y-25}}};class wv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Qc(Ll(n)),this.windowListeners=new Qc(Xn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(br.Resize,this.handleCancel),this.windowListeners.add(br.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(br.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&KU(r),n(Jr)}handleKeyDown(e){if(vv(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=oR,coordinateGetter:l=JU,scrollBehavior:u="smooth"}=s,{code:h}=e;if(a.end.includes(h)){this.handleEnd(e);return}if(a.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:p}=r.current,g=p?{x:p.left,y:p.top}:Jr;this.referenceCoordinates||(this.referenceCoordinates=g);const v=l(e,{active:n,context:r.current,currentCoordinates:g});if(v){const x=vu(v,g),T={x:0,y:0},{scrollableAncestors:k}=r.current;for(const A of k){const C=e.code,{isTop:L,isRight:P,isLeft:D,isBottom:B,maxScroll:K,minScroll:q}=sR(A),R=qU(A),I={x:Math.min(C===qe.Right?R.right-R.width/2:R.right,Math.max(C===qe.Right?R.left:R.left+R.width/2,v.x)),y:Math.min(C===qe.Down?R.bottom-R.height/2:R.bottom,Math.max(C===qe.Down?R.top:R.top+R.height/2,v.y))},j=C===qe.Right&&!P||C===qe.Left&&!D,M=C===qe.Down&&!B||C===qe.Up&&!L;if(j&&I.x!==v.x){const F=A.scrollLeft+x.x,$=C===qe.Right&&F<=K.x||C===qe.Left&&F>=q.x;if($&&!x.y){A.scrollTo({left:F,behavior:u});return}$?T.x=A.scrollLeft-F:T.x=C===qe.Right?A.scrollLeft-K.x:A.scrollLeft-q.x,T.x&&A.scrollBy({left:-T.x,behavior:u});break}else if(M&&I.y!==v.y){const F=A.scrollTop+x.y,$=C===qe.Down&&F<=K.y||C===qe.Up&&F>=q.y;if($&&!x.x){A.scrollTo({top:F,behavior:u});return}$?T.y=A.scrollTop-F:T.y=C===qe.Down?A.scrollTop-K.y:A.scrollTop-q.y,T.y&&A.scrollBy({top:-T.y,behavior:u});break}}this.handleMove(e,hl(vu(v,this.referenceCoordinates),T))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}wv.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=oR,onActivation:s}=e,{active:a}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const u=a.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function f2(t){return!!(t&&"distance"in t)}function p2(t){return!!(t&&"delay"in t)}class _v{constructor(e,n,r){var s;r===void 0&&(r=XU(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:l}=a;this.props=e,this.events=n,this.document=Ll(l),this.documentListeners=new Qc(this.document),this.listeners=new Qc(r),this.windowListeners=new Qc(Xn(l)),this.initialCoordinates=(s=f0(a))!=null?s:Jr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(br.Resize,this.handleCancel),this.windowListeners.add(br.DragStart,h2),this.windowListeners.add(br.VisibilityChange,this.handleCancel),this.windowListeners.add(br.ContextMenu,h2),this.documentListeners.add(br.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(p2(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(f2(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(br.Click,YU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(br.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:u}}=a;if(!s)return;const h=(n=f0(e))!=null?n:Jr,p=vu(s,h);if(!r&&u){if(f2(u)){if(u.tolerance!=null&&hg(p,u.tolerance))return this.handleCancel();if(hg(p,u.distance))return this.handleStart()}if(p2(u)&&hg(p,u.tolerance))return this.handleCancel();this.handlePending(u,p);return}e.cancelable&&e.preventDefault(),l(h)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===qe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const ZU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bv extends _v{constructor(e){const{event:n}=e,r=Ll(n.target);super(e,ZU,r)}}bv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const eB={move:{name:"mousemove"},end:{name:"mouseup"}};var m0;(function(t){t[t.RightClick=2]="RightClick"})(m0||(m0={}));class tB extends _v{constructor(e){super(e,eB,Ll(e.event.target))}}tB.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===m0.RightClick?!1:(r?.({event:n}),!0)}}];const fg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class nB extends _v{constructor(e){super(e,fg)}static setup(){return window.addEventListener(fg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(fg.move.name,e)};function e(){}}}nB.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var Xc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Xc||(Xc={}));var cf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(cf||(cf={}));function rB(t){let{acceleration:e,activator:n=Xc.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:l=5,order:u=cf.TreeOrder,pointerCoordinates:h,scrollableAncestors:p,scrollableAncestorRects:g,delta:v,threshold:x}=t;const T=iB({delta:v,disabled:!a}),[k,A]=mU(),C=b.useRef({x:0,y:0}),L=b.useRef({x:0,y:0}),P=b.useMemo(()=>{switch(n){case Xc.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Xc.DraggableRect:return s}},[n,s,h]),D=b.useRef(null),B=b.useCallback(()=>{const q=D.current;if(!q)return;const R=C.current.x*L.current.x,I=C.current.y*L.current.y;q.scrollBy(R,I)},[]),K=b.useMemo(()=>u===cf.TreeOrder?[...p].reverse():p,[u,p]);b.useEffect(()=>{if(!a||!p.length||!P){A();return}for(const q of K){if(r?.(q)===!1)continue;const R=p.indexOf(q),I=g[R];if(!I)continue;const{direction:j,speed:M}=WU(q,I,P,e,x);for(const F of["x","y"])T[F][j[F]]||(M[F]=0,j[F]=0);if(M.x>0||M.y>0){A(),D.current=q,k(B,l),C.current=M,L.current=j;return}}C.current={x:0,y:0},L.current={x:0,y:0},A()},[e,B,r,A,a,l,JSON.stringify(P),JSON.stringify(T),k,p,K,g,JSON.stringify(x)])}const sB={x:{[Xt.Backward]:!1,[Xt.Forward]:!1},y:{[Xt.Backward]:!1,[Xt.Forward]:!1}};function iB(t){let{delta:e,disabled:n}=t;const r=h0(e);return zu(s=>{if(n||!r||!s)return sB;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Xt.Backward]:s.x[Xt.Backward]||a.x===-1,[Xt.Forward]:s.x[Xt.Forward]||a.x===1},y:{[Xt.Backward]:s.y[Xt.Backward]||a.y===-1,[Xt.Forward]:s.y[Xt.Forward]||a.y===1}}},[n,e,r])}function oB(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return zu(s=>{var a;return e==null?null:(a=r??s)!=null?a:null},[r,e])}function aB(t,e){return b.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...a]},[]),[t,e])}var wu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(wu||(wu={}));var g0;(function(t){t.Optimized="optimized"})(g0||(g0={}));const m2=new Map;function lB(t,e){let{dragging:n,dependencies:r,config:s}=e;const[a,l]=b.useState(null),{frequency:u,measure:h,strategy:p}=s,g=b.useRef(t),v=C(),x=yu(v),T=b.useCallback(function(L){L===void 0&&(L=[]),!x.current&&l(P=>P===null?L:P.concat(L.filter(D=>!P.includes(D))))},[x]),k=b.useRef(null),A=zu(L=>{if(v&&!n)return m2;if(!L||L===m2||g.current!==t||a!=null){const P=new Map;for(let D of t){if(!D)continue;if(a&&a.length>0&&!a.includes(D.id)&&D.rect.current){P.set(D.id,D.rect.current);continue}const B=D.node.current,K=B?new xv(h(B),B):null;D.rect.current=K,K&&P.set(D.id,K)}return P}return L},[t,a,n,v,h]);return b.useEffect(()=>{g.current=t},[t]),b.useEffect(()=>{v||T()},[n,v]),b.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),b.useEffect(()=>{v||typeof u!="number"||k.current!==null||(k.current=setTimeout(()=>{T(),k.current=null},u))},[u,v,T,...r]),{droppableRects:A,measureDroppableContainers:T,measuringScheduled:a!=null};function C(){switch(p){case wu.Always:return!1;case wu.BeforeDragging:return n;default:return!n}}}function aR(t,e){return zu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function cB(t,e){return aR(t,e)}function uB(t){let{callback:e,disabled:n}=t;const r=yv(e),s=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return b.useEffect(()=>()=>s?.disconnect(),[s]),s}function Qf(t){let{callback:e,disabled:n}=t;const r=yv(e),s=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return b.useEffect(()=>()=>s?.disconnect(),[s]),s}function dB(t){return new xv(Ml(t),t)}function g2(t,e,n){e===void 0&&(e=dB);const[r,s]=b.useState(null);function a(){s(h=>{if(!t)return null;if(t.isConnected===!1){var p;return(p=h??n)!=null?p:null}const g=e(t);return JSON.stringify(h)===JSON.stringify(g)?h:g})}const l=uB({callback(h){if(t)for(const p of h){const{type:g,target:v}=p;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){a();break}}}}),u=Qf({callback:a});return Vs(()=>{a(),t?(u?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[t]),r}function hB(t){const e=aR(t);return ZI(t,e)}const y2=[];function fB(t){const e=b.useRef(t),n=zu(r=>t?r&&r!==y2&&t&&e.current&&t.parentNode===e.current.parentNode?r:Kf(t):y2,[t]);return b.useEffect(()=>{e.current=t},[t]),n}function pB(t){const[e,n]=b.useState(null),r=b.useRef(t),s=b.useCallback(a=>{const l=dg(a.target);l&&n(u=>u?(u.set(l,p0(l)),new Map(u)):null)},[]);return b.useEffect(()=>{const a=r.current;if(t!==a){l(a);const u=t.map(h=>{const p=dg(h);return p?(p.addEventListener("scroll",s,{passive:!0}),[p,p0(p)]):null}).filter(h=>h!=null);n(u.length?new Map(u):null),r.current=t}return()=>{l(t),l(a)};function l(u){u.forEach(h=>{const p=dg(h);p?.removeEventListener("scroll",s)})}},[s,t]),b.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,l)=>hl(a,l),Jr):iR(t):Jr,[t,e])}function v2(t,e){e===void 0&&(e=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},e),b.useEffect(()=>{const r=t!==Jr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?vu(t,n.current):Jr}function mB(t){b.useEffect(()=>{if(!Gf)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function gB(t,e){return b.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=l=>{a(l,e)},n},{}),[t,e])}function lR(t){return b.useMemo(()=>t?UU(t):null,[t])}const x2=[];function yB(t,e){e===void 0&&(e=Ml);const[n]=t,r=lR(n?Xn(n):null),[s,a]=b.useState(x2);function l(){a(()=>t.length?t.map(h=>rR(h)?r:new xv(e(h),h)):x2)}const u=Qf({callback:l});return Vs(()=>{u?.disconnect(),l(),t.forEach(h=>u?.observe(h))},[t]),s}function vB(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Bu(e)?e:t}function xB(t){let{measure:e}=t;const[n,r]=b.useState(null),s=b.useCallback(p=>{for(const{target:g}of p)if(Bu(g)){r(v=>{const x=e(g);return v?{...v,width:x.width,height:x.height}:x});break}},[e]),a=Qf({callback:s}),l=b.useCallback(p=>{const g=vB(p);a?.disconnect(),g&&a?.observe(g),r(g?e(g):null)},[e,a]),[u,h]=af(l);return b.useMemo(()=>({nodeRef:u,rect:n,setRef:h}),[n,u,h])}const wB=[{sensor:bv,options:{}},{sensor:wv,options:{}}],_B={current:{}},kh={draggable:{measure:d2},droppable:{measure:d2,strategy:wu.WhileDragging,frequency:g0.Optimized},dragOverlay:{measure:Ml}};class Yc extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const bB={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Yc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:lf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:kh,measureDroppableContainers:lf,windowRect:null,measuringScheduled:!1},EB={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:lf,draggableNodes:new Map,over:null,measureDroppableContainers:lf},Xf=b.createContext(EB),cR=b.createContext(bB);function TB(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Yc}}}function SB(t,e){switch(e.type){case Bt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Bt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Bt.DragEnd:case Bt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Bt.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Yc(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Bt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const l=new Yc(t.droppable.containers);return l.set(n,{...a,disabled:s}),{...t,droppable:{...t.droppable,containers:l}}}case Bt.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new Yc(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function CB(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=b.useContext(Xf),a=h0(r),l=h0(n?.id);return b.useEffect(()=>{if(!e&&!r&&a&&l!=null){if(!vv(a)||document.activeElement===a.target)return;const u=s.get(l);if(!u)return;const{activatorNode:h,node:p}=u;if(!h.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[h.current,p.current]){if(!g)continue;const v=vU(g);if(v){v.focus();break}}})}},[r,e,s,l,a]),null}function IB(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,a)=>a({transform:s,...r}),n):n}function RB(t){return b.useMemo(()=>({draggable:{...kh.draggable,...t?.draggable},droppable:{...kh.droppable,...t?.droppable},dragOverlay:{...kh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function AB(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const a=b.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;Vs(()=>{if(!l&&!u||!e){a.current=!1;return}if(a.current||!r)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const g=n(p),v=ZI(g,r);if(l||(v.x=0),u||(v.y=0),a.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const x=eR(p);x&&x.scrollBy({top:v.y,left:v.x})}},[e,l,u,r,n])}const uR=b.createContext({...Jr,scaleX:1,scaleY:1});var Ui;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ui||(Ui={}));const NB=b.memo(function(e){var n,r,s,a;let{id:l,accessibility:u,autoScroll:h=!0,children:p,sensors:g=wB,collisionDetection:v=jU,measuring:x,modifiers:T,...k}=e;const A=b.useReducer(SB,void 0,TB),[C,L]=A,[P,D]=TU(),[B,K]=b.useState(Ui.Uninitialized),q=B===Ui.Initialized,{draggable:{active:R,nodes:I,translate:j},droppable:{containers:M}}=C,F=R!=null?I.get(R):null,$=b.useRef({initial:null,translated:null}),V=b.useMemo(()=>{var Ve;return R!=null?{id:R,data:(Ve=F?.data)!=null?Ve:_B,rect:$}:null},[R,F]),Le=b.useRef(null),[et,fe]=b.useState(null),[se,ee]=b.useState(null),ce=yu(k,Object.values(k)),ae=$u("DndDescribedBy",l),W=b.useMemo(()=>M.getEnabled(),[M]),J=RB(x),{droppableRects:xe,measureDroppableContainers:_e,measuringScheduled:Pe}=lB(W,{dragging:q,dependencies:[j.x,j.y],config:J.droppable}),Te=oB(I,R),Fe=b.useMemo(()=>se?f0(se):null,[se]),Ne=Vr(),Me=cB(Te,J.draggable.measure);AB({activeNode:R!=null?I.get(R):null,config:Ne.layoutShiftCompensation,initialRect:Me,measure:J.draggable.measure});const je=g2(Te,J.draggable.measure,Me),dr=g2(Te?Te.parentElement:null),hn=b.useRef({activatorEvent:null,active:null,activeNode:Te,collisionRect:null,collisions:null,droppableRects:xe,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),In=M.getNodeFor((n=hn.current.over)==null?void 0:n.id),fn=xB({measure:J.dragOverlay.measure}),Dr=(r=fn.nodeRef.current)!=null?r:Te,Yn=q?(s=fn.rect)!=null?s:je:null,ns=!!(fn.nodeRef.current&&fn.rect),hi=hB(ns?null:je),ut=lR(Dr?Xn(Dr):null),Ze=fB(q?In??Te:null),pn=yB(Ze),rs=IB(T,{transform:{x:j.x-hi.x,y:j.y-hi.y,scaleX:1,scaleY:1},activatorEvent:se,active:V,activeNodeRect:je,containerNodeRect:dr,draggingNodeRect:Yn,over:hn.current.over,overlayNodeRect:fn.rect,scrollableAncestors:Ze,scrollableAncestorRects:pn,windowRect:ut}),fi=Fe?hl(Fe,j):null,yo=pB(Ze),ss=v2(yo),vo=v2(yo,[je]),Jn=hl(rs,ss),Rn=Yn?MU(Yn,rs):null,is=V&&Rn?v({active:V,collisionRect:Rn,droppableRects:xe,droppableContainers:W,pointerCoordinates:fi}):null,os=JI(is,"id"),[Yt,xo]=b.useState(null),as=ns?rs:hl(rs,vo),pi=DU(as,(a=Yt?.rect)!=null?a:null,je),Os=b.useRef(null),Vn=b.useCallback((Ve,Vt)=>{let{sensor:vt,options:Jt}=Vt;if(Le.current==null)return;const Zt=I.get(Le.current);if(!Zt)return;const $t=Ve.nativeEvent,Et=new vt({active:Le.current,activeNode:Zt,event:$t,options:Jt,context:hn,onAbort(it){if(!I.get(it))return;const{onDragAbort:Ot}=ce.current,On={id:it};Ot?.(On),P({type:"onDragAbort",event:On})},onPending(it,en,Ot,On){if(!I.get(it))return;const{onDragPending:mn}=ce.current,Nn={id:it,constraint:en,initialCoordinates:Ot,offset:On};mn?.(Nn),P({type:"onDragPending",event:Nn})},onStart(it){const en=Le.current;if(en==null)return;const Ot=I.get(en);if(!Ot)return;const{onDragStart:On}=ce.current,An={activatorEvent:$t,active:{id:en,data:Ot.data,rect:$}};Ac.unstable_batchedUpdates(()=>{On?.(An),K(Ui.Initializing),L({type:Bt.DragStart,initialCoordinates:it,active:en}),P({type:"onDragStart",event:An}),fe(Os.current),ee($t)})},onMove(it){L({type:Bt.DragMove,coordinates:it})},onEnd:Or(Bt.DragEnd),onCancel:Or(Bt.DragCancel)});Os.current=Et;function Or(it){return async function(){const{active:Ot,collisions:On,over:An,scrollAdjustedTranslate:mn}=hn.current;let Nn=null;if(Ot&&mn){const{cancelDrop:Wt}=ce.current;Nn={activatorEvent:$t,active:Ot,collisions:On,delta:mn,over:An},it===Bt.DragEnd&&typeof Wt=="function"&&await Promise.resolve(Wt(Nn))&&(it=Bt.DragCancel)}Le.current=null,Ac.unstable_batchedUpdates(()=>{L({type:it}),K(Ui.Uninitialized),xo(null),fe(null),ee(null),Os.current=null;const Wt=it===Bt.DragEnd?"onDragEnd":"onDragCancel";if(Nn){const yi=ce.current[Wt];yi?.(Nn),P({type:Wt,event:Nn})}})}}},[I]),mi=b.useCallback((Ve,Vt)=>(vt,Jt)=>{const Zt=vt.nativeEvent,$t=I.get(Jt);if(Le.current!==null||!$t||Zt.dndKit||Zt.defaultPrevented)return;const Et={active:$t};Ve(vt,Vt.options,Et)===!0&&(Zt.dndKit={capturedBy:Vt.sensor},Le.current=Jt,Vn(vt,Vt))},[I,Vn]),Lr=aB(g,mi);mB(g),Vs(()=>{je&&B===Ui.Initializing&&K(Ui.Initialized)},[je,B]),b.useEffect(()=>{const{onDragMove:Ve}=ce.current,{active:Vt,activatorEvent:vt,collisions:Jt,over:Zt}=hn.current;if(!Vt||!vt)return;const $t={active:Vt,activatorEvent:vt,collisions:Jt,delta:{x:Jn.x,y:Jn.y},over:Zt};Ac.unstable_batchedUpdates(()=>{Ve?.($t),P({type:"onDragMove",event:$t})})},[Jn.x,Jn.y]),b.useEffect(()=>{const{active:Ve,activatorEvent:Vt,collisions:vt,droppableContainers:Jt,scrollAdjustedTranslate:Zt}=hn.current;if(!Ve||Le.current==null||!Vt||!Zt)return;const{onDragOver:$t}=ce.current,Et=Jt.get(os),Or=Et&&Et.rect.current?{id:Et.id,rect:Et.rect.current,data:Et.data,disabled:Et.disabled}:null,it={active:Ve,activatorEvent:Vt,collisions:vt,delta:{x:Zt.x,y:Zt.y},over:Or};Ac.unstable_batchedUpdates(()=>{xo(Or),$t?.(it),P({type:"onDragOver",event:it})})},[os]),Vs(()=>{hn.current={activatorEvent:se,active:V,activeNode:Te,collisionRect:Rn,collisions:is,droppableRects:xe,draggableNodes:I,draggingNode:Dr,draggingNodeRect:Yn,droppableContainers:M,over:Yt,scrollableAncestors:Ze,scrollAdjustedTranslate:Jn},$.current={initial:Yn,translated:Rn}},[V,Te,is,Rn,I,Dr,Yn,xe,M,Yt,Ze,Jn]),rB({...Ne,delta:j,draggingRect:Rn,pointerCoordinates:fi,scrollableAncestors:Ze,scrollableAncestorRects:pn});const gi=b.useMemo(()=>({active:V,activeNode:Te,activeNodeRect:je,activatorEvent:se,collisions:is,containerNodeRect:dr,dragOverlay:fn,draggableNodes:I,droppableContainers:M,droppableRects:xe,over:Yt,measureDroppableContainers:_e,scrollableAncestors:Ze,scrollableAncestorRects:pn,measuringConfiguration:J,measuringScheduled:Pe,windowRect:ut}),[V,Te,je,se,is,dr,fn,I,M,xe,Yt,_e,Ze,pn,J,Pe,ut]),Mr=b.useMemo(()=>({activatorEvent:se,activators:Lr,active:V,activeNodeRect:je,ariaDescribedById:{draggable:ae},dispatch:L,draggableNodes:I,over:Yt,measureDroppableContainers:_e}),[se,Lr,V,je,L,ae,I,Yt,_e]);return ln.createElement(QI.Provider,{value:D},ln.createElement(Xf.Provider,{value:Mr},ln.createElement(cR.Provider,{value:gi},ln.createElement(uR.Provider,{value:pi},p)),ln.createElement(CB,{disabled:u?.restoreFocus===!1})),ln.createElement(IU,{...u,hiddenTextDescribedById:ae}));function Vr(){const Ve=et?.autoScrollEnabled===!1,Vt=typeof h=="object"?h.enabled===!1:h===!1,vt=q&&!Ve&&!Vt;return typeof h=="object"?{...h,enabled:vt}:{enabled:vt}}}),kB=b.createContext(null),w2="button",PB="Draggable";function jB(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const a=$u(PB),{activators:l,activatorEvent:u,active:h,activeNodeRect:p,ariaDescribedById:g,draggableNodes:v,over:x}=b.useContext(Xf),{role:T=w2,roleDescription:k="draggable",tabIndex:A=0}=s??{},C=h?.id===e,L=b.useContext(C?uR:kB),[P,D]=af(),[B,K]=af(),q=gB(l,e),R=yu(n);Vs(()=>(v.set(e,{id:e,key:a,node:P,activatorNode:B,data:R}),()=>{const j=v.get(e);j&&j.key===a&&v.delete(e)}),[v,e]);const I=b.useMemo(()=>({role:T,tabIndex:A,"aria-disabled":r,"aria-pressed":C&&T===w2?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[r,T,A,C,k,g.draggable]);return{active:h,activatorEvent:u,activeNodeRect:p,attributes:I,isDragging:C,listeners:r?void 0:q,node:P,over:x,setNodeRef:D,setActivatorNodeRef:K,transform:L}}function DB(){return b.useContext(cR)}const LB="Droppable",MB={timeout:25};function VB(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const a=$u(LB),{active:l,dispatch:u,over:h,measureDroppableContainers:p}=b.useContext(Xf),g=b.useRef({disabled:n}),v=b.useRef(!1),x=b.useRef(null),T=b.useRef(null),{disabled:k,updateMeasurementsFor:A,timeout:C}={...MB,...s},L=yu(A??r),P=b.useCallback(()=>{if(!v.current){v.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{p(Array.isArray(L.current)?L.current:[L.current]),T.current=null},C)},[C]),D=Qf({callback:P,disabled:k||!l}),B=b.useCallback((I,j)=>{D&&(j&&(D.unobserve(j),v.current=!1),I&&D.observe(I))},[D]),[K,q]=af(B),R=yu(e);return b.useEffect(()=>{!D||!K.current||(D.disconnect(),v.current=!1,D.observe(K.current))},[K,D]),b.useEffect(()=>(u({type:Bt.RegisterDroppable,element:{id:r,key:a,disabled:n,node:K,rect:x,data:R}}),()=>u({type:Bt.UnregisterDroppable,key:a,id:r})),[r]),b.useEffect(()=>{n!==g.current.disabled&&(u({type:Bt.SetDroppableDisabled,id:r,key:a,disabled:n}),g.current.disabled=n)},[r,a,n,u]),{active:l,rect:x,isOver:h?.id===r,node:K,over:h,setNodeRef:q}}function Ev(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function OB(t,e){return t.reduce((n,r,s)=>{const a=e.get(r);return a&&(n[s]=a),n},Array(t.length))}function hh(t){return t!==null&&t>=0}function FB(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function UB(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const dR=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const a=Ev(e,r,n),l=e[s],u=a[s];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},fh={scaleX:1,scaleY:1},BB=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:l}=t;const u=(e=a[n])!=null?e:r;if(!u)return null;if(s===n){const p=a[l];return p?{x:0,y:n<l?p.top+p.height-(u.top+u.height):p.top-u.top,...fh}:null}const h=zB(a,s,n);return s>n&&s<=l?{x:0,y:-u.height-h,...fh}:s<n&&s>=l?{x:0,y:u.height+h,...fh}:{x:0,y:0,...fh}};function zB(t,e,n){const r=t[e],s=t[e-1],a=t[e+1];return r?n<e?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const hR="Sortable",fR=ln.createContext({activeIndex:-1,containerId:hR,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dR,disabled:{draggable:!1,droppable:!1}});function $B(t){let{children:e,id:n,items:r,strategy:s=dR,disabled:a=!1}=t;const{active:l,dragOverlay:u,droppableRects:h,over:p,measureDroppableContainers:g}=DB(),v=$u(hR,n),x=u.rect!==null,T=b.useMemo(()=>r.map(q=>typeof q=="object"&&"id"in q?q.id:q),[r]),k=l!=null,A=l?T.indexOf(l.id):-1,C=p?T.indexOf(p.id):-1,L=b.useRef(T),P=!FB(T,L.current),D=C!==-1&&A===-1||P,B=UB(a);Vs(()=>{P&&k&&g(T)},[P,T,k,g]),b.useEffect(()=>{L.current=T},[T]);const K=b.useMemo(()=>({activeIndex:A,containerId:v,disabled:B,disableTransforms:D,items:T,overIndex:C,useDragOverlay:x,sortedRects:OB(T,h),strategy:s}),[A,v,B.draggable,B.droppable,D,T,C,h,x,s]);return ln.createElement(fR.Provider,{value:K},e)}const WB=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return Ev(n,r,s).indexOf(e)},qB=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:a,newIndex:l,previousItems:u,previousContainerId:h,transition:p}=t;return!p||!r||u!==a&&s===l?!1:n?!0:l!==s&&e===h},HB={duration:200,easing:"ease"},pR="transform",GB=xu.Transition.toString({property:pR,duration:0,easing:"linear"}),KB={roleDescription:"sortable"};function QB(t){let{disabled:e,index:n,node:r,rect:s}=t;const[a,l]=b.useState(null),u=b.useRef(n);return Vs(()=>{if(!e&&n!==u.current&&r.current){const h=s.current;if(h){const p=Ml(r.current,{ignoreTransform:!0}),g={x:h.left-p.left,y:h.top-p.top,scaleX:h.width/p.width,scaleY:h.height/p.height};(g.x||g.y)&&l(g)}}n!==u.current&&(u.current=n)},[e,n,r,s]),b.useEffect(()=>{a&&l(null)},[a]),a}function XB(t){let{animateLayoutChanges:e=qB,attributes:n,disabled:r,data:s,getNewIndex:a=WB,id:l,strategy:u,resizeObserverConfig:h,transition:p=HB}=t;const{items:g,containerId:v,activeIndex:x,disabled:T,disableTransforms:k,sortedRects:A,overIndex:C,useDragOverlay:L,strategy:P}=b.useContext(fR),D=YB(r,T),B=g.indexOf(l),K=b.useMemo(()=>({sortable:{containerId:v,index:B,items:g},...s}),[v,s,B,g]),q=b.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:R,node:I,isOver:j,setNodeRef:M}=VB({id:l,data:K,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:q,...h}}),{active:F,activatorEvent:$,activeNodeRect:V,attributes:Le,setNodeRef:et,listeners:fe,isDragging:se,over:ee,setActivatorNodeRef:ce,transform:ae}=jB({id:l,data:K,attributes:{...KB,...n},disabled:D.draggable}),W=pU(M,et),J=!!F,xe=J&&!k&&hh(x)&&hh(C),_e=!L&&se,Pe=_e&&xe?ae:null,Fe=xe?Pe??(u??P)({rects:A,activeNodeRect:V,activeIndex:x,overIndex:C,index:B}):null,Ne=hh(x)&&hh(C)?a({id:l,items:g,activeIndex:x,overIndex:C}):B,Me=F?.id,je=b.useRef({activeId:Me,items:g,newIndex:Ne,containerId:v}),dr=g!==je.current.items,hn=e({active:F,containerId:v,isDragging:se,isSorting:J,id:l,index:B,items:g,newIndex:je.current.newIndex,previousItems:je.current.items,previousContainerId:je.current.containerId,transition:p,wasDragging:je.current.activeId!=null}),In=QB({disabled:!hn,index:B,node:I,rect:R});return b.useEffect(()=>{J&&je.current.newIndex!==Ne&&(je.current.newIndex=Ne),v!==je.current.containerId&&(je.current.containerId=v),g!==je.current.items&&(je.current.items=g)},[J,Ne,v,g]),b.useEffect(()=>{if(Me===je.current.activeId)return;if(Me!=null&&je.current.activeId==null){je.current.activeId=Me;return}const Dr=setTimeout(()=>{je.current.activeId=Me},50);return()=>clearTimeout(Dr)},[Me]),{active:F,activeIndex:x,attributes:Le,data:K,rect:R,index:B,newIndex:Ne,items:g,isOver:j,isSorting:J,isDragging:se,listeners:fe,node:I,overIndex:C,over:ee,setNodeRef:W,setActivatorNodeRef:ce,setDroppableNodeRef:M,setDraggableNodeRef:et,transform:In??Fe,transition:fn()};function fn(){if(In||dr&&je.current.newIndex===B)return GB;if(!(_e&&!vv($)||!p)&&(J||hn))return xu.Transition.toString({...p,property:pR})}}function YB(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function uf(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const JB=[qe.Down,qe.Right,qe.Up,qe.Left],ZB=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:a,over:l,scrollableAncestors:u}}=e;if(JB.includes(t.code)){if(t.preventDefault(),!n||!r)return;const h=[];a.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const x=s.get(v.id);if(x)switch(t.code){case qe.Down:r.top<x.top&&h.push(v);break;case qe.Up:r.top>x.top&&h.push(v);break;case qe.Left:r.left>x.left&&h.push(v);break;case qe.Right:r.left<x.left&&h.push(v);break}});const p=kU({collisionRect:r,droppableRects:s,droppableContainers:h});let g=JI(p,"id");if(g===l?.id&&p.length>1&&(g=p[1].id),g!=null){const v=a.get(n.id),x=a.get(g),T=x?s.get(x.id):null,k=x?.node.current;if(k&&T&&v&&x){const C=Kf(k).some((q,R)=>u[R]!==q),L=mR(v,x),P=ez(v,x),D=C||!L?{x:0,y:0}:{x:P?r.width-T.width:0,y:P?r.height-T.height:0},B={x:T.left,y:T.top};return D.x&&D.y?B:vu(B,D)}}}};function mR(t,e){return!uf(t)||!uf(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function ez(t,e){return!uf(t)||!uf(e)||!mR(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const tz=({id:t,skill:e,isOwnProfile:n,onRemove:r})=>{const{attributes:s,listeners:a,setNodeRef:l,transform:u,transition:h,isDragging:p}=XB({id:t}),g={transform:xu.Transform.toString(u),transition:h,zIndex:p?50:"auto"};return d.jsxs("div",{ref:l,style:g,className:`flex items-center justify-between gap-3 px-4 py-2 bg-white rounded-xl border border-gray-100 shadow-sm group ${p?"shadow-lg ring-2 ring-blue-100":""}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[n&&d.jsx("button",{...s,...a,className:"cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),d.jsx("span",{className:"text-sm font-bold text-gray-700",children:e})]}),n&&d.jsx("button",{onClick:()=>r(e),className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-500",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})},nz=["React","TypeScript","Next.js","Node.js","Python","Java","UI/UX Design","Figma","Firebase","AWS","Docker","Kubernetes","Go","Rust","Tailwind CSS"],rz=({skills:t,isOwnProfile:e,onUpdate:n})=>{const[r,s]=b.useState(""),[a,l]=b.useState(!1),u=RU(l2(bv),l2(wv,{coordinateGetter:ZB})),h=x=>{const{active:T,over:k}=x;if(k&&T.id!==k.id){const A=t.indexOf(T.id),C=t.indexOf(k.id);n(Ev(t,A,C))}},p=x=>{const T=x.trim();T&&!t.includes(T)&&n([...t,T]),s(""),l(!1)},g=x=>{n(t.filter(T=>T!==x))},v=nz.filter(x=>x.toLowerCase().includes(r.toLowerCase())&&!t.includes(x));return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-6 uppercase tracking-widest text-center",children:"Tech Stack"}),e&&d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:r,onChange:x=>{s(x.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:x=>{x.key==="Enter"&&p(r)},className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium text-sm",placeholder:"Add a skill (e.g. Docker)..."}),a&&r&&v.length>0&&d.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:v.map(x=>d.jsx("button",{onClick:()=>p(x),className:"w-full text-left px-5 py-3 hover:bg-gray-50 text-sm font-medium text-gray-700 transition-colors",children:x},x))})]}),d.jsx(NB,{sensors:u,collisionDetection:NU,onDragEnd:h,children:d.jsx("div",{className:"grid grid-cols-1 gap-3",children:d.jsx($B,{items:t,strategy:BB,children:t.map(x=>d.jsx(tz,{id:x,skill:x,isOwnProfile:e,onRemove:g},x))})})}),t.length===0&&d.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:d.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"No skills added yet."})})]})},sz=({onActionComplete:t})=>{const[e,n]=b.useState([]),[r,s]=b.useState(!0),a=async()=>{s(!0);try{const h=await U8(),p=await Promise.all(h.map(async g=>{const v=await Ls(Mt(Oe,"users",g.requesterId));if(v.exists()){const x=v.data();return{...g,requesterName:x.name,requesterAvatar:x.avatar}}return g}));n(p)}catch(h){console.error("Error loading incoming requests:",h)}finally{s(!1)}};b.useEffect(()=>{a()},[]);const l=async h=>{try{await V8(h),n(p=>p.filter(g=>g.id!==h)),t()}catch(p){console.error("Error accepting request:",p)}},u=async h=>{try{await O8(h),n(p=>p.filter(g=>g.id!==h)),t()}catch(p){console.error("Error ignoring request:",p)}};return r||e.length===0?null:d.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 mb-8",children:[d.jsx("div",{className:"flex justify-between items-center mb-6",children:d.jsxs("h3",{className:"text-xl font-black text-[#0f172a] flex items-center gap-3",children:[d.jsx("span",{className:"w-1.5 h-6 bg-green-500 rounded-full"}),"Incoming Requests",d.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-600 text-[10px] rounded-md",children:e.length})]})}),d.jsx("div",{className:"space-y-4",children:e.map(h=>d.jsxs("div",{className:"p-4 rounded-2xl bg-gray-50/50 border border-gray-100 flex flex-col md:flex-row gap-4 items-center md:items-center",children:[d.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:d.jsx("img",{src:h.requesterAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${h.requesterId}`,alt:"",className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex-grow text-center md:text-left",children:[d.jsx("h4",{className:"font-bold text-gray-900",children:h.requesterName||"Anonymous Student"}),h.note&&d.jsxs("p",{className:"text-sm text-gray-500 italic mt-1 line-clamp-2",children:['"',h.note,'"']})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>u(h.id),className:"px-4 py-2 text-xs font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:"Ignore"}),d.jsx("button",{onClick:()=>l(h.id),className:"px-6 py-2 text-xs font-bold bg-[#0066FF] text-white rounded-xl shadow-lg shadow-blue-500/20 hover:bg-blue-700 transition-all",children:"Accept"})]})]},h.id))})]})},_2=()=>{const t=Pr(),{userId:e}=P2(),[n,r]=b.useState(!0),[s,a]=b.useState(null),[l,u]=b.useState(!1),[h,p]=b.useState(0),[g,v]=b.useState("none"),[x,T]=b.useState(!1),[k,A]=b.useState([]),[C,L]=b.useState(!1),[P,D]=b.useState(null),[B,K]=b.useState(""),[q,R]=b.useState(!1),[I,j]=b.useState(!1),[M,F]=b.useState("");ln.useEffect(()=>{(async()=>{try{const se=Ke.currentUser;if(!se){t("/login");return}const ee=e||se.uid;u(ee===se.uid);const ce=Mt(Oe,"users",ee),ae=await Ls(ce);if(ae.exists()){const xe=ae.data();if(a(xe),ee!==se.uid){const _e=Lt(Oe,"connections"),Pe=Cn(_e,un("requesterId","==",se.uid),un("recipientId","==",ee)),Te=Cn(_e,un("requesterId","==",ee),un("recipientId","==",se.uid)),[Fe,Ne]=await Promise.all([Mn(Pe),Mn(Te)]);if(Fe.empty){if(!Ne.empty){const Me=Ne.docs[0].data().status;v(Me==="accepted"?"connected":"received")}}else{const Me=Fe.docs[0].data().status;v(Me==="accepted"?"connected":"pending")}}}else e||t("/onboarding");const W=await Yb(ee);A(W);const J=await Xb(ee);p(J)}catch(se){console.error("Error fetching user data:",se)}finally{r(!1)}})()},[t,e]);const $=async()=>{const fe=e||s?.uid;if(!(!Ke.currentUser||!fe)){if(!I){j(!0);return}T(!0);try{await qI(fe,M),v("pending"),j(!1),F("")}catch(se){const ee=se;console.error("Error sending connection request:",ee),alert(ee.message)}finally{T(!1)}}},V=async fe=>{if(fe.preventDefault(),!Ke.currentUser||!P)return;const se=B.split(",").map(ce=>ce.trim()).filter(ce=>ce!=="");if(se.length===0){alert("Please add at least one technology to the Tech Stack.");return}const ee={...P,techStack:se};R(!0);try{P.id?await $8(P.id,ee):await z8(Ke.currentUser.uid,ee);const ce=await Yb(s?.uid||Ke.currentUser.uid);A(ce),L(!1),D(null)}catch(ce){console.error("Error saving project:",ce),alert("Failed to save project.")}finally{R(!1)}},Le=async fe=>{if(window.confirm("Are you sure you want to delete this project?"))try{await W8(fe),A(se=>se.filter(ee=>ee.id!==fe))}catch(se){console.error("Error deleting project:",se),alert("Failed to delete project.")}},et=async fe=>{if(!(!Ke.currentUser||!s))try{const se=Mt(Oe,"users",s.uid||Ke.currentUser.uid);await Lu(se,{skills:fe}),a(ee=>ee?{...ee,skills:fe}:null)}catch(se){console.error("Error updating skills:",se),alert("Failed to update skills.")}};return n?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC]",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#0066FF]"}),d.jsx("p",{className:"text-gray-500 font-medium text-sm animate-pulse",children:"Loading..."})]})}):s?d.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[d.jsxs("div",{className:"relative h-44 md:h-80 w-full overflow-hidden",style:{transform:"translateZ(0)"},children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0066FF] via-[#5865F2] to-[#7000FF] opacity-90"}),d.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20",style:{transform:"translateZ(0)"}}),d.jsx(we.div,{animate:{scale:[1,1.1,1],opacity:[.1,.15,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{willChange:"transform, opacity",backfaceVisibility:"hidden"},className:"absolute top-[-10%] right-[-5%] w-64 h-64 bg-white/10 rounded-full blur-3xl pointer-events-none"}),d.jsx(we.div,{animate:{y:[0,20,0],opacity:[.2,.25,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{willChange:"transform, opacity",backfaceVisibility:"hidden"},className:"absolute bottom-[-5%] left-[5%] w-48 h-48 bg-blue-400/20 rounded-full blur-2xl pointer-events-none"})]}),d.jsx("div",{className:"container-custom mx-auto px-4 -mt-24 md:-mt-40 relative z-10",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l&&d.jsx(sz,{onActionComplete:async()=>{if(s?.uid){const fe=await Xb(s.uid);p(fe)}}}),d.jsx(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 overflow-hidden",children:d.jsx("div",{className:"p-8 md:p-10",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-end text-center md:text-left",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#0066FF] to-[#00E0FF] rounded-full blur-md opacity-20 group-hover:opacity-40 transition-opacity"}),l?d.jsx(fU,{userId:Ke.currentUser?.uid||"",currentAvatar:s.avatar,onUploadComplete:fe=>a(se=>se?{...se,avatar:fe}:null)}):d.jsx("div",{className:"relative w-36 h-36 md:w-44 md:h-44 rounded-full border-4 border-white shadow-2xl overflow-hidden bg-white",children:d.jsx("img",{src:s.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.name}`,alt:s.name,className:"w-full h-full object-cover"})})]}),d.jsxs("div",{className:"flex-grow",children:[d.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-[#0f172a] tracking-tight",children:s.name}),s.isAdmin&&d.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-[#0066FF] text-[10px] font-black uppercase rounded-md border border-blue-200",children:"Admin"})]}),d.jsx("p",{className:"text-blue-600 font-semibold text-xl mb-4",children:s.role}),d.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-y-3 gap-x-6 text-sm text-gray-500 font-medium",children:[d.jsxs("span",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-lg border border-gray-100",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-[#0066FF]",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.534 50.534 0 00-2.658.813m-15.482 0A50.717 50.717 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"})}),s.institution]}),d.jsxs("div",{className:"flex items-center gap-2 text-[#0066FF] font-bold text-sm bg-blue-50 px-4 py-1.5 rounded-full",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),h," connections"]})]})]}),d.jsx("div",{className:"flex gap-3 w-full md:w-auto mt-6 md:mt-0",children:l?d.jsx("button",{onClick:()=>t("/onboarding"),className:"flex-1 md:flex-none px-8 py-3 bg-[#0066FF] text-white rounded-2xl font-bold text-sm hover:bg-blue-700 transition-all shadow-xl shadow-blue-500/20 hover:scale-[1.02] active:scale-[0.98]",children:"Edit Profile"}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:$,disabled:g!=="none"||x,className:`flex-1 md:flex-none px-8 py-3 rounded-2xl font-bold text-sm transition-all shadow-xl ${g==="none"?"bg-[#0066FF] text-white hover:bg-blue-700 shadow-blue-500/20 hover:scale-[1.02]":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,children:x?"...":g==="pending"?"Pending":g==="connected"?"Connected":g==="received"?"Accept Request":"Connect"}),d.jsx("button",{className:"flex-1 md:flex-none px-6 py-3 border-2 border-gray-100 text-[#0f172a] rounded-2xl font-bold text-sm hover:bg-gray-50 transition-all",children:"Message"})]})})]})})}),d.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[d.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] mb-6 flex items-center gap-3",children:[d.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"About"]}),d.jsx("p",{className:"text-gray-600 leading-relaxed text-lg whitespace-pre-wrap",children:s.bio||"Building Scalable Products that solve modern problems."})]}),d.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8 md:p-10",children:[d.jsxs("div",{className:"flex justify-between items-center mb-10",children:[d.jsxs("h3",{className:"text-2xl font-black text-[#0f172a] flex items-center gap-3",children:[d.jsx("span",{className:"w-1.5 h-8 bg-[#0066FF] rounded-full"}),"Featured Projects"]}),d.jsxs("div",{className:"flex gap-2",children:[l&&d.jsx("button",{onClick:()=>{D({title:"",description:"",role:"",techStack:[],duration:"",githubUrl:"",liveUrl:""}),K(""),L(!0)},className:"px-4 py-2 bg-blue-50 text-[#0066FF] text-sm font-bold rounded-xl hover:bg-blue-100 transition-all",children:"+ Add Project"}),d.jsx("button",{className:"px-4 py-2 text-sm text-[#0066FF] font-bold hover:bg-blue-50 rounded-xl transition-all border border-transparent hover:border-blue-100",children:"View All"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.length>0?k.map(fe=>d.jsxs("div",{className:"p-6 rounded-2xl border border-gray-100 hover:border-[#0066FF]/30 hover:bg-[#0066FF]/[0.02] transition-all cursor-pointer group flex flex-col h-full relative",children:[l&&d.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:se=>{se.stopPropagation(),D(fe),K(fe.techStack?.join(", ")||""),L(!0)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-blue-600",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})}),d.jsx("button",{onClick:se=>{se.stopPropagation(),Le(fe.id)},className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100 text-gray-500 hover:text-red-600",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]}),d.jsx("h4",{className:"font-bold text-xl text-[#0f172a] group-hover:text-[#0066FF] mb-1 transition-colors",children:fe.title}),d.jsx("p",{className:"text-blue-600 text-xs font-bold mb-3",children:fe.role}),d.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-3 leading-relaxed flex-grow",children:fe.description}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex flex-wrap gap-2",children:fe.techStack?.slice(0,3).map(se=>d.jsx("span",{className:"px-2 py-0.5 bg-gray-50 text-gray-600 rounded text-[10px] font-bold border border-gray-100 uppercase",children:se},se))}),d.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:fe.duration})]})]},fe.id)):d.jsxs("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-2xl border-2 border-dashed border-gray-100",children:[d.jsx("p",{className:"text-gray-400 font-medium",children:"No projects added yet."}),l&&d.jsx("p",{className:"text-sm text-blue-500 mt-2 cursor-pointer hover:underline",onClick:()=>L(!0),children:"Add your first project"})]})})]})]}),d.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[d.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",style:{willChange:"transform"},children:[d.jsx("h3",{className:"font-black text-xl text-[#0f172a] mb-8 uppercase tracking-widest text-center",children:"Social Links"}),d.jsxs("div",{className:"space-y-4",children:[s.socials?.linkedin?d.jsxs("a",{href:s.socials.linkedin.startsWith("http")?s.socials.linkedin:`https://${s.socials.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-4 rounded-2xl bg-white border border-gray-100 hover:border-[#0077b5] hover:bg-blue-50/10 transition-all shadow-sm",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#0077b5]/10 text-[#0077b5] flex items-center justify-center group-hover:scale-110 transition-transform",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),d.jsx("span",{className:"font-bold text-sm text-[#0f172a]",children:"LinkedIn"})]}):d.jsx("div",{className:"p-4 rounded-2xl border-2 border-dashed border-gray-100 flex items-center justify-center text-gray-300 text-xs font-bold uppercase tracking-widest",children:"LinkedNot Found"}),s.socials?.github?d.jsxs("a",{href:s.socials.github.startsWith("http")?s.socials.github:`https://${s.socials.github}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-4 rounded-2xl bg-white border border-gray-100 hover:border-black hover:bg-gray-50 transition-all shadow-sm",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 text-black flex items-center justify-center group-hover:scale-110 transition-transform",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})})}),d.jsx("span",{className:"font-bold text-sm text-[#0f172a]",children:"GitHub"})]}):d.jsx("div",{className:"p-4 rounded-2xl border-2 border-dashed border-gray-100 flex items-center justify-center text-gray-300 text-xs font-bold uppercase tracking-widest",children:"No Commits Yet"}),s.socials?.twitter?d.jsxs("a",{href:s.socials.twitter.startsWith("http")?s.socials.twitter:`https://${s.socials.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-4 rounded-2xl bg-white border border-gray-100 hover:border-[#1DA1F2] hover:bg-[#1DA1F2]/[0.02] transition-all shadow-sm",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1DA1F2]/10 text-[#1DA1F2] flex items-center justify-center group-hover:scale-110 transition-transform",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M22 4.01c-.78.35-1.63.58-2.52.7a4.41 4.41 0 0 0 1.93-2.43 8.78 8.78 0 0 1-2.79 1.07 4.39 4.39 0 0 0-7.49 4c-3.66-.18-6.9-1.94-9.08-4.6a4.39 4.39 0 0 0 1.36 5.85 4.38 4.38 0 0 1-1.99-.55v.06a4.4 4.4 0 0 0 3.51 4.3 4.38 4.38 0 0 1-1.97.07 4.4 4.4 0 0 0 4.1 3.05 8.79 8.79 0 0 1-5.46 1.88c-.35 0-.7-.02-1.05-.06a12.42 12.42 0 0 0 6.72 1.97c8.06 0 12.48-6.68 12.48-12.48 0-.19 0-.38-.01-.57A8.92 8.92 0 0 0 22 4.01z"})})}),d.jsx("span",{className:"font-bold text-sm text-[#0f172a]",children:"Twitter / X"})]}):d.jsx("div",{className:"p-4 rounded-2xl border-2 border-dashed border-gray-100 flex items-center justify-center text-gray-300 text-xs font-bold uppercase tracking-widest",children:"Not on X"})]})]}),d.jsx(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl shadow-blue-900/5 border border-white/50 p-8",children:d.jsx(rz,{skills:s.skills||[],isOwnProfile:l,onUpdate:et})}),d.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-[#0066FF] rounded-3xl shadow-xl shadow-blue-900/20 p-8 text-white text-center",children:[d.jsx("h3",{className:"font-black text-xl mb-8 uppercase tracking-widest",children:"Network"}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[d.jsx("div",{className:"absolute left-1/2 top-4 bottom-4 w-px bg-white/20 -translate-x-1/2"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-black text-4xl mb-1 tabular-nums",children:s.stats?.followers||0}),d.jsx("p",{className:"text-[10px] text-white/60 font-black uppercase tracking-widest",children:"Founders"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-black text-4xl mb-1 tabular-nums",children:s.stats?.projects||0}),d.jsx("p",{className:"text-[10px] text-white/60 font-black uppercase tracking-widest",children:"Collabs"})]})]}),!l&&d.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10",children:[d.jsx("p",{className:"text-xs font-bold text-white/80 mb-4 uppercase tracking-tighter",children:"Mutual Connections"}),d.jsxs("div",{className:"flex justify-center -space-x-3",children:[[1,2,3,4].map(fe=>d.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-[#0066FF] bg-white overflow-hidden shadow-lg relative z-[10-i]",children:d.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=friend${fe+s.uid}`,alt:"",className:"w-full h-full object-cover"})},fe)),d.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-[#0066FF] bg-blue-400 flex items-center justify-center text-[10px] font-black shadow-lg relative z-0",children:["+",Math.floor(Math.random()*20)+5]})]})]})]})]})]})}),d.jsx(Ms,{children:C&&d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[d.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>L(!1),className:"absolute inset-0 bg-black/70"}),d.jsxs(we.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl bg-white rounded-3xl shadow-2xl overflow-hidden",children:[d.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[d.jsx("h3",{className:"text-2xl font-black text-[#0f172a]",children:P?.id?"Edit Project":"Add New Project"}),d.jsx("button",{onClick:()=>L(!1),className:"p-2 hover:bg-gray-200 rounded-xl transition-colors text-gray-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("form",{onSubmit:V,className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Project Title"}),d.jsx("input",{required:!0,type:"text",value:P?.title||"",onChange:fe=>D(se=>({...se,title:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. CollabX Networking Module"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Your Role"}),d.jsx("input",{required:!0,type:"text",value:P?.role||"",onChange:fe=>D(se=>({...se,role:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. Lead Designer"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Duration"}),d.jsx("input",{required:!0,type:"text",value:P?.duration||"",onChange:fe=>D(se=>({...se,duration:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. 3 Months"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Description"}),d.jsx("textarea",{required:!0,rows:4,value:P?.description||"",onChange:fe=>D(se=>({...se,description:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium resize-none",placeholder:"Tell us about the project goal and your impact..."})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Tech Stack (Comma Separated)"}),d.jsx("input",{required:!0,type:"text",value:B,onChange:fe=>K(fe.target.value),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"e.g. React, Firebase, Tailwind"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"GitHub URL"}),d.jsx("input",{required:!0,type:"url",value:P?.githubUrl||"",onChange:fe=>D(se=>({...se,githubUrl:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"https://github.com/..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Live Demo URL"}),d.jsx("input",{required:!0,type:"url",value:P?.liveUrl||"",onChange:fe=>D(se=>({...se,liveUrl:fe.target.value})),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium",placeholder:"https://collabx.app/..."})]})]}),d.jsxs("div",{className:"flex gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>L(!1),className:"flex-1 px-8 py-4 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:q,className:"flex-[2] px-8 py-4 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:q?"Saving...":P?.id?"Update Project":"Add Project"})]})]})]})]})}),d.jsx(Ms,{children:I&&d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[d.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>j(!1),className:"absolute inset-0 bg-[#0f172a]/60"}),d.jsxs(we.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden",children:[d.jsxs("div",{className:"p-8 border-b border-gray-100 bg-gray-50/50",children:[d.jsx("h3",{className:"text-xl font-black text-[#0f172a]",children:"Send Connection Request"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"LinkedIn-style personalized note (optional)"})]}),d.jsxs("div",{className:"p-8 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Message (Max 300 chars)"}),d.jsx("textarea",{rows:4,maxLength:300,value:M,onChange:fe=>F(fe.target.value),className:"w-full px-5 py-3 rounded-2xl bg-gray-50 border border-gray-100 focus:border-[#0066FF] focus:ring-4 focus:ring-blue-50 outline-none transition-all font-medium resize-none",placeholder:"Hi! I saw your project and would love to connect..."}),d.jsx("div",{className:"flex justify-end mt-2",children:d.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[M.length,"/300"]})})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:()=>j(!1),className:"flex-1 px-6 py-3 rounded-2xl border-2 border-gray-100 font-bold text-gray-500 hover:bg-gray-50 transition-all",children:"Cancel"}),d.jsx("button",{onClick:$,disabled:x,className:"flex-[2] px-6 py-3 rounded-2xl bg-[#0066FF] text-white font-bold shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all disabled:opacity-50",children:x?"Sending...":"Send Request"})]})]})]})]})})]}):null},iz=()=>{const t={title:"IBM: Data Science",description:"Gain hands-on experience with industry-standard tools and technologies  including data modeling with Python, automation, and applied machine learning  with this comprehensive course, 100% online.",duration:"10 weeks",pace:"12-13 hours per week",startDate:"Jan 28, 2026",enrollBy:"Feb 2, 2026",stats:[{value:"36%",label:"The projected growth of the employment rate for data scientists from 2023 to 2033.",source:"U.S. Bureau of Labor Statistics"},{value:"$112,590",label:"The median annual salary for data scientists as of 2024.",source:"U.S. Bureau of Labor Statistics"}],curriculum:[{title:"Orientation module: Welcome to your Online Campus"},{title:"Module 1: Data Science Methodologies"},{title:"Module 2: Using Python for Data Science"},{title:"Module 3: Python Fundamentals and Data"},{title:"Module 4: SQL for Data Science"},{title:"Module 5: Using Python to Analyze Data"},{title:"Module 6: Data Visualization Using Python"}]},[e,n]=b.useState({firstName:"",lastName:"",email:"",subscribe:!0}),r=a=>{const{name:l,value:u,type:h,checked:p}=a.target;n(g=>({...g,[l]:h==="checkbox"?p:u}))},s=a=>{a.preventDefault(),console.log("Form submitted:",e)};return d.jsx("div",{className:"min-h-screen pt-32 pb-20 bg-white",children:d.jsxs("div",{className:"container-custom mx-auto",children:[d.jsxs("div",{className:"mb-8 text-sm text-gray-500 flex items-center flex-wrap gap-2",children:[d.jsx(Er,{to:"/",className:"hover:text-[#5865F2] transition-colors",children:"Home"}),d.jsx("span",{children:""}),d.jsx("span",{className:"text-gray-900",children:"Executive Education"}),d.jsx("span",{children:""}),d.jsx("span",{className:"text-gray-400",children:t.title})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[d.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[d.jsx("div",{className:"flex items-center gap-4 mb-4",children:d.jsx("div",{className:"h-12 w-12 rounded-xl bg-[#0f172a] flex items-center justify-center text-white shadow-lg",children:d.jsx("span",{className:"text-xl font-bold",children:"IBM"})})}),d.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-[#0f172a] leading-tight tracking-tight",children:t.title}),d.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-2xl font-light",children:t.description}),d.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-gray-100",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(n8,{className:"w-6 h-6 text-[#5865F2] mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-[#0f172a]",children:t.duration}),d.jsx("p",{className:"text-sm text-gray-500",children:t.pace})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(UI,{className:"w-6 h-6 text-[#5865F2] mt-1"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-[#0f172a]",children:["Starts ",t.startDate]}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Enroll by ",t.enrollBy]})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(OI,{className:"w-6 h-6 text-[#5865F2] mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-[#0f172a]",children:"Instructor-paced"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled classes"})]})]})]})]}),d.jsxs(we.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"py-12 bg-gray-50 rounded-3xl p-8 border border-gray-100",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#0f172a] mb-8 text-center",children:"Industry Insights"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[d.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2"}),t.stats.map((a,l)=>d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("p",{className:"text-5xl font-bold text-[#5865F2]",children:a.value}),d.jsx("p",{className:"text-gray-600 font-medium",children:a.label}),d.jsx("p",{className:"text-xs text-gray-400 mt-2",children:a.source})]},l))]})]}),d.jsxs(we.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-[#0f172a]",children:"Course Curriculum"}),d.jsx("p",{className:"text-gray-600 max-w-3xl",children:"Develop advanced data science skills in data analysis, visualization, and machine learning models as you work through the weekly modules of this online program."}),d.jsx("div",{className:"space-y-3 pt-4",children:t.curriculum.map((a,l)=>d.jsxs("div",{className:"bg-white border border-gray-100 p-5 rounded-xl flex items-center justify-between group hover:border-[#5865F2] hover:shadow-md transition-all cursor-pointer",children:[d.jsx("span",{className:"font-medium text-gray-700 group-hover:text-[#5865F2] transition-colors",children:a.title}),d.jsx(J7,{className:"text-gray-400 group-hover:text-[#5865F2] transition-colors w-5 h-5"})]},l))}),d.jsxs("button",{className:"text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors flex items-center gap-2 mt-4",children:["Show Full Curriculum",d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})]})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"sticky top-24",children:d.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white p-6 md:p-8 rounded-3xl border border-gray-100 shadow-xl shadow-gray-200/50",children:[d.jsx("h3",{className:"text-2xl font-bold text-[#0f172a] mb-2",children:"Get Syllabus"}),d.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your details to receive the full course syllabus and program guide."}),d.jsxs("form",{onSubmit:s,className:"space-y-4",children:[d.jsx("div",{children:d.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:e.firstName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),d.jsx("div",{children:d.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:e.lastName,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),d.jsx("div",{children:d.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:e.email,onChange:r,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-[#5865F2] focus:ring-2 focus:ring-purple-100 outline-none transition-all bg-gray-50 text-gray-900 placeholder-gray-400",required:!0})}),d.jsxs("div",{className:"space-y-3 pt-2",children:[d.jsx("p",{className:"text-xs text-gray-500",children:"I agree to receive communications about this program."}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!0,onChange:()=>n(a=>({...a,subscribe:!0})),className:"accent-[#5865F2] w-4 h-4"}),"Yes"]}),d.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"subscribe",checked:e.subscribe===!1,onChange:()=>n(a=>({...a,subscribe:!1})),className:"accent-[#5865F2] w-4 h-4"}),"No"]})]})]}),d.jsx("button",{type:"submit",className:"w-full btn-primary py-4 rounded-xl font-bold text-lg shadow-lg shadow-purple-500/20 hover:shadow-purple-500/30 transform hover:-translate-y-0.5 transition-all mt-4",children:"Download Syllabus"}),d.jsx("p",{className:"text-[10px] text-gray-400 mt-4 text-center leading-tight",children:"By submitting this form, you agree to our Terms of Service and Privacy Policy."})]})]})})})]})]})})},oz=()=>{const{resourceId:t}=P2(),e=Pr(),n=()=>[{id:"1",title:"Syllabus & Exam Pattern",type:"PDF",url:"#",description:"Official syllabus and detailed exam pattern breakdown."},{id:"2",title:"Previous Year Questions (2020-2024)",type:"PDF",url:"#",description:"Solved papers from the last 5 years."},{id:"3",title:"Important Topics Cheat Sheet",type:"PDF",url:"#",description:"Quick revision notes for high-weightage topics."},{id:"4",title:"Recommended Books List",type:"Book",url:"#",description:"Curated list of best preparation books by toppers."}],r=l=>{switch(l){case"cat":return"CAT Study Materials";case"upsc":return"UPSC Study Materials";case"gate":return"GATE Study Materials";default:return"Study Materials"}},s=n(),a=r(t||"");return d.jsxs("div",{className:"min-h-screen bg-white",children:[d.jsx($I,{}),d.jsx("main",{className:"pt-32 pb-20 px-6",children:d.jsxs("div",{className:"container-custom mx-auto",children:[d.jsxs(we.button,{onClick:()=>e("/"),className:"mb-8 px-4 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-600 hover:text-[#5865F2] transition-all flex items-center gap-2 group text-sm font-medium",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[d.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to Dashboard"]}),d.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#0f172a] mb-4",children:a}),d.jsx("p",{className:"text-xl text-gray-500 font-light",children:"Access curated resources to boost your preparation."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,u)=>d.jsxs(we.div,{className:"bg-white p-6 rounded-2xl border border-gray-100 hover:border-purple-100 hover:shadow-xl hover:shadow-purple-500/5 transition-all duration-300 group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${l.type==="PDF"?"bg-red-50 text-red-600":l.type==="Video"?"bg-blue-50 text-blue-600":l.type==="Book"?"bg-yellow-50 text-yellow-600":"bg-green-50 text-green-600"}`,children:l.type}),d.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:l.type==="PDF"?"":l.type==="Video"?"":l.type==="Book"?"":""})]}),d.jsx("h3",{className:"text-xl font-bold text-[#0f172a] mb-2 group-hover:text-[#5865F2] transition-colors",children:l.title}),d.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:l.description}),d.jsxs("a",{href:l.url,className:"inline-flex items-center text-[#5865F2] font-bold hover:text-[#4752c4] transition-colors text-sm",onClick:h=>h.preventDefault(),children:["Access Resource ",d.jsx("span",{className:"ml-1 group-hover:translate-x-1 transition-transform",children:""})]})]},l.id))})]})})]})},az=()=>{const t=Pr(),[e,n]=b.useState(!0),[r,s]=b.useState(""),[a,l]=b.useState(""),[u,h]=b.useState(!1),[p,g]=b.useState(""),[v,x]=b.useState(""),T=async()=>{try{const C=(await sT(Ke,iC)).user,L=Mt(Oe,"users",C.uid);(await Ls(L)).exists()?t("/"):t("/onboarding")}catch(A){A instanceof Error?g(A.message):g("An unexpected error occurred")}},k=async A=>{A.preventDefault(),h(!0),g(""),x("");try{if(e){const C=await GE(Ke,r,a),L=Mt(Oe,"users",C.user.uid);(await Ls(L)).exists()?t("/"):t("/onboarding")}else await HE(Ke,r,a),t("/onboarding")}catch(C){C instanceof Error?g(C.message):g("An unexpected error occurred")}finally{h(!1)}};return d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white relative overflow-hidden font-sans pt-20",children:[d.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-100 rounded-full blur-3xl opacity-50"}),d.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-50 rounded-full blur-3xl opacity-50"})]}),d.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md z-10 p-8 md:p-10 bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#0066FF] flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3V5"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 5.5L17 7"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12H19"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.5 18.5L17 17"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 18.5L7 17"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12H5"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 5.5L7 7"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21V10C9 8.34315 10.3431 7 12 7C13.6569 7 15 8.34315 15 10V21"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 7V10"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7V10"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10C17 10 18 11 18 12.5C18 14 17 15 15 15"})]})})}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-[#0f172a] mb-2 tracking-tight",children:e?"Welcome back":"Create account"}),d.jsx("p",{className:"text-gray-500 text-sm",children:e?"Please enter your details to sign in":"Start building your future today"})]}),d.jsxs(we.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.99},onClick:T,className:"w-full py-3 rounded-xl bg-white border border-gray-200 text-gray-700 font-medium flex items-center justify-center gap-3 hover:border-gray-300 transition-all mb-6",children:[d.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),d.jsx("span",{children:"Continue with Google"})]}),d.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[d.jsx("div",{className:"absolute w-full h-px bg-gray-200"}),d.jsx("span",{className:"relative px-3 bg-white text-xs font-medium text-gray-400",children:"Or continue with email"})]}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Email address"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),d.jsx("input",{type:"email",required:!0,value:r,onChange:A=>s(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"you@university.edu"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1.5 ml-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),d.jsx("input",{type:"password",required:!0,value:a,onChange:A=>l(A.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-[#1e293b] border border-transparent text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",placeholder:"",minLength:6})]})]}),e&&d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#0066FF] focus:ring-[#0066FF]"}),d.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),d.jsx("button",{type:"button",className:"text-[#0066FF] font-medium hover:underline",children:"Forgot password?"})]}),d.jsxs(Ms,{children:[p&&d.jsx(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-sm text-center bg-red-50 py-2 rounded-lg",children:p}),v&&d.jsx(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:v})]}),d.jsx(we.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:u,className:`w-full py-3 rounded-xl bg-[#0066FF] text-white font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-all ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Processing...":e?"Sign in":"Sign up"})]}),d.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:d.jsxs("p",{children:[e?"Don't have an account? ":"Already have an account? ",d.jsx("button",{onClick:()=>n(!e),className:"text-[#0066FF] font-bold hover:underline ml-1",children:e?"Sign up for free":"Log in"})]})})]})]})},lz=()=>{const t=Pr(),[e,n]=b.useState(!1),[r,s]=b.useState(""),[a,l]=b.useState(""),[u,h]=b.useState(""),[p,g]=b.useState(""),[v,x]=b.useState(""),[T,k]=b.useState([]),[A,C]=b.useState(""),[L,P]=b.useState("");ln.useEffect(()=>{(async()=>{const R=Ke.currentUser;if(R){const I=Mt(Oe,"users",R.uid),j=await Ls(I);if(j.exists()){const M=j.data();s(M.name||""),l(M.role||""),h(M.institution||""),g(M.bio||""),k(M.skills||[]),C(M.socials?.github||""),P(M.socials?.linkedin||"")}}})()},[]);const D=q=>{q.key==="Enter"&&v.trim()&&(q.preventDefault(),T.length<5&&!T.includes(v.trim())&&(k([...T,v.trim()]),x("")))},B=q=>{k(T.filter(R=>R!==q))},K=async q=>{q.preventDefault(),n(!0);try{const R=Ke.currentUser;if(!R)throw new Error("No user logged in");await BS(Mt(Oe,"users",R.uid),{name:r,role:a,institution:u,bio:p,skills:T,socials:{github:A,linkedin:L},stats:{projects:0,stars:0,followers:0,following:0},avatar:R.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r}`,email:R.email,joinedAt:new Date().toISOString()},{merge:!0}),t("/profile")}catch(R){console.error("Error saving profile:",R),alert("Failed to save profile. Please try again.")}finally{n(!1)}};return d.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-gray-50 flex items-center justify-center",children:d.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-[#0f172a] mb-2",children:r?"Update Your Profile":"Complete Your Profile"}),d.jsx("p",{className:"text-gray-500",children:r?"Update your details below":"Tell us a bit about yourself to get started"})]}),d.jsxs("form",{onSubmit:K,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),d.jsx("input",{type:"text",required:!0,value:r,onChange:q=>s(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"John Doe"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role / Title"}),d.jsx("input",{type:"text",required:!0,value:a,onChange:q=>l(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Full Stack Developer"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"College / University"}),d.jsx("input",{type:"text",required:!0,value:u,onChange:q=>h(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"University of Technology"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"About Me"}),d.jsx("textarea",{required:!0,value:p,onChange:q=>g(q.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"I am passionate about..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Skills ",d.jsx("span",{className:"text-gray-400 font-normal",children:"(Max 5)"})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:T.map(q=>d.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-[#0066FF] rounded-lg text-sm font-medium flex items-center gap-2",children:[q,d.jsx("button",{type:"button",onClick:()=>B(q),className:"hover:text-red-500",children:""})]},q))}),d.jsx("input",{type:"text",value:v,onChange:q=>x(q.target.value),onKeyDown:D,disabled:T.length>=5,className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all disabled:opacity-50",placeholder:T.length>=5?"Max skills reached":"Type skill and press Enter"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub (Optional)"}),d.jsx("input",{type:"text",value:A,onChange:q=>C(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"github.com/username"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn (Optional)"}),d.jsx("input",{type:"text",value:L,onChange:q=>P(q.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"linkedin.com/in/username"})]})]}),d.jsx("button",{type:"submit",disabled:e,className:"w-full py-4 rounded-xl bg-[#0066FF] text-white font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:e?"Saving...":r?"Update Profile":"Complete Profile"})]})]})})},cz=({onSearchChange:t,onFilterChange:e,onSortChange:n})=>d.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-8",children:d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsx("div",{className:"flex-grow",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search by name, headline, or skill...",onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF] transition-all text-sm"}),d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})]})}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("select",{onChange:r=>e("institution",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[d.jsx("option",{value:"",children:"University (All)"}),d.jsx("option",{value:"IIT Bombay",children:"IIT Bombay"})]}),d.jsxs("select",{onChange:r=>e("role",r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[d.jsx("option",{value:"",children:"Role (All)"}),d.jsx("option",{value:"Frontend",children:"Frontend"}),d.jsx("option",{value:"Backend",children:"Backend"}),d.jsx("option",{value:"Fullstack",children:"Fullstack"}),d.jsx("option",{value:"Designer",children:"Designer"}),d.jsx("option",{value:"Researcher",children:"Researcher"})]}),d.jsxs("select",{onChange:r=>n(r.target.value),className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#0066FF]/20 focus:border-[#0066FF]",children:[d.jsx("option",{value:"recent",children:"Recently Active"}),d.jsx("option",{value:"connections",children:"Most Connections"}),d.jsx("option",{value:"university",children:"Same University"})]})]})]})}),uz=()=>{const[t,e]=b.useState(null);return b.useEffect(()=>{const n=fa(Ke,r=>{e(r)});return()=>n()},[]),t?d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[d.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),d.jsxs("div",{className:"px-4 pb-4 -mt-8 text-center border-b border-gray-100",children:[d.jsx(Er,{to:"/profile",children:d.jsx("div",{className:"w-17 h-17 rounded-full border-2 border-white bg-blue-100 mx-auto flex items-center justify-center text-[#0066FF] font-bold text-2xl overflow-hidden hover:opacity-90 transition-opacity",children:t.email?.[0].toUpperCase()})}),d.jsxs("div",{className:"mt-4",children:[d.jsx(Er,{to:"/profile",className:"font-bold text-gray-900 hover:underline",children:t.displayName||t.email?.split("@")[0]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:"Student & Aspiring Developer at CollabX"})]})]}),d.jsxs("div",{className:"py-3",children:[d.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Profile viewers"}),d.jsx("span",{className:"text-[#0066FF] font-bold",children:"42"})]})}),d.jsx("div",{className:"px-4 py-1 hover:bg-gray-100 cursor-pointer transition-colors group",children:d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:"text-gray-500 group-hover:text-gray-700",children:"Project views"}),d.jsx("span",{className:"text-[#0066FF] font-bold",children:"156"})]})})]}),d.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 hover:bg-gray-100 cursor-pointer transition-colors group",children:[d.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider",children:"Access exclusive tools"}),d.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[d.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-sm"}),d.jsx("span",{className:"text-xs font-bold text-gray-800 group-hover:text-[#0066FF]",children:"Try Premium for Free"})]})]}),d.jsxs(Er,{to:"/saved",className:"px-4 py-3 border-t border-gray-100 flex items-center gap-2 hover:bg-gray-100 transition-colors",children:[d.jsx(z7,{className:"h-4 w-4 text-gray-500"}),d.jsx("span",{className:"text-xs font-bold text-gray-800",children:"My Items"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm sticky top-20",children:[d.jsxs("div",{className:"p-3",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("span",{className:"text-xs font-medium text-gray-900",children:"Recent"})}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[d.jsx(zI,{className:"h-4 w-4"}),d.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"React Developers Hub"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 hover:bg-gray-100 p-1 rounded cursor-pointer group",children:[d.jsx(of,{className:"h-4 w-4"}),d.jsx("span",{className:"group-hover:text-gray-800 truncate",children:"UI/UX Design Projects"})]})]}),d.jsx("div",{className:"mt-4 mb-2",children:d.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Groups"})}),d.jsxs("div",{className:"mt-4 mb-2 flex items-center justify-between font-bold text-[#0066FF] hover:underline cursor-pointer",children:[d.jsx("span",{className:"text-xs",children:"Events"}),d.jsx(BI,{className:"h-4 w-4 text-gray-600 hover:bg-gray-100 rounded p-0.5"})]}),d.jsx("div",{className:"mt-4 mb-2",children:d.jsx("span",{className:"text-xs font-bold text-[#0066FF] hover:underline cursor-pointer",children:"Followed Hashtags"})})]}),d.jsx("div",{className:"border-t border-gray-100 p-3 text-center hover:bg-gray-100 cursor-pointer transition-colors",children:d.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Discover more"})})]})]}):d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[d.jsx("div",{className:"h-14 bg-gradient-to-r from-blue-400 to-[#0066FF]"}),d.jsxs("div",{className:"px-4 pb-4 -mt-7 text-center",children:[d.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-white bg-blue-50 mx-auto flex items-center justify-center text-blue-500 font-bold text-xl",children:"?"}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h3",{className:"font-bold text-gray-900",children:"Welcome to CollabX!"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sign in to start collaborating"})]}),d.jsx("button",{className:"w-full mt-4 py-2 border-2 border-[#0066FF] text-[#0066FF] rounded-full text-sm font-semibold hover:bg-blue-50 transition-colors",children:"Sign In"})]})]})};function dz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const hz=b.forwardRef(dz);function fz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const pz=b.forwardRef(fz);function mz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const b2=b.forwardRef(mz);function gz({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const yz=b.forwardRef(gz),vz=()=>{const t=[{name:"Sarah Chen",role:"Full Stack Developer",college:"Stanford University"},{name:"Alex Rivera",role:"UI/UX Designer",college:"MIT"},{name:"James Wilson",role:"ML Engineer",college:"IIT Bombay"}],e=[{title:"Project: Decentralized Voting",views:"1.2k",time:"12h ago"},{title:"Resource: Mastering React 19",views:"3.4k",time:"1d ago"},{title:"Roadmap: AI/ML 2024",views:"5k",time:"2d ago"}];return d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Add to your feed"}),d.jsx(b2,{className:"h-4 w-4 text-gray-400 cursor-pointer"})]}),d.jsx("div",{className:"flex flex-col gap-4",children:t.map((n,r)=>d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 shrink-0 flex items-center justify-center text-[#0066FF] font-bold text-xs uppercase",children:n.name[0]}),d.jsxs("div",{className:"flex flex-col min-w-0",children:[d.jsx("span",{className:"font-bold text-sm text-gray-900 truncate hover:text-[#0066FF] hover:underline cursor-pointer",children:n.name}),d.jsxs("span",{className:"text-xs text-gray-500 truncate",children:[n.role," at ",n.college]}),d.jsxs("button",{className:"mt-1.5 flex items-center justify-center gap-1 px-3 py-1 border border-gray-500 text-gray-600 rounded-full text-sm font-bold hover:bg-gray-50 hover:border-gray-800 transition-colors w-24",children:[d.jsx(yz,{className:"h-4 w-4"}),d.jsx("span",{children:"Follow"})]})]})]},r))}),d.jsx("div",{className:"mt-4 pt-2 border-t border-gray-50",children:d.jsxs("button",{className:"flex items-center gap-1 text-gray-500 hover:bg-gray-100 p-1 rounded transition-colors w-full group",children:[d.jsx("span",{className:"text-sm font-bold group-hover:text-gray-700",children:"View all recommendations"}),d.jsx(hz,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 shadow-sm sticky top-20",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"CollabX Trending"}),d.jsx(b2,{className:"h-4 w-4 text-gray-400"})]}),d.jsx("div",{className:"flex flex-col gap-3",children:e.map((n,r)=>d.jsxs("div",{className:"group cursor-pointer",children:[d.jsx("h4",{className:"text-sm font-bold text-gray-800 group-hover:text-[#0066FF]",children:n.title}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-500 mt-0.5",children:[d.jsxs("span",{children:[n.views," readers"]}),d.jsx("span",{children:""}),d.jsx("span",{children:n.time})]})]},r))}),d.jsxs("div",{className:"mt-4 text-[11px] text-gray-400 flex flex-wrap justify-center gap-x-3 gap-y-1",children:[d.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"About"}),d.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Accessibility"}),d.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Help Center"}),d.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Privacy & Terms"}),d.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Ad Choices"}),d.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Advertising"}),d.jsx("span",{className:"hover:underline hover:text-[#0066FF] cursor-pointer",children:"Business Services"})]}),d.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 rounded bg-[#0066FF] flex items-center justify-center text-white text-[8px] font-bold",children:"X"}),d.jsx("span",{className:"text-xs text-gray-500",children:"CollabX Corporation  2024"})]})]})]})},Wu=({children:t})=>d.jsx("div",{className:"main-content",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[d.jsx("div",{className:"hidden lg:block lg:col-span-3",children:d.jsx(uz,{})}),d.jsx("div",{className:"col-span-1 lg:col-span-6",children:t}),d.jsx("div",{className:"hidden lg:block lg:col-span-3",children:d.jsx(vz,{})})]})}),xz=()=>{const t=Pr(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState(""),[u,h]=b.useState({institution:"",role:""}),[p,g]=b.useState("recent"),[v,x]=b.useState(null);b.useEffect(()=>{(async()=>{try{const C=Ke.currentUser;if(C){const D=Mt(Oe,"users",C.uid),B=await Ls(D);B.exists()&&x(B.data())}const L=await Mn(Lt(Oe,"users")),P=[];L.forEach(D=>{const B=D.data();D.id!==C?.uid&&P.push({...B,uid:D.id})}),n(P)}catch(C){console.error("Error fetching students:",C)}finally{s(!1)}})()},[]);const T=b.useMemo(()=>e.filter(A=>{const C=a.toLowerCase(),L=A.name.toLowerCase().includes(C)||A.role.toLowerCase().includes(C)||A.headline&&A.headline.toLowerCase().includes(C)||A.skills?.some(B=>B.toLowerCase().includes(C)),P=!u.institution||A.institution===u.institution,D=!u.role||A.role.toLowerCase().includes(u.role.toLowerCase());return L&&P&&D}).sort((A,C)=>{if(p==="connections")return(C.connectionCount||0)-(A.connectionCount||0);if(p==="university"&&v?.institution){const L=A.institution===v.institution?1:0;return(C.institution===v.institution?1:0)-L}return 0}),[e,a,u,p,v]),k=()=>d.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm p-4 h-[320px] animate-pulse",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 mx-auto mb-4 mt-8"}),d.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mx-auto mb-2"}),d.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2 mx-auto mb-4"}),d.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto mb-6"}),d.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-full"})]});return d.jsx(Wu,{children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:d.jsx(zI,{className:"h-6 w-6"})}),d.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Network Discovery"})]}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Connect with ambitious students from top universities and build your community."})]}),d.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10",children:d.jsx(cz,{onSearchChange:l,onFilterChange:(A,C)=>h(L=>({...L,[A]:C})),onSortChange:g})}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?Array.from({length:6}).map((A,C)=>d.jsx(k,{},C)):d.jsx(Ms,{children:T.length>0?T.map(A=>d.jsx(HI,{student:A,onClick:()=>t(`/profile/${A.uid}`)},A.uid)):d.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-xl border border-gray-200",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Uu,{className:"w-8 h-8 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No students found"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters or search query."})]})})})]})})},wz=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,a]=b.useState(""),[l,u]=b.useState("idle"),h=async p=>{p.preventDefault(),u("submitting");try{await ga(Lt(Oe,"feedback"),{name:t,email:n,message:s,created_at:Ye.now()}),u("success"),e(""),r(""),a(""),setTimeout(()=>u("idle"),3e3)}catch(g){console.error("Error submitting feedback:",g),u("error"),setTimeout(()=>u("idle"),3e3)}};return d.jsx("section",{id:"contact",className:"py-24 bg-gray-50",children:d.jsxs("div",{className:"container-custom mx-auto max-w-4xl",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-[#0f172a] mb-4",children:"Get in Touch"}),d.jsx("p",{className:"text-lg text-gray-500",children:"Have feedback or questions? We'd love to hear from you."})]}),d.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),d.jsx("input",{type:"text",id:"name",value:t,onChange:p=>e(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Your name"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{type:"email",id:"email",value:n,onChange:p=>r(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"your@email.com"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),d.jsx("textarea",{id:"message",value:s,onChange:p=>a(p.target.value),required:!0,rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#0066FF] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),d.jsx("button",{type:"submit",disabled:l==="submitting",className:"w-full btn-primary py-3 rounded-lg font-semibold text-lg shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l==="submitting"?"Sending...":"Send Message"}),l==="success"&&d.jsx(we.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 text-green-600 rounded-lg text-center font-medium",children:"Message sent successfully! Thank you for your feedback."}),l==="error"&&d.jsx(we.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 text-red-600 rounded-lg text-center font-medium",children:"Something went wrong. Please try again."})]})})]})})},qo=({children:t})=>{const[e,n]=b.useState(!0),[r,s]=b.useState(!1);return b.useEffect(()=>{const a=fa(Ke,l=>{s(!!l),n(!1)});return()=>a()},[]),e?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0066FF]"})}):r?d.jsx(d.Fragment,{children:t}):d.jsx(v5,{to:"/login"})},_z=()=>{const{pathname:t,hash:e}=ts();return b.useEffect(()=>{e||window.scrollTo(0,0)},[t,e]),null},bz=()=>{const t=[{id:1,author:{name:"Rahul Sharma",role:"Full Stack Developer | React Enthusiast",avatar:"R",time:"2h ago"},content:"Just finished building a real-time collaborative code editor with CollabX features!  Check it out and let me know your thoughts. We're looking for a UI/UX designer to join the team!",tags:["#react","#webdev","#collaboration"],projects:[{title:"CodeSync Pro",status:"Looking for Designer",color:"bg-blue-500"}],likes:24,comments:5},{id:2,author:{name:"Priya Patel",role:"UX Researcher @ Stanford",avatar:"P",time:"5h ago"},content:"Successfully completed the 'Modern Design Systems' roadmap on CollabX! Highly recommend it to anyone starting their design journey. The practical projects at the end are gold. ",image:"https://images.unsplash.com/photo-1586717791821-3f44a563eb4c?q=80&w=1000&auto=format&fit=crop",likes:89,comments:12}];return d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg shrink-0",children:"H"}),d.jsx("button",{className:"flex-1 text-left px-4 py-3 border border-gray-300 rounded-full text-gray-400 hover:bg-gray-100 transition-colors text-sm font-medium",children:"Start a project or share an update..."})]}),d.jsxs("div",{className:"flex justify-between mt-3 px-2",children:[d.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[d.jsx(b8,{className:"h-5 w-5 text-blue-400"}),d.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Media"})]}),d.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[d.jsx(UI,{className:"h-5 w-5 text-yellow-500"}),d.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Event"})]}),d.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:bg-gray-100 p-2 rounded transition-colors group",children:[d.jsx(s8,{className:"h-5 w-5 text-orange-400"}),d.jsx("span",{className:"text-sm font-medium group-hover:text-gray-700",children:"Write article"})]})]})]}),t.map(e=>d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 py-3 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between px-4 mb-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-[#0066FF] font-bold text-lg",children:e.author.avatar}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"text-sm font-bold text-gray-900 flex items-center gap-1 hover:text-[#0066FF] hover:underline cursor-pointer",children:[e.author.name,d.jsx("span",{className:"text-xs font-normal text-gray-400",children:" 1st"})]}),d.jsx("span",{className:"text-[11px] text-gray-500 truncate w-48 sm:w-80",children:e.author.role}),d.jsxs("span",{className:"text-[11px] text-gray-400 flex items-center gap-1",children:[e.author.time,"  ",d.jsx(u8,{className:"h-3 w-3"})]})]})]}),d.jsx("button",{className:"text-gray-500 hover:bg-gray-100 rounded-full h-8 w-8 flex items-center justify-center transition-colors",children:d.jsx(o8,{className:"h-6 w-6"})})]}),d.jsxs("div",{className:"px-4 mb-3",children:[d.jsx("p",{className:"text-sm text-gray-800 leading-normal",children:e.content}),e.tags&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map(n=>d.jsx("span",{className:"text-sm font-bold text-[#0066FF] hover:underline cursor-pointer",children:n},n))})]}),e.image&&d.jsx("div",{className:"mb-3",children:d.jsx("img",{src:e.image,alt:"Post content",className:"w-full h-auto max-h-[512px] object-cover"})}),e.projects&&d.jsx("div",{className:"px-4 mb-3",children:e.projects.map((n,r)=>d.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-lg p-3 flex justify-between items-center group cursor-pointer hover:bg-blue-50/50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded ${n.color||"bg-blue-500"} flex items-center justify-center text-white font-bold`,children:n.title[0]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-[#0066FF]",children:n.title}),d.jsx("p",{className:"text-xs text-gray-500",children:n.status})]})]}),d.jsx("button",{className:"px-3 py-1 bg-white border border-[#0066FF] text-[#0066FF] text-xs font-bold rounded-full hover:bg-blue-50 transition-colors",children:"Join"})]},r))}),d.jsxs("div",{className:"px-4 flex justify-between items-center pb-2 border-b border-gray-50",children:[d.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-gray-500 hover:text-[#0066FF] cursor-pointer",children:[d.jsx("div",{className:"flex -space-x-1",children:d.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center text-white",children:d.jsx(pz,{className:"h-2.5 w-2.5"})})}),d.jsx("span",{children:e.likes})]}),d.jsxs("div",{className:"flex gap-2 text-[11px] text-gray-500",children:[d.jsxs("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:[e.comments," comments"]}),d.jsx("span",{children:""}),d.jsx("span",{className:"hover:text-[#0066FF] hover:underline cursor-pointer",children:"2 shares"})]})]}),d.jsxs("div",{className:"flex px-2 pt-1",children:[d.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[d.jsx(h8,{className:"h-5 w-5 group-hover:scale-110"}),d.jsx("span",{className:"text-sm font-bold",children:"Like"})]}),d.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[d.jsx(X7,{className:"h-5 w-5 group-hover:scale-110"}),d.jsx("span",{className:"text-sm font-bold",children:"Comment"})]}),d.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[d.jsx(S8,{className:"h-5 w-5 group-hover:scale-110"}),d.jsx("span",{className:"text-sm font-bold",children:"Repost"})]}),d.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2.5 text-gray-500 hover:bg-gray-100 rounded transition-colors group",children:[d.jsx(w8,{className:"h-5 w-5 -rotate-45 group-hover:scale-110"}),d.jsx("span",{className:"text-sm font-bold",children:"Send"})]})]})]},e.id))]})},Ez=()=>{const[t,e]=b.useState("All"),[n,r]=b.useState(""),[s,a]=b.useState([]),[l,u]=b.useState(!0),[h,p]=b.useState(null),[g,v]=b.useState(!1),[x,T]=b.useState(!1);b.useEffect(()=>{k();const D=fa(Ke,B=>{p(B)});return()=>D()},[]);const k=async()=>{try{const D=Lt(Oe,"projects"),B=Cn(D,Nl("created_at","desc")),q=(await Mn(B)).docs.map(R=>({id:R.id,...R.data()}));a(q)}catch(D){console.error("Error fetching projects:",D)}finally{u(!1)}},A=()=>{h?T(!0):v(!0)},C=["All","AI/ML","Web Dev","Mobile","Blockchain","Design"],L=s.filter(D=>{const B=t==="All"||D.category===t,K=D.title.toLowerCase().includes(n.toLowerCase())||D.description.toLowerCase().includes(n.toLowerCase())||D.tags.some(q=>q.toLowerCase().includes(n.toLowerCase()));return B&&K}),P=()=>d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm animate-pulse",children:[d.jsx("div",{className:"h-40 bg-gray-100"}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4 mb-3"}),d.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),d.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mb-4"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"}),d.jsx("div",{className:"h-4 bg-gray-100 rounded w-12"})]})]})]});return d.jsxs(Wu,{children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:d.jsx(of,{className:"h-6 w-6"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Collaboration Projects"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Find projects to join and talented students to collaborate with."})]})]}),d.jsxs("button",{onClick:A,className:"bg-[#0066FF] text-white px-5 py-2 rounded-full text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-600 transition-all flex items-center justify-center gap-2",children:[d.jsx(BI,{className:"h-5 w-5"}),"Post Project"]})]})}),d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10 space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Uu,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search by title, description, or stack...",value:n,onChange:D=>r(D.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:[d.jsxs("div",{className:"flex items-center gap-1.5 mr-2 shrink-0 text-gray-500",children:[d.jsx(l8,{className:"h-4 w-4"}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Filters:"})]}),C.map(D=>d.jsx("button",{onClick:()=>e(D),className:`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all ${t===D?"bg-[#0066FF] border-[#0066FF] text-white shadow-md":"bg-white border-gray-200 text-gray-600 hover:border-gray-300 hover:bg-gray-50"}`,children:D},D))]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l?Array.from({length:4}).map((D,B)=>d.jsx(P,{},B)):d.jsx(Ms,{children:L.length>0?L.map(D=>d.jsxs(we.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-all flex flex-col group cursor-pointer",children:[d.jsxs("div",{className:"h-40 overflow-hidden relative",children:[d.jsx("img",{src:D.image_url||`https://source.unsplash.com/random/800x600?tech,${D.category}`,alt:D.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),d.jsx("div",{className:"absolute top-3 left-3",children:d.jsx("span",{className:"bg-white/90 backdrop-blur-sm px-2.5 py-1 rounded-md text-[10px] font-bold text-[#0f172a] uppercase border border-white shadow-sm",children:D.category})})]}),d.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("img",{src:D.author_avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${D.author}`,alt:D.author,className:"w-6 h-6 rounded-full border border-gray-100"}),d.jsx("span",{className:"text-xs text-gray-500 font-medium",children:D.author})]}),d.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors mb-1 line-clamp-1",children:D.title}),d.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-4 h-8",children:D.description}),d.jsx("div",{className:"flex flex-wrap gap-1 mb-4 h-6 overflow-hidden",children:D.tags.map(B=>d.jsxs("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2 py-0.5 rounded",children:["#",B]},B))}),d.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-50 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1 text-gray-400 group/item hover:text-red-500 transition-colors",children:[d.jsx(p8,{className:"h-4 w-4"}),d.jsx("span",{className:"text-[11px] font-bold",children:D.likes})]}),d.jsxs("div",{className:"flex items-center gap-1 text-gray-400 group/item hover:text-[#0066FF] transition-colors",children:[d.jsx(K7,{className:"h-4 w-4"}),d.jsx("span",{className:"text-[11px] font-bold",children:D.comments})]})]}),d.jsxs("a",{href:D.link||"#",onClick:B=>B.stopPropagation(),className:"flex items-center gap-1 text-[11px] font-bold text-[#0066FF] hover:underline",children:["DETAILS",d.jsx(L7,{className:"h-3 w-3"})]})]})]})]},D.id)):d.jsxs("div",{className:"col-span-full py-16 text-center bg-white rounded-xl border border-gray-200",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:d.jsx(of,{className:"w-8 h-8"})}),d.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No projects found"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Be the first to post a project in this category!"})]})})})]}),d.jsx(pv,{isOpen:g,onClose:()=>v(!1)}),d.jsx(WI,{isOpen:x,onClose:()=>T(!1),onSuccess:k})]})},Tz=()=>{const t=Pr(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState("");b.useEffect(()=>{u()},[]);const u=async()=>{try{const g=Lt(Oe,"resources"),v=Cn(g),T=(await Mn(v)).docs.map(k=>({id:k.id,...k.data()}));T.length===0?n([{id:"cat",title:"CAT Resources",description:"Comprehensive study materials, mock tests, and guides for Common Admission Test preparation.",icon:"",color:"badge-blue"},{id:"upsc",title:"UPSC Resources",description:"Curated notes, current affairs, and syllabus breakdowns for Civil Services Examination.",icon:"",color:"badge-yellow"},{id:"gate",title:"GATE Resources",description:"Subject-wise notes, previous year questions, and technical resources for Graduate Aptitude Test in Engineering.",icon:"",color:"badge-green"}]):n(T)}catch(g){console.error("Error fetching resources:",g)}finally{s(!1)}},h=e.filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())),p=()=>d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg mb-4"}),d.jsx("div",{className:"h-5 bg-gray-100 rounded w-3/4 mb-3"}),d.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),d.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3"})]});return d.jsx(Wu,{children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:d.jsx(FI,{className:"h-6 w-6"})}),d.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Learning Resources"})]}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Curated study materials and exam preparation guides to help you excel."})]}),d.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Uu,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search resources, exams, or topics...",value:a,onChange:g=>l(g.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all"})]})}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:r?Array.from({length:3}).map((g,v)=>d.jsx(p,{},v)):d.jsx(Ms,{children:h.length>0?h.map(g=>d.jsxs(we.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>t(`/resource/${g.id}`),className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all cursor-pointer group flex items-start gap-4",children:[d.jsx("div",{className:"w-14 h-14 bg-gray-50 rounded-xl flex items-center justify-center text-3xl shrink-0 group-hover:scale-110 transition-transform",children:g.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors",children:g.title}),d.jsx(j7,{className:"h-4 w-4 text-gray-300 group-hover:text-[#0066FF] group-hover:translate-x-1 transition-all"})]}),d.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 leading-relaxed mb-3",children:g.description}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[10px] font-bold text-[#0066FF] bg-blue-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Study Guide"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-50 px-2.5 py-1 rounded-md uppercase tracking-wider",children:"Free Access"})]})]})]},g.id)):d.jsxs("div",{className:"py-16 text-center bg-white rounded-xl border border-gray-200",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:d.jsx(OI,{className:"w-8 h-8"})}),d.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No resources found"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Try different keywords or check back later."})]})})})]})})},Sz=()=>{const t=Pr(),[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState("");b.useEffect(()=>{u()},[]);const u=async()=>{try{const v=Lt(Oe,"roadmaps"),x=Cn(v,Nl("created_at","desc")),k=(await Mn(x)).docs.map(A=>({id:A.id,...A.data()}));n(k)}catch(v){console.error("Error fetching roadmaps:",v)}finally{s(!1)}},h=e.filter(v=>v.title.toLowerCase().includes(a.toLowerCase())||v.description.toLowerCase().includes(a.toLowerCase())),p=v=>{v.link&&(v.link.startsWith("http")||v.link.startsWith("https"))?window.open(v.link,"_blank"):(t(`/roadmap/${v.id}`),window.scrollTo(0,0))},g=()=>d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5 animate-pulse",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl mb-4"}),d.jsx("div",{className:"h-5 bg-gray-100 rounded w-2/3 mb-3"}),d.jsx("div",{className:"h-3 bg-gray-100 rounded w-full mb-2"}),d.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]});return d.jsx(Wu,{children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-[#0066FF]",children:d.jsx(Nh,{className:"h-6 w-6"})}),d.jsx("h1",{className:"text-2xl font-bold text-[#0f172a]",children:"Learning Roadmaps"})]}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Structured paths to help you master new skills and prepare for exams."})]}),d.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm sticky top-[72px] z-10",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(Uu,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search roadmaps by skill or career path...",value:a,onChange:v=>l(v.target.value),className:"block w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#0066FF] focus:bg-white transition-all"})]})}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?Array.from({length:4}).map((v,x)=>d.jsx(g,{},x)):d.jsx(Ms,{children:h.length>0?h.map(v=>d.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},onClick:()=>p(v),className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm hover:shadow-md transition-all cursor-pointer group flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-[#0066FF] group-hover:scale-110 transition-transform",children:d.jsx(Nh,{className:"h-6 w-6"})}),v.is_official&&d.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-yellow-600 bg-yellow-50 px-2 py-1 rounded-md",children:[d.jsx(I8,{className:"h-3 w-3"}),"OFFICIAL"]})]}),d.jsx("h3",{className:"text-lg font-bold text-[#0f172a] group-hover:text-[#0066FF] transition-colors mb-1 line-clamp-1",children:v.title}),d.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 leading-relaxed mb-4 flex-1",children:v.description}),d.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50",children:[d.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:v.category||"General"}),d.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-[#0066FF]",children:["VIEW PATH",d.jsx(e8,{className:"h-3 w-3"})]})]})]},v.id)):d.jsxs("div",{className:"col-span-full py-16 text-center bg-white rounded-xl border border-gray-200",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:d.jsx(Nh,{className:"w-8 h-8"})}),d.jsx("h3",{className:"text-lg font-bold text-[#0f172a] mb-2",children:"No roadmaps found"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Try searching for different skills or paths."})]})})})]})})},Cz=()=>{const t=ts();return ln.useEffect(()=>{if(t.hash){const e=t.hash.substring(1);setTimeout(()=>{const n=document.getElementById(e);if(n){const a=n.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:a,behavior:"smooth"})}},100)}},[t.hash]),t.hash?d.jsxs("main",{className:"bg-white min-h-screen",children:[d.jsx(j8,{}),d.jsx("div",{id:"roadmaps",children:d.jsx(D8,{})}),d.jsx("div",{id:"projects",children:d.jsx(L8,{})}),d.jsx("div",{id:"resources",children:d.jsx(M8,{})}),d.jsx(B8,{}),d.jsx(wz,{})]}):d.jsx(Wu,{children:d.jsx(bz,{})})},Iz=()=>d.jsxs("div",{className:"min-h-screen bg-[#f3f2ef] text-[#0f172a] font-sans",children:[d.jsx(_z,{}),d.jsx($I,{}),d.jsxs(w5,{children:[d.jsx(wr,{path:"/",element:d.jsx(Cz,{})}),d.jsx(wr,{path:"/profile",element:d.jsx(qo,{children:d.jsx(_2,{})})}),d.jsx(wr,{path:"/profile/:userId",element:d.jsx(qo,{children:d.jsx(_2,{})})}),d.jsx(wr,{path:"/students",element:d.jsx(qo,{children:d.jsx(xz,{})})}),d.jsx(wr,{path:"/projects",element:d.jsx(qo,{children:d.jsx(Ez,{})})}),d.jsx(wr,{path:"/resources",element:d.jsx(qo,{children:d.jsx(Tz,{})})}),d.jsx(wr,{path:"/roadmaps",element:d.jsx(qo,{children:d.jsx(Sz,{})})}),d.jsx(wr,{path:"/onboarding",element:d.jsx(qo,{children:d.jsx(lz,{})})}),d.jsx(wr,{path:"/roadmap/:roadmapId",element:d.jsx(iz,{})}),d.jsx(wr,{path:"/resource/:resourceId",element:d.jsx(oz,{})}),d.jsx(wr,{path:"/login",element:d.jsx(az,{})})]})]});AA.createRoot(document.getElementById("root")).render(d.jsx(b.StrictMode,{children:d.jsx($5,{children:d.jsx(Iz,{})})}));
